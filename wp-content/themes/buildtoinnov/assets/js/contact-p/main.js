function OnScreen(e){function t(){!l.animFrame&&l.items.length&&(l.animFrame=requestAnimationFrame(n))}function n(){l.animFrame=null,l.items.forEach(function(e){var t=e.element,n=e.options,s=e.side,o=i(e),r=e.side,l=e.offset,c={side:o?s:r,offset:l,data:n.data},u=t.getAttribute("class").match(new RegExp("\\b("+n.screenEnterClass+"|"+n.screenLeaveClass+")(-(-(top|bottom|left|right)){0,2})*","g"))||[];if(o){if(!e.onscreen){if(e.onscreen=!0,!a(t,"screenenter",c)||n.onScreenEnter&&n.onScreenEnter.call(t,c)===!1)return;u.forEach(function(e){t.classList.remove(e)}),t.classList.add(n.screenEnterClass),t.classList.add(n.screenEnterClass+"--"+s)}}else if(e.onscreen){if(e.onscreen=!1,!a(t,"screenleave",c)||n.onScreenLeave&&n.onScreenLeave.call(t,c)===!1)return;u.forEach(function(e){t.classList.remove(e)}),t.classList.add(n.screenLeaveClass),t.classList.add(n.screenLeaveClass+"--"+r)}!n.disableScreenMove&&(o||n.fireScreenMoveOffScreen)&&(!a(t,"screenmove",c)||n.onScreenMove&&n.onScreenMove.call(t,c)===!1)})}function i(e){var t=e.element.getBoundingClientRect(),n={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0,width:window.innerWidth,height:window.innerHeight},i=s(t,e.options.target),o=s(n,e.options.screen),a=i.top-o.top,r=o.right-i.right,l=o.bottom-i.bottom,c=i.left-o.left,u=o.height-i.height,d=o.width-i.width,h=o.height+i.height,p=o.width+i.width,m={top:a/o.height,right:r/o.width,bottom:l/o.height,left:c/o.width,inside:{top:a/u,right:r/d,bottom:l/u,left:c/d},outside:{top:(i.bottom-o.top)/h,right:(o.right-i.left)/p,bottom:(o.bottom-i.top)/h,left:(i.right-o.left)/p}},f=[];return i.bottom<=o.top?f[f.length]="top":i.top>=o.bottom&&(f[f.length]="bottom"),i.right<=o.left?f[f.length]="left":i.left>=o.right&&(f[f.length]="right"),e.offset=m,f.length?(e.side=f.join("-"),!1):!0}function s(e,t){var n=e.width||e.right-e.left,i=e.height||e.bottom-e.top,s={};return t=t||{},s.top=e.top+(t.top?o(t.top,i):0),s.right=e.right-(t.right?o(t.right,n):0),s.bottom=e.bottom-(t.bottom?o(t.bottom,i):0),s.left=e.left+(t.left?o(t.left,n):0),s.width=s.right-s.left,s.height=s.bottom-s.top,s}function o(e,t){return/\d%$/.test(e)?parseFloat(e)/100*t:parseFloat(e||0)}function a(e,t,n){var i;return"function"==typeof CustomEvent?i=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent"),i.initCustomEvent(t,!0,!0,n)),!!e.dispatchEvent(i)}function r(){var e={};return[].forEach.call(arguments,function(t){for(var n in t)t.hasOwnProperty(n)&&(t[n]&&"[object Object]"==={}.toString.call(t[n])?e[n]=r(e[n]||{},t[n]):e[n]=t[n])}),e}var l=this,c={scrollContainer:[document.body,document.documentElement,window],scroll:!0,resize:!0,load:!0};l.options=r(c,e||{}),l.animFrame=null,l.items=[],l.map={},l.update=t,l.util={mergeObjects:r},l.options.scroll&&[].forEach.call(l.options.scrollContainer,function(e){e.addEventListener("scroll",t)}),l.options.resize&&window.addEventListener("resize",t),l.options.load&&window.addEventListener("load",t)}function assert(e,t){e===!0?console.log(t):console.warn(t)}function Throttle(){var e=this;this.now=Date.now||function(){return new Date.getTime},this.debounce=function(e,t,n){var i;return function(){var s=this,o=arguments,a=function(){i=null,n||e.apply(s,o)},r=n&&!i;clearTimeout(i),i=setTimeout(a,t),r&&e.apply(s,o)}},this.throttle=function(t,n,i){var s,o,a,r=null,l=0;i||(i={});var c=function(){l=i.leading===!1?0:e.now(),r=null,a=t.apply(s,o),r||(s=o=null)};return function(){var u=e.now();l||i.leading!==!1||(l=u);var d=n-(u-l);return s=this,o=arguments,0>=d||d>n?(clearTimeout(r),r=null,l=u,a=t.apply(s,o),r||(s=o=null)):r||i.trailing===!1||(r=setTimeout(c,d)),a}}}function Globals(){}function Url(){this.pathCache=[],this.domain=function(e){var t=(e?e.replace(/^https*:\/\/|(:|\/).*$/g,""):location.hostname).split("."),n=t.length;return t.slice(n-2,n).join(".")},this.section=function(){return((location.pathname.split("/")[1]||"").match(/^[^\.]*$/)||[""])[0]},this.isSecure=function(){return"https:"===location.protocol},this.transformToArray=function(e){for(var t={},n=e.split("&"),i=0;i<n.length;i++){var s=n[i].split("=");t[s[0]]=s[1]}return t},this.params=function(e,t,n){var i=window.location.search.substr(1);return null!==i&&""!==i?this.transformToArray(i):{}},this.path=function(){return this.pathCache=location.pathname.match(/([^\/]+)/g)||[""],this.pathCache},this.getFragment=function(){return location.hash.substring(1)||!1},this.setFragment=function(e){return location.hash=e||"",this},this.baseUrl=function(){var e=window.location;return e.protocol+"//"+e.host},this.completeUrl=function(){var e=this.baseUrl()+"/"+this.path().join("/")+"/",t=e.substr(e.length-2);return"//"===t&&(e=e.substring(0,e.length-1)),e}}function PageType(){this.getType=function(){for(var e,t=$("body").attr("class"),n=["home","about","services","projects","case-study","team","member","contact","jobs","listing"],i=0;i<n.length;i++)-1!==t.indexOf("page-type--"+n[i])&&(e=n[i]);return e},this.type=this.getType(),this.getPageBackground=function(){return $(".page__background")},this.pageBackground=this.getPageBackground(),this.getMain=function(){return $(".main")},this.main=this.getMain(),this.onNewPageLoad=function(){this.pageBackground=this.getPageBackground(),this.main=this.getMain()},this.onPageLeave=function(){this.pageBackground=this.main=this.nextPage=null}}function Browser(){this.getIsWebkit=function(){return-1!=navigator.userAgent.toLowerCase().indexOf("webkit")?!0:!1},this.isWebkit=this.getIsWebkit(),this.getOperatingSystem=function(){var e="";return-1!=navigator.appVersion.indexOf("Win")&&(e+=" windows"),-1!=navigator.appVersion.indexOf("Mac")&&(e+=" osx"),-1!=navigator.appVersion.indexOf("X11")&&(e+=" unix"),-1!=navigator.appVersion.indexOf("Linux")&&(e+=" linux"),FLD.HtmlTag.addClass(e),e},this.IE10=function(e){return RegExp("msie"+(isNaN(e)?"":"\\s10"+e),"i").test(navigator.userAgent)},this.IE11=function(){return/rv:11.0/i.test(navigator.userAgent)},this.checkForGteIE10=function(){var e="";this.IE10(10)&&(e="ie-10"),this.IE11()&&(e="ie-11"),""!=e&&FLD.HtmlTag.addClass("ie "+e)},this.isFirefox=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1?!0:!1},this.isSafari=function(){var e=navigator.userAgent.indexOf("Chrome")>-1,t=navigator.userAgent.indexOf("Safari")>-1;return e&&t&&(t=!1),t},this.operatingSystem=this.getOperatingSystem(),this.CheckForPseudoAnimations=function(){},this.CheckForSVGSupport=function(){},this.checkForClip=function(){var e=document.createElement("x-test"),t="undefined"!=typeof e.style.webkitBackgroundClip&&(e.style.webkitBackgroundClip="text","text"===e.style.webkitBackgroundClip);t?$("html").addClass("clippy"):$("html").addClass("no-clippy")},this.onNewPageLoad=function(){this.checkForGteIE10(),this.isWebkit=this.getIsWebkit(),this.operatingSystem=this.getOperatingSystem(),this.CheckForSVGSupport(),this.checkForClip(),this.CheckForPseudoAnimations()},this.IE=function(e){return RegExp("msie"+(isNaN(e)?"":"\\s"+e),"i").test(navigator.userAgent)},this.onNewPageLoad()}function Resize(){var e=this;this.getBrowserWidth=function(){return FLD.Window.width()},this.BrowserWidth=this.getBrowserWidth(),this.getBrowserHeight=function(){return FLD.Window.height()},this.BrowserHeight=this.getBrowserHeight(),this.Recalculate=function(){this.BrowserHeight=this.getBrowserHeight(),this.BrowserWidth=this.getBrowserWidth()},$(window).on("resize",function(){e.Recalculate()}),$(window).load(function(){e.Recalculate()})}function cdn(){var e=this;this.replaceSrc=function(e){var t=e.src;if(t.indexOf("amazonaws.com")>-1){var n=t.split("fueled-com");e.src=n[1]}},this.replaceBrokenCdnImages=function(){$("img").one("error",function(){e.replaceSrc(this)}),$('[style*="background-image"]').each(function(){var e=$(this),t=e.css("background-image"),n=t.split('"'),i=n[1];if(i&&i.indexOf("amazonaws.com")>-1){var s=new Image;$(s).error(function(){n=i.split("fueled-com");var t=n[1];e.css("background-image",'url("'+t+'")')}).attr("src",i)}})},this.init=function(){this.replaceBrokenCdnImages()},this.init(),this.onNewPageLoad=function(){this.init()}}function MobileNavigation(){var e=this;$("html").hasClass("ie8")||/mobile/i.test(navigator.userAgent)&&!window.location.hash&&setTimeout(function(){window.scrollTo(0,1)},1e3),this.breakpoint=767,this.isMobile=function(){return FLD.Resize.BrowserWidth<=this.breakpoint},this.mobileFlag=this.isMobile(),this.classes={hide:"js--mobile-nav-hide-on-resize"},this.watchAndAddClass=function(){var e=this.isMobile();this.mobileFlag!==e&&(this.mobileFlag=e,this.addRemoveClass())},this.addRemoveClass=function(){this.mobileFlag===!0?($(".main-navigation").addClass(this.classes.hide),setTimeout(function(){$(".main-navigation").removeClass(e.classes.hide)},500)):$(".main-navigation").removeClass(this.classes.hide)},this.addRemoveClass(),$(document).on("touchend click","#nav-toggle",function(e){e.preventDefault(),$("body").hasClass("ios-accellerate")||$("body").addClass("ios-accellerate"),setTimeout(function(){$("html").toggleClass("js--show-menu"),$("html").hasClass("js--show-menu")&&$("html").addClass("js--fade-menu-in"),$("body").hasClass("ios-accellerate")&&($("body").removeClass("ios-accellerate"),setTimeout(function(){$("html").hasClass("js--show-menu")||$("html").removeClass("js--fade-menu-in")},400))},10)}),$(document).on("touchend click",".toggle--social",function(e){$(".menu--social").toggleClass("js--show-social")}),$(document).on("click",".toggle--social",function(e){$(".menu--social").toggleClass("js--show-social")}),$(window).on("resize",function(){e.watchAndAddClass()})}function History(){var e=this,t=window;this.hasAddressChanged=!1,this.baseURL=window.location.protocol+"//"+window.location.host,this.lastAddress="",this.runOnNewPageLoad=function(){FLD.PageType.type=FLD.PageType.getType(),FLD.PageType.onNewPageLoad(),FLD.Resize.Recalculate(),$(".page--services").imagesLoaded(function(){FLD.FlexsliderServices.setUpSliders()}),$(".main-navigation a").blur(),FLD.cdn.onNewPageLoad(),FLD.HomeProjects.onNewPageLoad(),FLD.AboutScroll.onNewPageLoad(),FLD.ExperienceBg.onNewPageLoad(),FLD.HomepageMousewheel.onNewPageLoad(),FLD.Slideshow.onNewPageLoad(),FLD.RandomQuote.onNewPageLoad(),FLD.CaseStudy.onNewPageLoad(),FLD.Contact.onNewPageLoad(),FLD.Chimp.onNewPageLoad(),FLD.OnScreen.onNewPageLoad(),FLD.Jobs.onNewPageLoad(),FLD.NavigationHide.onNewPageLoad(),FLD.NavigationHome.onNewPageLoad(),FLD.HomeUI.onNewPageLoad(),FLD.ProjectsMenu.onNewPageLoad(),FLD.Afterlight.onNewPageLoad(),FLD.Pollen.onNewPageLoad(),FLD.Verizon.onNewPageLoad(),FLD.WarbyParker.onNewPageLoad()},this.runOnPageLeave=function(){},this.setUpAddressLinks=function(){$(document).on("click",'.site-header a:not(".menu__item__link--external, .sub-menu-link, .menu-link--blog"), .js--address',function(e){var n=$(this).attr("href").replace(t.baseURL,"").replace(/^#/,"");$.address.value(n),e.preventDefault()})},this.onAddressInit=function(e){return"#!"===window.location.hash&&"/"===window.location.pathname?void(this.lastAddress="/"):($('.site-header a[href="'+e.path+'"]'),this.lastAddress=e.path,t.hasAddressChanged,void 0)},this.isProjectsList=function(e){var t=/\/projects\/?$"/;return t.test(e)},this.isSingleProject=function(e){var t=/\/projects\/[\w\d\-]+\/?$/;return t.test(e)},this.isProjectsOrProject=function(e){var t=/\/projects\/?[\w\d\-]*\/?$/;return t.test(e)},this.isContactPage=function(e){var t=/\/contact\/?$/;return t.test(e)},this.isHomePage=function(e){var t=/^\/[en|uk]{0,2}\/?$/;return t.test(e)},this.isMemberPage=function(e){var t=/^\/[en|uk]{0,2}\/?(?!about|services|team|projects|jobs|contact|press|ventures)[\w\-]+\/?$/;return t.test(e)},this.onAddressChange=function(e){if("#!"!==window.location.hash||"/"!==e.path){var t={};t.url=e.path,t.nav_item=$('.site-header a[href="'+t.url+'"]'),this.hasAddressChanged&&""===e.queryString&&(this.runOnPageLeave(),this.loadContent(t.url,e)),this.hasAddressChanged=!0}},this.init=function(){!Modernizr.history||Modernizr.touch||FLD.Browser.IE(10)||(this.setUpAddressLinks(),$.address.init(function(t){e.onAddressInit(t)}),$.address.tracker(function(e){_gaq.push(["_trackPageview",decodeURI(e)])}),$.address.change(function(t){e.isMemberPage(t.value)&&!e.isHomePage(t.value)?$.address.loadType("member"):$.address.loadType(null),e.onAddressChange(t)})),$(".loading-element__title").text("Loading"),$(".loading-element__description").text("Loading")},this.init(),this.getNewPageData=function(e){var t={};return t.title=e.match("<title>(.*?)</title>")[1],t.classes=/body([^>]*)class=(["']+)([^"']*)(["']+)/gi.exec(e.substring(e.indexOf("<body"),e.indexOf("</body>")+7))[3],t},this.loadContent=function(e,t){FLD.Globals.clearSelection();var n=this.lastAddress.replace(/\//g,"");this.isSingleProject(t.path)?this.loadProject(e,t,n):"member"===$.address.loadType()?this.loadMember(e,t,n):this.isContactPage(t.path)&&1==t.parameterNames.length&&"true"===t.parameters.success||this.loadPage(e,t,n),this.lastAddress=t.value},this.isOldProject=function(e){var t=$.inArray(e,["cleancube","jack-threads","pg","discovery","weride","kapture","ducati","ribbon","porsche","elevatr"]);return-1!==t},this.sanitizeSlug=function(e){e=e.split("/").clean("");var t=e[e.length-1];return t},this.loadProject=function(t,n,i){$("html").addClass("show-loading"),setTimeout(function(){$("#masthead").removeClass("hide-nav")},175),$('<span class="progress"><span class="meter"></span></span>').insertBefore(".loading__text");var s=this.sanitizeSlug(t),o=cdn_url+"/assets/css/cs-"+s+".css?q="+query_string,a=cdn_url+"/assets/css/cs-global.css?q="+query_string;$(document.createElement("img")).attr({src:o}).on("error",function(){$("[data-js='dynamic-project-global-stylesheet']").remove(),e.isOldProject(s)||$('<link rel="stylesheet" data-js="dynamic-project-global-stylesheet" type="text/css" href="'+a+'" />').appendTo("head"),$('<link rel="stylesheet" data-js="dynamic-project-stylesheet" type="text/css" href="'+o+'" />').appendTo("head"),$(".loading__element").afterTransition(function(){$(".site-header .nav--project").remove(),$.ajax({url:t}).done(function(i){var s=$(i).find(".page--project");if($(s).attr("data-custom-typekit")){var o=$(s).attr("data-custom-typekit"),a=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.onreadystatechange=function(){if("complete"==this.readyState)try{Typekit.load()}catch(e){}},r.onload=function(){try{Typekit.load()}catch(e){}},r.src="//use.typekit.net/"+o+".js",a.appendChild(r)}var l=$(i).find(".page-wrap"),c=$(i).find("img").length,u=0;$(i).find("img").load(function(){if(++u,$(".meter").css({width:u/c*100+"%"}),u==c){if($(".progress").fadeOut(100),$("#page").html(l),e.isSingleProject(n.path)){var s=$(i).find(".nav--project").eq(0);s.insertAfter(".site-header .wrap")}e.doAfterPageLoad(i,{});var o=e.sanitizeSlug(t);$("[data-js='dynamic-project-stylesheet']").not("[href*='"+o+"']").remove()}})})})})},this.addMetaData=function(t){var n=e.getNewPageData(t);document.title=n.title,$("body").attr("class",n.classes)},this.doAfterPageLoad=function(t,n){var n=n||{};n.url||"",this.addMetaData(t),$("html").addClass("hide-loading"),$(".loading__element").afterTransition(function(){$("html").removeClass("hide-loading show-loading"),$("body").addClass("page-loaded"),e.runOnNewPageLoad(),"projects"===FLD.PageType.type&&($("body").addClass("slide-showcase-in"),$(".work").addClass("js--work--in")),$("#masthead").css({height:56,overflow:"hidden"}),$(".main-navigation").removeClass("js--hide-main-nav"),setTimeout(function(){$("#masthead").removeAttr("style")},900)})},this.loadPage=function(t,n,i){if($("html").addClass("show-loading"),setTimeout(function(){$("body,html").scrollTop(0),$("#masthead").removeClass("hide-nav")},175),e.isSingleProject(n.path)){var s=this.sanitizeSlug(t),o=cdn_url+"/assets/css/cs-"+s+".css?q="+query_string,a=cdn_url+"/assets/css/cs-global.css?q="+query_string;$.ajax({url:o,success:function(){$("[data-js='dynamic-project-global-stylesheet']").remove(),e.isOldProject(s)||$('<link rel="stylesheet" data-js="dynamic-project-global-stylesheet" type="text/css" href="'+a+'" />').appendTo("head"),$('<link rel="stylesheet" data-js="dynamic-project-stylesheet" type="text/css" href="'+o+'" />').appendTo("head"),$(".loading__element").afterTransition(function(){$(".site-header .nav--project").remove(),$.ajax({url:t}).done(function(i){var s=$(i).find(".page--project");if($(s).attr("data-custom-typekit")){var o=$(s).attr("data-custom-typekit"),a=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.onreadystatechange=function(){if("complete"==this.readyState)try{Typekit.load()}catch(e){}},r.onload=function(){try{Typekit.load()}catch(e){}},r.src="//use.typekit.net/"+o+".js",a.appendChild(r)}var l=$(i).find(".page-wrap");if($("#page").html(l),e.isSingleProject(n.path)){var c=$(i).find(".nav--project").eq(0);c.insertAfter(".site-header .wrap")}e.doAfterPageLoad(i,{});var u=e.sanitizeSlug(t);$("[data-js='dynamic-project-stylesheet']").not("[href*='"+u+"']").remove()})})}})}else $(".loading__element").afterTransition(function(){$(".site-header .nav--project").remove(),$.ajax({url:t}).done(function(n){var i=$(n).find(".page-wrap");$("#page").html(i);var s={url:t};e.isHomePage(t)&&FLD.RandomImage.onNewPageLoad(),e.doAfterPageLoad(n,s);var o=e.sanitizeSlug(t);$("[data-js='dynamic-project-stylesheet']").not("[href*='"+o+"']").remove()})})},this.loadMember=function(t,n,i){$("html").addClass("show-loading"),setTimeout(function(){$("body,html").scrollTop(0),$("#masthead").removeClass("hide-nav")},175),$(".loading__element").afterTransition(function(){$(".site-header .nav--project").remove(),$.ajax({url:t}).done(function(n){var i=$(n).find(".page-wrap");$("#page").html(i),e.addMetaData(n),FLD.PageType.type=FLD.PageType.getType(),FLD.Member.onNewPageLoad();var s=e.sanitizeSlug(t);$("[data-js='dynamic-project-stylesheet']").not("[href*='"+s+"']").remove()})})}}function ScrollHandler(){var e=this;this.onScreen=new OnScreen,this.revealItems=[],this.getRevealItems=function(){return this.onScreen.empty(),[].forEach.call(document.querySelectorAll(".cs__reveal, .js--reveal"),function(t,n){e.onScreen.addItem(t,{screen:{bottom:100*parseFloat(t.getAttribute("data-reveal")||.1667)+"%"},screenEnterClass:"js--show",screenLeaveClass:"js--show",disableScreenMove:!0}),["data-reveal-toggle","data-reveal-show","data-reveal-hide"].forEach(function(e,n){if(e=t.getAttribute(e),null!==e){var i=$.trim(e),s=/^[>+~]/.test(i)?t:document.body;$(i||t,s).off("click.reveal-"+n).on("click.reveal-"+n,function(e){$(t).toggleClass("js--show",0===n?void 0:1===n),e.preventDefault()})}})}),this.onScreen.items},this.updateRevealItesm=function(e){},this.onNewPageLoad=function(){this.getRevealItems(),this.onScreen.update()},this.onNewPageLoad(),this.onPageLeave=function(){this.onScreen.empty()}}function Scroll(){var e=this;e.hasScrolled=!1,this.getScrollTop=function(){return FLD.Window.scrollTop()},this.scrollTop=this.getScrollTop(),this.scrollTopV=this.getScrollTop(),this.throttle=$.throttle(navigator.userAgent.toLowerCase().indexOf("firefox")>-1?50:250,!0,function(){this.scrollTop=this.getScrollTop(),this.scrollTopV=this.getScrollTop()}),FLD.Window.on("scroll",function(t){e.hasScrolled||(e.hasScrolled=!0,$("body").addClass("page--has-scrolled")),e.throttle()})}function updateOnScroll(e){this.scrollTop=e}function Flexslider(){var e=this;this.setUpSliders=function(){$(".page--services .content__text").flexslider({animation:"fade",animationSpeed:600,selector:".content__text__slides > .content__text__slide",slideshow:!1,smoothHeight:!0,controlNav:!0,touch:!1,directionNav:!1,controlsContainer:".page--services > .wrap",manualControls:".menu--flexslider li",start:function(e){var t={};t.slides=e.slides,t.current=$(t.slides[e.currentSlide]),t.title=t.current.attr("data-slide-title"),t.groups=t.current.attr("data-svgs").split(","),t.svg=$(".svg-services"),$(".content__graphic").removeClass().addClass("content__graphic "+t.title),$(".content__text").addClass("flexslider-active"),FLD.Resize.Recalculate()},before:function(e){var t={};t.slides=e.slides,t.current=$(t.slides[e.animatingTo]),t.title=t.current.attr("data-slide-title"),t.groups=t.current.attr("data-svgs").split(","),t.svg=$(".svg-services"),$(".content__graphic").removeClass().addClass("content__graphic "+t.title),$(".page--services .content").addClass("animate")},after:function(e){$(".page--services .content").removeClass("animate")}}),$(".services__iphone__copy").flexslider({animation:"fade",animationSpeed:750,selector:".services__iphone__copy__slider > div",smoothHeight:!0,slideshow:!1,controlNav:!0,touch:!1,directionNav:!1,controlsContainer:".services__iphone__progress",manualControls:".services__iphone__controls a",start:function(e){var t={};t.slides=e.slides,t.current=$(t.slides[e.currentSlide]),t.phoneSelector=t.current.attr("data-phone"),t.phone=$(t.phoneSelector),t.siblings=t.phone.siblings(),Modernizr.svg&&t.siblings.each(function(e,t){t=$(t),t.attr("class",t.attr("class").replace("js--active",""))}),t.phone.attr("class",t.phone.attr("class")+" js--active"),FLD.Resize.Recalculate()},before:function(e){var t={};t.slides=e.slides,t.current=$(t.slides[e.animatingTo]),t.phoneSelector=t.current.attr("data-phone"),t.phone=$(t.phoneSelector),t.siblings=t.phone.siblings(),Modernizr.svg&&t.siblings.each(function(e,t){t=$(t),t.attr("class",t.attr("class").replace("js--active",""))}),t.phone.attr("class",t.phone.attr("class")+" js--active")}}),$(".slideshow--testimonials").flexslider({animation:"slide",animationSpeed:750,selector:".slideshow__slides > .slideshow__slide",slideshow:!1,controlNav:!1,touch:!1,directionNav:!0,smoothHeight:navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)?!0:!1,start:function(e){FLD.Resize.Recalculate()}})},this.onNewPageLoad=function(){this.setUpSliders()},$(".page--services").imagesLoaded(function(){e.setUpSliders()}),$(document).on("click",".svg--services-phone__screen",function(e){$(".services__iphone__copy").flexslider(parseInt($(this).attr("data-slide"))),e.preventDefault()})}function NavigationHide(){var e=this;this.lastScroll=FLD.Scroll.getScrollTop(),this.mouseY=0,this.mouseEnteredTop=!1,this.direction="",this.isLoadingBetweenCaseStudy=!1,this.hasShownCarousel=!1,this.hasHiddenMenu=!1,this.hasShownCaseStudyFooter=!1,this.scrollThreshold="home"===FLD.PageType.type?240:60,this._onMouseMove=function(e){this.mouseY=e.clientY,this.mouseY<100?this.mouseEnteredTop!==!0&&(this.mouseEnteredTop=!0,FLD.Header.removeClass("hide-nav")):this.mouseEnteredTop!==!1&&(this.mouseEnteredTop=!1)},this.updateCarouselVisibility=function(e){this.isLoadingBetweenCaseStudy===!0||Modernizr.touch||e>=FLD.Resize.BodyHeight-1.1*FLD.Resize.BrowserHeight},this._onMouseWheel=function(e){var t=FLD.Scroll.getScrollTop();t>0&&(0>e&&t>=this.scrollThreshold&&this.hasHiddenMenu===!1&&(FLD.BodyTag.removeClass("carousel-active"),FLD.Header.addClass("hide-nav"),this.hasHiddenMenu=!0),e>0&&this.hasHiddenMenu===!0&&(FLD.Header.removeClass("hide-nav"),this.hasHiddenMenu=!1),"case-study"==FLD.PageType.type&&this.updateCarouselVisibility(t)),t<FLD.Resize.BodyHeight-FLD.Resize.BrowserHeight&&this.hasShownCarousel===!0&&(FLD.BodyTag.removeClass("carousel-active"),this.hasShownCarousel=!1)},this._hideTabOnScroll=function(e){},this._showTabOnScroll=function(e){},this._onCaseStudyMouseWheel=function(e){var t=FLD.Scroll.getScrollTop();t>=FLD.Resize.BodyHeight-FLD.Resize.BrowserHeight&&0>e&&this.hasShownCarousel===!1&&(this.showCarouselAtEndOfPage(),this.hasShownCarousel=!0)},this._onCaseStudyMouseWheelEnd=function(e){var t=FLD.Scroll.getScrollTop();t>=FLD.Resize.BodyHeight-FLD.Resize.BrowserHeight&&e>0&&this.hasShownCarousel===!0&&(this.hideCarouselAtEndOfPage(),this.hasShownCarousel=!1)},this.showCarouselAtEndOfPage=function(){FLD.BodyTag.removeClass("js--animate-carousel").addClass("js--show-carousel js-disable-scrolling"),FLD.BodyTag.addClass("carousel-active")},this.hideCarouselAtEndOfPage=function(){FLD.BodyTag.removeClass("carousel-active")},this.onMouseMove=$.throttle(250,!1,function(e){this._onMouseMove(e)}),this.onMouseEnd=$.debounce(50,!1,function(e){FLD.Window.scrollTop()<56&&FLD.Header.removeClass("hide-nav")}),this.onMouseWheel=$.throttle(150,!1,function(e){this._onMouseWheel(e)}),this.hideTabOnScroll=$.debounce(250,!0,function(e){this._hideTabOnScroll(e)}),this.showTabOnScroll=$.debounce(250,!1,function(e){this._showTabOnScroll(e)}),this.onCaseStudyMouseWheel=$.debounce(50,!1,function(e){this._onCaseStudyMouseWheel(e)}),this.onCaseStudyMouseWheelEnd=$.debounce(50,!0,function(e){this._onCaseStudyMouseWheelEnd(e)}),this.touchStart=0,this.touchLast=0,this.touchCurrent=0,this.touchDirection=null,this.hasTouchedToggle=!1,this.getCarousel=function(){return $(".carousel-wrap")},this.carousel=this.getCarousel(),this.getCarouselHeight=function(){return this.carousel.height()},this.carouselHeight=this.getCarouselHeight(),this.carouselBottom=this.carousel.css("bottom"),this.onNewPageLoad=function(){this.hasShownCaseStudyFooter=!1,this.carousel=this.getCarousel(),this.carouselHeight=this.getCarouselHeight(),this.carouselBottom=this.carousel.css("bottom"),this.scrollThreshold="home"===FLD.PageType.type?140:60},this.onNewPageLoad(),Modernizr.csstransitions&&!Modernizr.touch&&($(document).on("mousewheel",'body:not(".loading-project")',function(t,n,i,s){FLD.BodyTag.hasClass("js-disable-scrolling")||(e.onMouseWheel(s),e.onMouseEnd(t))}),$(document).on("mousewheel",".single-project",function(t,n,i,s){e.hideTabOnScroll(s),e.showTabOnScroll(s)}),$(window).on("mousemove",function(t){e.onMouseMove(t)})),$(window).load(function(){e.carouselHeight=e.getCarouselHeight()}),FLD.Window.on("resize",function(){e.carouselHeight=e.getCarouselHeight()})}function Member(){var e=this;this.classes={body:"page-type--member",nowPlaying:"team__music__now-playing",musicProviderPrefix:"team__music__list--",searchFailed:"js--search-failed",searchSearching:"js--search-searching",searchEmpty:"js--search-empty"},this.host=core_team_json_host.replace("http://","https://"),this.requests={url:this.host+"wp-json/posts/?type[]=team_member&filter[name]="},this.selectors={lastfmTracks:'[data-js="populate-with-lastfm-tracks"]',dribbbleShots:'[data-js="populate-with-dribbble-shots"]',instaLocation:"[data-insta-location]",instaLikes:"[data-comma-insta]",musicProviderButton:'[data-js="add-music-logo"]',twitterFeed:'[data-js="populate-with-tweets"]',search:'[data-js="search-for-team-member"]',searchInput:'[data-js="search-input-for-team-member"]',stravaData:'[data-js="populate-with-strava-data"]'},this.svgs={nowPlaying:"now-playing",spotify:"spotify-logomark",rdio:"rdio-logomark",soundcloud:"soundcloud-logomark"},this.apiKeys={dribbble:"a443ff06fbafb77f8ed2fd6f14862934f92a63d29adedd1366e5fd1487d5dbc3",lastfm:"6af3607d64acafa7d2cb647eb66614d5",instagram:"9a333cd7a22b436e9b6765dc1056e225",instagramAccess:"290659090.9a333cd.dee155579f244884b8d829f13bccd353",soundcloud:"875ccbfb89340c3cd14f034767f712bc"},this.attributes_prefix="team_member_",this.defaultTerms=["title","slug"],this.customTerms=["biography","given_name","address","last_fm_username","office_location","phone_number","rdio_or_spotify","subtitle","twitter_handle"],this.customTermsFunctions=["email_address","dribbble_handle","facebook_handle","instagram_handle","linkedin_handle","twitter_handle","stat_1_label","stat_1_value","stat_2_label","stat_2_value","stat_3_label","stat_3_value","stat_4_label","stat_4_value"],this.booleanTerms=["show_biography","show_dribbble_feed","show_instagram_feed","show_twitter_feed","show_music"],this.imageTerms=["avatar"],this.attributes={},this.isMember=function(){if("member"===FLD.PageType.type){var e=FLD.Url.path();return e[e.length-1]}return!1},this.customAttributePath=function(e){return this.attributes.custom_team_options[this.attributes_prefix+e]},this.getCustomAttribute=function(e){var t=this.customAttributePath(e);return t?t:!1},this.getBooleanAttribute=function(e){var t=parseInt(this.customAttributePath(e),10);return!!t},this.setUpAPIs=function(t){e.dribbble(t.dribbble),e.lastfm({username:t.lastfm.username,provider:t.lastfm.provider}),e.instagram({username:t.instagram.username}),e.twitter({username:t.twitter.username}),e.strava({token:t.strava.token,number:1})},this.twitter=function(e){var t=this.getBooleanAttribute("show_twitter_feed");if(t&&e.username){var n={profile:{screenName:e.username},domId:"",maxTweets:3,showUser:!1,customCallback:this.handleTweets,showInteraction:!1};twitterFetcher.fetch(n)}else $(".team__twitter").remove()},this.handleTweets=function(t){var n=t.length,i=0,s="";if(t.length>=3){for(;n>i;){var o=$("<div/>").html(t[i]),a=o.children(".tweet:first").html(),r=o.children(".timePosted:first"),l=r.html(),c=r.children("a").attr("href").split("/")[3],u=e.getCustomAttribute("twitter_handle").toLowerCase(),d=c.toLowerCase()==u?"":'RT <a href="https://twitter.com/'+c+'">@'+c+"</a>: ";s+='<li class="team__twitter__item" data-tweet-item>',s+=l.replace("<a href",'<a class="team__twitter__date" href').replace(/Posted\s(on\s)?/gi,""),s+='<span class="team__twitter__tweet">'+d+a+"</span>",s+="</li>",i++}$(e.selectors.twitterFeed).html(s)}else $(".team__twitter").remove()},this.instagram=function(t){var n=this.getBooleanAttribute("show_instagram_feed");n&&t.username?$.get("/api/teams/instagram/"+t.username,function(e){}).done(function(t){if(t.length>=8){var n="";$.each(t,function(t,i){if(8>t){if(image=!1,i.images){var s=i.images.standard_resolution||{},o=i.images.low_resolution||{},a=i.images.thumbnail||{},r=s.url||!1,l=o.url||!1,c=a.url||!1;image=r||l||c}n+=e.createInstagramTemplate({link:i.link,likes:i.likes?i.likes.count:0,location:i.location?i.location.name||!1:!1,image:image})}}),$("#instafeed").html(n)}else $(".team__instagram").remove()}).fail(function(e){$(".team__instagram").remove()}):$(".team__instagram").remove()},this.createInstagramTemplate=function(t){var t=t||{},n=t.link||"#",i=t.likes||0,s=t.location||!1,o=t.image||"",a='<li class="team__insta__item" data-insta-item>';return a+='<a class="team__insta__link" href="'+n+'" target="_blank">',a+='<span class="team__insta__image" style="background-image: url('+o+');">',a+='<div class="team__insta__overlay">',a+='<span class="team__insta__image--blur" style="background-image: url('+o+');"></span>',a+='<span class="team__insta__text--subtitle">',a+='<span class="team__insta__icon--like">'+e.numberWithCommas(i)+"</span> ",a+="</span>",a+='<span class="team__insta__text--subtitle">',s&&(a+='<span class="team__insta__icon--location">'+s+"</span> "),a+="</span>",a+="</div>",a+="</a>",a+="</li>"},this.bio=function(){var e=this.getBooleanAttribute("show_biography");return e===!1&&$(".team__about").remove(),this},this.dribbble=function(t){var n=this.getBooleanAttribute("show_dribbble_feed");n&&t?$.jribbble.setToken(e.apiKeys.dribbble).users(t).shots({}).then(function(t){var n="",i=$(e.selectors.dribbbleShots);t.length>=8?$.each(t,function(t,i){8>t&&(opts={},images=i.images||{},hidpi=images.hidpi||images.normal||{},opts.title=i.title,opts.date=i.created_at,opts.image=hidpi.indexOf(".gif")>-1?(images.hidpi?images.normal:images.teaser)||images.teaser:hidpi,opts.url=i.html_url,opts.views=i.views_count,opts.likes=i.likes_count,n+=e.createShot(opts))}):$(".team__dribbble").remove(),i.empty().append(n)}):$(".team__dribbble").remove()},this.createShot=function(t){var n=($("<div/>").html(t.desc).text().trunc(75,!0),'<li class="team__dribbble__item">');return n+='<a class="team__dribbble__link" href="'+t.url+'">',n+='<span class="team__dribbble__image" style="background-image: url('+t.image+');">',n+='<div class="team__dribbble__overlay">',n+='<span class="team__dribbble__image--blur" style="background-image: url('+t.image+');"></span>',n+='<span class="team__dribbble__text--title">'+t.title+"</span>",n+='<span class="team__dribbble__text--data">',n+='<span class="team__dribbble__icon--view">'+e.numberWithCommas(t.views)+"</span> ",
n+='<span class="team__dribbble__icon--like">'+e.numberWithCommas(t.likes)+"</span>",n+="</span>",n+="</div>",n+="</a>",n+="</li>"},this.lastfm=function(t){var n=this.getBooleanAttribute("show_music");if(n){var i=$(e.selectors.lastfmTracks),s="",o=0;"soundcloud"===t.provider?$.getJSON("https://api.soundcloud.com/resolve.json?url=https://soundcloud.com/"+t.username+"&client_id="+e.apiKeys.soundcloud,function(n){var a=n.id;t.url=n.permalink_url,e.musicProvider(t),$.getJSON("https://api.soundcloud.com/users/"+a+"/favorites?client_id="+e.apiKeys.soundcloud+"&limit=3",function(t){var n=t;if(n.length<3)$(".team__music").remove();else{for(;3>o;){var a=n[o],r={};r.isPlaying=!1,r.song=a.title,r.album=!1,r.artist=a.user.username||!1,r.cover=a.artwork_url?a.artwork_url.replace("-large.jpg","-t300x300.jpg"):!1,r.url=a.permalink_url,s+=e.createAlbum(r),o++}i.empty().append(s)}})}):(e.musicProvider(t),$.getJSON("https://ws.audioscrobbler.com/2.0/?method=user.getrecenttracks&user="+t.username+"&api_key="+e.apiKeys.lastfm+"&format=json&limit=3",function(t){if("0"!==t.recenttracks.total)for(var n=t.recenttracks.track;3>o;){var a=n[o],r={};r.isPlaying=a["@attr"]?a["@attr"].nowplaying:!1,r.song=a.name,r.album=a.album["#text"],r.artist=a.artist["#text"],r.cover=a.image[3]["#text"],r.url=a.url,s+=e.createAlbum(r),o++}i.empty().append(s)}))}else $(".team__music").remove()},this.musicProvider=function(t){$(e.selectors.lastfmTracks).addClass(e.classes.musicProviderPrefix+t.provider);var n=$(e.selectors.musicProviderButton),i=n.html(),s=i+' on <span class="visuallyhidden">'+t.provider.capCase()+"</span>"+e.getSvg(e.svgs[t.provider],""),o="spotify"===t.provider?"https://open.spotify.com/user/":"https://rdio.com/people/";o=t.url?t.url:o+this.getCustomAttribute(t.provider+"_username"),n.attr("href",o).html(s).attr("title",n.text())},this.createAlbum=function(t){var n=t.cover?' style="background-image: url('+t.cover+');"':"",i='<li class="team__music__item--'+(t.isPlaying?"playing":"not-playing")+'">';return i+="<a"+(t.url?' href="'+t.url+'"':"")+' class="team__music__album">',i+=t.isPlaying?e.getSvg(e.svgs.nowPlaying,e.classes.nowPlaying):"",i+='<span class="team__music__cover"'+n+"></span>",i+='<div class="team__music__title-card">',i+='<span class="team__music__cover--blur"'+n+"></span>",i+='<span class="team__music__text--title">'+(t.song?t.song.trunc(45,!0):"Unknown track")+"</span>",i+='<span class="team__music__text--artist">'+(t.artist?t.artist.trunc(45,!0):"Unknown artist")+"</span>",i+=t.album?'<span class="team__music__text--album">'+t.album.trunc(45,!0)+"</span>":"",i+="</div>",i+="</a>",i+="</li>"},this.strava=function(t){var n=this.getBooleanAttribute("show_strava");if(n){var i=t.number;$.getJSON("https://www.strava.com/api/v3/athlete/activities?per_page="+i+"&access_token="+t.token+"&callback=?",function(t){if(t.length>=i){var n=$(e.selectors.stravaData),s="",o=0;for(maps=[];i>o;){if(t[o]){var a=t[o],r={};r.idx=o,r.date=a.start_date_local||!1,r.title=a.name,r.duration=a.elapsed_time,r.distance=a.distance,r.url="https://strava.com/activities/"+a.id,r.discipline=a.type,r.extra={},r.extra.heart=a.average_heartrate,r.extra.speed=a.average_speed,r.extra.kilojoules=a.kilojoules,r.extra.elevation=a.total_elevation_gain,r.extra.awards=a.achievement_count,null!=a.start_latitude?(r.hasMap=!0,map={},map.lat=[a.start_latlng[0],a.end_latlng[0]],map.lng=[a.start_latlng[1],a.end_latlng[1]],map.line=a.map.summary_polyline,maps.push(map)):(r.hasMap=!1,maps.push(null)),s+=e.createActivity(r),r.hasMap||$(".team__strava").addClass("team__strava--loaded")}o++}n.empty().append(s),e.stravaMapSetup(maps)}else $(".team__strava").remove()})}else $(".team__strava").remove()},this.createActivity=function(t){var n=t.discipline.toLowerCase(),i="",s=t.extra,o="",a=["January","February","March","April","May","June","July","August","September","October","November","December"],r=new Date(t.date),l=new Date,c=e.rationaliseDigit(r.getDate())+" "+a[r.getMonth()].substring(0,3)+(r.getFullYear()<l.getFullYear()?" "+r.getFullYear().toString().substring(2,4):""),u=$('[data-json-replace="given_name"]:first').text(),d='<time datetime="'+r+'" class="team__strava__date">'+c+"</time>";if(t.distance&&(i+=e.stravaDataItem("distance",e.getDistance(t.distance),stravaTranslations.metrics.distance)),t.duration&&(i+=e.stravaDataItem("duration",e.getDuration(t.duration,""),stravaTranslations.metrics.duration)),s){if(s.speed)if("ride"==n)o+=e.stravaDataItem("pace",e.getSpeed(s.speed),stravaTranslations.metrics.speed);else{var h="swim"==n?{distance:100,unit:"100m"}:{distance:1e3,unit:"km"};o+=e.stravaDataItem("pace",e.getPace(s.speed,h.distance,h.unit),stravaTranslations.metrics.pace)}s.heart&&(o+=e.stravaDataItem("hr",e.getHeartRate(s.heart),stravaTranslations.metrics.hr)),s.elevation&&(o+=e.stravaDataItem("elevation",e.getElevation(s.elevation),stravaTranslations.metrics.elevation)),s.awards&&(o+=e.stravaDataItem("awards",s.awards,stravaTranslations.metrics.awards))}var p=["%{name}","%{discipline}","%{date}"],m=[u,stravaTranslations.disciplines[n],d],f='<li class="team__strava__item--'+(t.hasMap?"":"no-map--")+n+'">';return f+='<a href="'+t.url+'" target="_blank" class="team__strava__overlay" title="Check out '+u+'’s activity on Strava">',f+='<div class="wrap">',f+='<div class="team__strava__content">',f+='<span class="team__strava__subtitle">'+e.stravaTranslateTitle(stravaTranslations.activity,p,m)+"</span>",f+='<h3 class="team__strava__title">'+t.title+"</h3>",f+=i||s?'<p class="team__strava__data">'+i+o+"</p>":"",f+="</div>",f+="</div>",f+="</a>",f+=t.hasMap?'<div class="team__strava__map" id="map--'+t.idx+'"></div>':"",f+="</li>"},this.stravaTranslateTitle=function(e,t,n){return e.replaceArray(t,n)},String.prototype.replaceArray=function(e,t){for(var n=this,i=0;i<e.length;i++)n=n.replace(e[i],t[i]);return n},this.stravaDataItem=function(e,t,n){var i='<span class="team__strava__data-item--'+e+'">';return i+='<span class="team__strava__data-label">'+n.replace("Average",'<abbr title="Average">Avg</abbr>')+'<span class="visuallyhidden">: </span></span>',i+='<span class="team__strava__data-value">'+t+" </span>",i+="</span>"},this.stravaMapSetup=function(t){var n=0;for(ourMaps=[];n<=t.length-1;)t[n]&&e.stravaCreateMap(t[n],n),n++},this.getDuration=function(t,n){var i=t,s=Math.floor(i/3600);i-=3600*s;var o=Math.floor(i/60);if(i-=60*o,"hh:mm:ss"==n)c=(s?s+":":"")+e.rationaliseDigit(o)+":"+e.rationaliseDigit(i);else var a=s>0?s+"&#8202;h ":"",r=o>0||a?o+"&#8202;m ":"",l=i>0||r?i+"&#8202;s":"",c=a+r+l;return c},this.getPace=function(t,n,i){return e.getDuration(n/t,"hh:mm:ss")+"&#8202;/"+i},this.getSpeed=function(t){return e.roundToNum(3.6*t,2)+"&#8202;kph"},this.getElevation=function(e){return e+"&#8202;m"},this.getHeartRate=function(t){return e.roundToNum(t,0)+"&#8202;bpm"},this.getDistance=function(t){return e.roundToNum(t/1e3,2)+"&#8202;km"},this.rationaliseDigit=function(e){return(10>e?"0":"")+Math.floor(e)},this.roundToNum=function(e,t){return+(Math.round(e+"e+"+t)+"e-"+t)},this.stravaCreateMap=function(t,n){var i=(ourMaps[n],t.lat[0]-(t.lat[0]-t.lat[1])/2),s=t.lng[0]-(t.lng[0]-t.lng[1])/2,o=new google.maps.LatLng(i,s),a={zoom:13,center:o,mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1,styles:[{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels",stylers:[{visibility:"off"}]},{stylers:[{lightness:-80},{gamma:.89},{saturation:-100}]}],disableDefaultUI:!0,draggable:!1},r=google.maps.geometry.encoding.decodePath(t.line),l=e.decodeLevels("BB");e.thisMap=[],e.thisMap[n]=new google.maps.Map(document.getElementById("map--"+n),a),e.setRegion=[],e.setRegion[n]=new google.maps.Polyline({path:r,levels:l,strokeColor:"#ae0000",strokeOpacity:1,strokeWeight:4,map:e.thisMap[n]}),e.centerMap(e.setRegion[n],e.thisMap[n]),$(".team__strava").addClass("team__strava--loaded"),$(window).on("resize",$.debounce(100,!1,function(){"member"==FLD.PageType.type&&$("#map--0").length&&e.centerMap(e.setRegion[0],e.thisMap[0])}))},this.centerMap=function(e,t){var n=new google.maps.LatLngBounds;e.getPath().forEach(function(e){n.extend(e)}),t.fitBounds(n)},this.decodeLevels=function(e){for(var t=[],n=0;n<e.length;++n){var i=e.charCodeAt(n)-63;t.push(i)}return t},this.getSvg=function(e,t){var n=document.getElementById(e),i=new XMLSerializer,s=i.serializeToString(n);return s.replace("visuallyhidden",t)},this.numberWithCommas=function(e){if(!e)return 0;var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},this.checkForDividers=function(){$(".team__instagram + .team__dribbble").length&&$(".team__instagram").after('<div class="team__divider--instagram-dribbble"></div>')},this.populateField=function(t){var n=$('[data-json-replace="'+t.id+'"]'),i=t.custom?this.getCustomAttribute(t.id):e.attributes[t.id];n.html(i)},this.populate=function(){$.each(e.customTerms,function(t,n){e.populateField({id:n,custom:!0})}),$.each(e.defaultTerms,function(t,n){e.populateField({id:n,custom:!1})}),$("[data-json-replace-custom]").each(function(){var t=$(this),n=t.attr("data-json-replace-custom");if("email_address"==n){var i=e.getCustomAttribute(n);t.attr("href","mailto:"+i).html(i.replace("@","<wbr>@"))}if("biography"==n){var s=e.getCustomAttribute(n)||"",o=s.replace(/\n/g,"").replace(/\r\r/g,"</p><p>");t.html(o)}"twitter_handle"==n&&t.attr("href","https://twitter.com/"+e.getCustomAttribute(n)).attr("title","Follow "+e.getCustomAttribute("given_name")+" on Twitter")});var t=!1;$("[data-json-replace-social]").each(function(){var n=$(this),i=n.attr("data-json-replace-social"),s=e.getCustomAttribute(i);if(s){var o=n.children("a");o.attr("href",o.attr("data-link")+s),t=!0}else n.hide()}),t||$(".team__social").hide(),$("[data-json-replace-phone]").each(function(){var t=$(this),n=t.attr("data-json-replace-phone"),i=(t.attr("href"),e.getCustomAttribute(n));i&&(t.attr("href","tel:"+i.replace(/[\s\-\.]/gi,"")),t.html(i))}),$("[data-json-replace-google-map]").each(function(){var t=$(this),n=t.attr("data-json-replace-google-map"),i=e.getCustomAttribute(n),s="";switch(i){case"London":s="https://goo.gl/maps/Dm0XT";break;case"New York":s="https://goo.gl/maps/0Y8nr";break;case"Newcastle":s="https://goo.gl/maps/K5h56";break;case"Los Angeles":s="https://goo.gl/maps/EnUyU";break;case"Chicago":s="https://goo.gl/maps/grX0b";break;case"Noida":s="https://goo.gl/maps/6i6WbDkK9JA2"}t.attr("href",s)}),$("[data-json-replace-follow]").each(function(){var t=$(this),n=t.attr("data-json-replace-follow"),i=t.attr("href"),s=e.getCustomAttribute(n);s&&t.attr("href",i+s)}),$("[data-json-replace-stat]").each(function(){var t=$(this),n="stat_"+t.attr("data-json-replace-stat"),i=e.getCustomAttribute(n+"_value")/10,s=e.getCustomAttribute(n+"_label"),o=t.children(".team__stats__label");t.removeClass().addClass("team__stats__item--"+i),o.text(s)}),$("[data-json-replace-img]").each(function(){var t=$(this),n=t.attr("data-json-replace-img"),i=e.getCustomAttribute(n);i&&t.attr("src",i)}),$(".team__service-logo__label span").each(function(e,t){var n=new RegExp("\\w*s$","gi"),i=n.test(t.innerHTML);1==i?t.innerHTML+="'":t.innerHTML+="'s"}),this.bio(),this.setUpAPIs({dribbble:this.getCustomAttribute("dribbble_handle"),lastfm:{username:"Soundcloud"===this.getCustomAttribute("rdio_or_spotify")?this.getCustomAttribute("soundcloud_username"):this.getCustomAttribute("last_fm_username"),provider:this.getCustomAttribute("rdio_or_spotify")?this.getCustomAttribute("rdio_or_spotify").toLowerCase():!1},instagram:{username:this.getCustomAttribute("instagram_handle")},twitter:{username:this.getCustomAttribute("twitter_handle")},strava:{token:this.getCustomAttribute("strava_api_token")}}),this.checkForDividers(),!Modernizr.history||Modernizr.touch||FLD.Browser.IE(10)||($("html").addClass("hide-loading"),$(".loading__element").afterTransition(function(){$("html").removeClass("hide-loading show-loading"),$("body").addClass("page-loaded team-member--loaded"),FLD.History.runOnNewPageLoad(),$("#masthead").css({height:56,overflow:"hidden"}),$(".main-navigation").removeClass("js--hide-main-nav"),setTimeout(function(){$("#masthead").removeAttr("style")},900)}))},this.makeRequest=function(){if("member"===FLD.PageType.type){var t=this.isMember();$.ajax({type:"GET",crossDomain:!0,async:!1,url:this.requests.url+t+"&_jsonp=?",dataType:"jsonp",success:function(t){e.attributes=t[0],e.populate()}})}},this.submitListener=function(){$(document).on("submit",e.selectors.search,function(t){t.preventDefault();var n=$(this),i=$(e.selectors.searchInput),s=i.val().replace(/ +(?= )/g,"")||null,o=i.attr("data-locale");if(n.removeClass(e.classes.searchFailed+" "+e.classes.searchEmpty+" "+e.classes.searchSearching),s&&" "!=s){var a=s.replace(/\s+/g,"-").toLowerCase();n.addClass(e.classes.searchSearching),$.getJSON(e.requests.url+a+"&_jsonp=?").done(function(t){e.attributes=t[0],"undefined"!=typeof e.attributes?!Modernizr.history||Modernizr.touch||FLD.Browser.IE(10)?window.location.href=o+e.attributes.slug+"/":$.address.value(o+e.attributes.slug+"/"):setTimeout(function(){n.addClass(e.classes.searchEmpty)},10)})}else e.clearSearchField()})},this.clearSearchField=function(){if(""===$(e.selectors.searchInput)[0].value){var t=[e.classes.searchFailed,e.classes.searchEmpty,e.classes.searchSearching];$(e.selectors.search).removeClass(t.join(" "))}},this.debounceClearing=$.debounce(500,function(){e.clearSearchField()}),this.onNewPageLoad=function(){this.submitListener(),this.makeRequest()},this.onNewPageLoad(),$(document).on("keyup",e.selectors.searchInput,e.debounceClearing)}function CaseStudy(){var e=this;this.getRdioUx=function(){return{wrap:$(".page--rdio-drop .cs__ux"),inner:$(".page--rdio-drop .cs__ux__inner"),status:null,1:$(".ux__row--1"),2:$(".ux__row--2"),3:$(".ux__row--3"),4:$(".ux__row--4"),5:$(".ux__row--5")}},this.rdioUx=this.getRdioUx(),this.getStartAtSlide=function(){return"case-study"==FLD.PageType.type?$(".page--project").attr("data-index"):2},this.startAtSlide=this.getStartAtSlide(),this.canClickCarousel=!0,this.setUpCarousel=function(){$(".carousel .carousel__wrap").owlCarousel({items:2,itemsDesktop:!1,itemsDesktopSmall:!1,itemsTablet:!1,itemsMobile:[649,1],pagination:!1,afterInit:function(){$(".carousel-wrap").addClass("carousel--ran")},startDragging:function(){},afterAction:function(){}})},this.setUpSlideshow=function(){$(".cs__slideshow").flexslider({animation:"slide",animationSpeed:750,selector:".slideshow__slides > .slideshow__slide",slideshow:!1,controlNav:!0,directionNav:!0,start:function(e){FLD.Resize.Recalculate()}})},this.dragging=null,this.getLoupes=function(){return $(".loupe")},this.loupes=this.getLoupes(),this.setUpUserflow=function(){var e=this;this.loupes.each(function(t,n){var i={};i.loupe=$(n),i.loupeInner=i.loupe.children(),i.originalLayer=i.loupe.siblings("img"),i.containerElement=i.loupe.parent();var s={};s.x=i.containerElement.width()/6,s.y=i.containerElement.height()-(i.loupe.height()-200),i.loupe.css({left:s.x,top:s.y});var o=(i.loupeInner.width()/2,0-s.x),a=0-s.y;i.bgpx=2*o+130+"px",i.bgpy=2*a+100+"px",i.loupeInner.css("background-position",2*o+.1083333*i.containerElement.width()+"px "+(2*a+.175746924*i.containerElement.height())+"px"),i.loupeInner.css("background-size",2*parseInt(i.originalLayer.css("width"))),i.loupe.FueledDragging({startDragging:function(){e.dragging=!0,i.loupe.removeClass("return-to-position"),$(i.loupe.attr("data-helper")).addClass("js--fade-out")},dragging:function(t,n){if(e.dragging){var s=0-t.x,o=0-t.y;$('.loupe[data-helper="'+n+'"]').children().css("background-position",2*s+.1083333*i.containerElement.width()+"px "+(2*o+.175746924*i.containerElement.height())+"px")}},outOfLoupe:function(){e.dragging=!1,i.loupe.addClass("return-to-position"),i.loupe.css({top:s.y,left:s.x}),i.loupeInner.css("background-position",i.bgpx+" "+i.bgpy),$(i.loupe).bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){i.loupe.removeClass("return-to-position")}),setTimeout(function(){$(i.loupe.attr("data-helper")).removeClass("js--fade-out")},600)},endDragging:function(){e.dragging=!1,i.loupe.addClass("return-to-position"),i.loupe.css({top:s.y,left:s.x}),i.loupeInner.css("background-position",i.bgpx+" "+i.bgpy),$(i.loupe).bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){i.loupe.removeClass("return-to-position")}),setTimeout(function(){$(i.loupe.attr("data-helper")).removeClass("js--fade-out")},600)}});var r=function(e,t,n){e.loupe.css({top:n,left:t}),e.loupeInner.css({"background-size":2*parseInt(e.originalLayer.css("width"))})};$(window).on("resize",function(){s.x=i.containerElement.width()/6,s.y=i.containerElement.height()-(i.loupe.height()-200),r(i,s.x,s.y)})})},this.getCs=function(){return $(".cs")},this.cs=this.getCs(),this.getFooter=function(){return $(".cs__footer")},this.footer=this.getFooter(),this.getFooterElements=function(){return $(".cs__footer--resize")},this.footerElements=this.getFooterElements(),this.getFooterEnd=function(){return $(".cs__footer__end")},this.footerEnd=this.getFooterEnd(),this.getFooterBg=function(){return $(".cs__footer__bg")},this.footerBg=this.getFooterBg(),this.getBrandingBg=function(){return{elem:$(".cs__branding__large--2"),bg:$(".cs__branding__large--2 .cs__branding__large__bg")}},this.brandingBg=this.getBrandingBg(),this.onScroll=function(){if(0!==this.footer.length){var e=FLD.Window.scrollTop(),t=this.footer.offset().top,n=-1*(t-(e+FLD.Resize.BrowserHeight)),i=200,s=n/(2*FLD.Resize.BrowserHeight+FLD.Resize.BrowserHeight)*i;if(!Modernizr.touch){if(s>0&&i>s){var o="translate3d(0,"+-1*s+"px,0)";this.footerBg.css({"-webkit-transform":o,"-moz-transform":o,transform:o})}if(this.brandingBg.elem.length>0){var a=this.brandingBg.elem[0].getBoundingClientRect(),r=a.top/FLD.Resize.BrowserHeight,l=1-r;1>r&&r>-1&&this.brandingBg.bg.css({"-webkit-transform":"translate(0, "+12.375*l+"%)","-moz-transform":"translate(0, "+12.375*l+"%)",transform:"translate(0, "+12.375*l+"%)"})}if(this.rdioUx.wrap.length>0){var c=this.rdioUx.wrap[0].getBoundingClientRect();c.top-FLD.Resize.BrowserHeight,c.bottom-FLD.Resize.BrowserHeight,c.top<=0?"sticky"!==this.rdioUx.status&&(this.rdioUx.wrap.addClass("wrap--sticky"),this.rdioUx.status="sticky"):"not-sticky"!==this.rdioUx.status&&(this.rdioUx.wrap.removeClass("wrap--sticky"),this.rdioUx.status="not-sticky"),c.bottom<=FLD.Resize.BrowserHeight?"not-sticky-bottom"!==this.rdioUx.status&&(this.rdioUx.wrap.removeClass("wrap--sticky").addClass("wrap--remove"),this.rdioUx.status="not-sticky-bottom"):c.top<=0&&"sticky-bottom"!==this.rdioUx.status&&(this.rdioUx.wrap.addClass("wrap--sticky").removeClass("wrap--remove"),this.rdioUx.status="sticky-bottom")}if("sticky"===this.rdioUx.status||"sticky-bottom"===this.rdioUx.status){for(var s=c.top/(c.height-FLD.Resize.BrowserHeight),u=-1*s,d=null,i=.2,h=1;5>=h;h++)u>=i*(h-1)&&i*h>u&&d!==h&&(d=h),d!==h&&$(".js--fixed-"+h).removeAttr("style").css({opacity:0});if(1===d){var p=5*(u-0*i);$(".js--fixed-1").css({"-webkit-transform":"translate(0,"+-75*p+"%)","-moz-transform":"translate(0,"+-75*p+"%)",transform:"translate(0,"+-75*p+"%)",opacity:1-p})}if(2===d||3===d||4===d){var p=5*(u-i*(d-1)),m=1-2*Math.abs(p-.5);$(".js--fixed-"+d).css({"-webkit-transform":"translate(0,"+(10+-50*p)+"%)","-moz-transform":"translate(0,"+(10+-50*p)+"%)",transform:"translate(0,"+(10+-50*p)+"%)",opacity:3*m})}if(5===d){var p=5*(u-i*(d-1)),m=1-2*Math.abs(p-.5);$(".js--fixed-"+d).css({"-webkit-transform":"translate(0,"+(25+-25*p)+"%)","-moz-transform":"translate(0,"+(25+-25*p)+"%)",transform:"translate(0,"+(25+-25*p)+"%)",opacity:1.75*p})}}}}},this.canDoNewScrollAnim=function(){return isCustom="true"==$("[data-custom-cs]").attr("data-custom-cs")?!0:!1,isCustom},this.canDoNewScrollAnimFlag=this.canDoNewScrollAnim(),this.checkIsAfterlight=function(){return $("body").hasClass("projects_afterlight")},this.isAfterlight=this.checkIsAfterlight(),this.checkIsDayo=function(){return $("body").hasClass("projects_dayo")},this.isDayo=this.checkIsDayo(),this.getCachedSelectors=function(){var e={listener:"[data-plx]",exploder:"[data-exploder]",parent:"[data-plx-fade-up-parent]",sliderWrap:'[data-js="slider-wrap"]',preserveEven:'[data-js="preserve-even-height"]',hero:'[data-plx-hero="parent"]',scrollerParent:"[data-scroller-parent]",vSlider:'[data-js="vslider"]',uxSingleMover:'[data-js="ux-single-mover"]',uxSingleShaker:'[data-js="ux-single-shaker"]',dayoDay:'[data-js="dayo-progress-day"]',dayoSun:'[data-js="dayo-progress-sun"]',dayoRay:'[data-js="dayo-progress-sun-rays"]',dayoNight:'[data-js="dayo-progress-night"]',dayoMoon:'[data-js="dayo-progress-moon"]',dayoStar1:'[data-js="dayo-progress-moon-star-1"]',dayoStar2:'[data-js="dayo-progress-moon-star-2"]'};return{listener:$(e.listener),exploder:$(e.exploder),parent:$(e.parent),sliderWrap:$(e.sliderWrap),preserveEven:$(e.preserveEven),hero:$(e.hero),scrollerParent:$(e.scrollerParent),vSlider:$(e.vSlider),uxSingleMover:$(e.uxSingleMover),uxSingleShaker:$(e.uxSingleShaker),dayoDay:$(e.dayoDay),dayoSun:$(e.dayoSun),dayoRay:$(e.dayoRay),dayoNight:$(e.dayoNight),dayoMoon:$(e.dayoMoon),dayoStar1:$(e.dayoStar1),dayoStar2:$(e.dayoStar2)}},this.cachedSelectors=this.getCachedSelectors(),$("[data-scroller-link]").on("click",function(e){e.preventDefault();var t=$(this).attr("data-scroller-link");$("html, body").animate({scrollTop:$(t).offset().top+"px"},600)}),$("[data-vslider-link]").on("click",function(e){e.preventDefault();var t=$(this).attr("data-vslider-link");$("html, body").animate({scrollTop:Math.round($(t).offset().top)},600)}),this.scrollAnim=function(){function t(e){return+(Math.round(e+"e+2")+"e-2")}function n(e,t){return+(Math.round(e+"e+"+t)+"e-"+t)}var s={fixed:"cs__app-design__exploder--fixed",sliderFixed:"cs__planning--fixed",sliderSelected:"cs__slider__item--selected",addEvenPixel:"js--preserve-3d-add-pixel"},o={plxType:"data-plx",plxId:"data-plx-id",moverPlxId:"data-plx-mover",expNum:"data-exploder",expId:"data-exploder-id",slides:"data-slider",current:"data-slide-current",slideNum:"data-slide"},a=!1,r=function(){var r=$(window).height(),l=$(window).scrollTop(),c=r+l;if(e.cachedSelectors.listener.each(function(){var i=$(this).offset().top,s=(c-i)/r*100,a=$(this).attr(o.plxId),l=$("["+o.moverPlxId+'="'+a+'"]'),u=$(this).attr(o.plxType),d=t(50>s?s/25:2+(50-s)/25),h=(s-50)/5;if("bg-translateY"!=u)var p=h*h/20,p=t(s>=50?-1*p:p);else var p=n(s/10*-1,2);var m="translateX"==u||"bg-translateY"==u?"translate3d(0,"+p+"%,0) rotate(0.0001deg)":"translate3d("+p+"%,0,0) rotate(0.0001deg)";if("bg-translateY"!=u?l.css({opacity:e.isDayo&&"ux-1"!=a&&"ux-6"!=a?1:d>=0?d:0,visibility:e.isDayo&&"ux-1"!=a&&"ux-6"!=a?"visible":d>=0?"visible":"hidden","-ms-transform":m,"-webkit-transform":m,transform:m}):-2*p>=-1&&22>=-1*p&&l.css({"-ms-transform":m,"-webkit-transform":m,transform:m}),e.isDayo)for(var f=1,g=s/25;4>=f;){var v=g-f/2+1;l.children("img:nth-child("+f+")").css({opacity:7>g?v:1+(7-g)}),f++}if(d>.5){var w=l.closest("[data-plx-id]").data("plx-id");$('[data-plx-itemid="'+w+'"]').addClass("cs__scroller-nav__link--selected").siblings().removeClass("cs__scroller-nav__link--selected")}}),e.cachedSelectors.uxSingleMover.each(function(){var t=$(this).offset().top,n=($(this).height(),c-t),i="translateY("+n/20+"px)",s=1.5-n/1500;e.cachedSelectors.uxSingleShaker.css({"-ms-transform":i,"-webkit-transform":i,transform:i,opacity:s})}),e.isDayo){var u=$(".cs--dayo__ux__phones"),d=$(".cs--dayo__ux__phones-wrap"),h=u.offset().top,p=(c-h)/r*100,m="translate3d(0, "+p/-5+"%, 0)";d.css({"-webkit-transform":m,transform:m})}e.cachedSelectors.exploder.each(function(){var t=e.isAfterlight?4:1,a=$(this).offset().top,l=$(this).height(),u=c-l/t-a;u>=0?$(this).addClass(s.fixed):$(this).removeClass(s.fixed);var d=$(this).attr(o.expNum);for(i=0;i<d;i++)if(e.isAfterlight){var h,p=null;p=0==i||i==d-1?u*(d-2.5):u*(d-3.5),p=0>=p?0:p,h=0==i||1==i?"translate3d(-"+n(p/3,3)+"px,0,0)":"translate3d("+n(p/3,3)+"px,0,0)",r+400>u&&$("["+o.expId+'="'+(i+1)+'"]').css({"-webkit-transform":h,transform:h})}else{var p=u*(d-i),p=0>=p?0:p,h="translate3d(0,-"+n(p/3,3)+"px,0)";r+400>u&&$("["+o.expId+'="'+(i+1)+'"]').css({"-webkit-transform":h,transform:h})}}),e.cachedSelectors.parent.each(function(e){var t=$(this).offset().top,i=($(this).height(),c-t),s=$(this).attr("data-plx-fade-up-parent"),o="translate3d(0, "+-1*i+"px, 0)",a=(i-600)/150;$('[data-plx-fade-up-text="'+s+'"]').css({"-webkit-transform":o,transform:o,opacity:n(a,3)});var o="translate3d(0, "+-1*(i-r)*1.3+"px, 0)";$('[data-plx-fade-up-phone="'+s+'"]').css({"-webkit-transform":o,transform:o})}),e.cachedSelectors.hero.each(function(){var e="translate3d(0, "+-1*l/2+"px, 0)";$('[data-plx-hero="mover"]').css({"-webkit-transform":e,transform:e})}),scrollerFirstTop=0,e.cachedSelectors.scrollerParent.each(function(){var e=$(this).offset().top,t=$(this).height(),i=c-e-t,s=$(this).attr("data-scroller-parent"),o=n(i/250,3);if(1==s){scrollerFirstTop=i;var o=1}var a="translate3d(0, "+n((-1*scrollerFirstTop+r+300)/8,0)+"px, 0)";$("[data-scroller-child='"+$(this).attr("data-scroller-parent")+"']").css({opacity:o,"-webkit-transform":a,transform:a,visibility:o>=0?"visible":"hidden"});var u=n(l-e,0)-0;u>=-300&&300>u&&($(".cs__scroller-nav__link--selected").removeClass("cs__scroller-nav__link--selected"),$('[data-scroller-link="#scroller-'+s+'"]').addClass("cs__scroller-nav__link--selected"))});var f=750,g=5,v=240;e.cachedSelectors.preserveEven.each(function(){$(this).height()%2==0?$(this).removeClass(s.addEvenPixel):$(this).addClass(s.addEvenPixel)}),e.cachedSelectors.sliderWrap.each(function(){var e=$(this).offset().top,t=$(this).height(),i=l-e;sBottomOffset=c-t-e,i>=0?$(this).addClass(s.sliderFixed):$(this).removeClass(s.sliderFixed);var o=(i+150)/200,a=i>0?i/3.25*-1:i/2*-1;$("[data-slide]").each(function(){var e=parseInt($(this).attr("data-slide")),e=e-1,t=(i-e*f)/100,t=e+1==1&&f-100>=i?1:t,t=i>=f*(e+1)-300&&e+1!=g?f/100-t:t;$('[data-slide="'+(e+1)+'"] .cs__slider__fade').css("opacity",n(t,2)),$('[data-slide="'+(e+1)+'"] .cs__planning__phone--selected').css("opacity",n(t+.5,2));var s=n(1+t/20,3),s=s>=1?1:.8>=s?.8:s;$('[data-slide="'+(e+1)+'"] img').css("transform","scale("+s+","+s+")")});var r=(g-1)*v,u="translate3d("+a+"px,0,0)",u=-1*a>=r?r:u;$(".cs__planning__phone").css({"-webkit-transform":u,transform:u,opacity:o});var u="translate3d(0,"+n(-1*(sBottomOffset>0?sBottomOffset:0),2)+"px,0)";$(".cs__slider__wrap").css({"-webkit-transform":u,transform:u})}),e.cachedSelectors.vSlider.each(function(e,t){var i=$(t),s=i.data("vslider-out"),o=t.getBoundingClientRect(),a=window.innerHeight,r="cs__vslider--fixed",l="cs__vslider__item--selected",c="cs__vslider__button--selected",u="cs__vslider--first-selected",d="cs__vslider--selected",h="cs__vslider--last-selected",p=(a-o.top)/a,m=Math.round(p),f=i.find(".cs__vslider__button").eq(m-1),g=i.find(".cs__vslider__item"),v=g.eq(m-1),w=g.length;v.addClass(l).siblings("."+l).removeClass(l),f.addClass(c).siblings("."+c).removeClass(c),i.toggleClass(d,v.length>0),1===m?i.addClass(u).removeClass(h):m===w?i.addClass(h).removeClass(u):i.removeClass(h).removeClass(u),g.each(function(e,t){var s,o=0,r=i.data("vslider-move");"together"===r?o=-8*p:"none"!==r&&(s=t.getBoundingClientRect(),o=5*Math.max(-1,Math.min(1,n(s.top/a,2))));var l=$(t).find(".cs__vslider__inner");$.each(["-webkit-","-moz-","-ms-","-o-",""],function(e,t){l.css(t+"transform","translate3d(0,"+o+"vh, 0)")})}),i.toggleClass(r,o.top<=0&&o.bottom>("clip"===s?0:a))}),e.dayoFadeScrollText=function(){$('[data-js="dayo-screen-text"]').each(function(e,t){var n=$(window).height(),i=n/2,s=$(this)[0].getBoundingClientRect().top,o=i>s?(s-200)/100:(n-s-n/5)/400;$(this).children("div").css({opacity:o})})},e.dayoOffsetDayNight=function(){var t=$('[data-js="dayo-offset-day-night-mover"]'),n=$('[data-js="dayo-offset-day-night-first-screen"]'),i=$(window).height(),s=(i-568)/2,o=t[0].getBoundingClientRect().top-s;(o>0&&e.dayoDayNightFixed||0>=o&&!e.dayoDayNightFixed||"unset"==e.dayoDayNightFixed)&&(e.dayoDayNightFixed=o>0?!1:!0,n.css({opacity:o>0?1:0}))},e.dayoProgress=function(t,n,i){var s=t.height(),o=t[0].getBoundingClientRect().top-200,a=o/s*-100,r=9*(a-50),l=-50*Math.sin(1.8*a*(Math.PI/180))+15,c=50>=r?(a-10)/10:(100-(a+10))/10,u="translate3d("+r+"%, "+l+"%, 0)";if(n.css({"-webkit-transform":u,transform:u,opacity:c}),"day"==i){var d=c/4+.5,h="scale("+(d>1?1:d)+") rotate("+r/12.5+"deg)";e.cachedSelectors.dayoRay.css({"-webkit-transform":h,transform:h})}if("night"==i){var p="rotate("+r/-5+"deg)",m=50>=r?(a-30)/10:(100-(a+15))/10;e.cachedSelectors.dayoStar1.css({"-webkit-transform":p,transform:p,opacity:m});var f="rotate("+r/2.5+"deg)",g=50>=r?(a-15)/10:(100-(a+30))/10;e.cachedSelectors.dayoStar2.css({"-webkit-transform":f,transform:f,opacity:g})}},e.isDayo&&(e.dayoProgress(e.cachedSelectors.dayoDay,e.cachedSelectors.dayoSun,"day"),e.dayoProgress(e.cachedSelectors.dayoNight,e.cachedSelectors.dayoMoon,"night"),!FLD.Browser.IE11()&&!FLD.Browser.IE10()&&$(window).width()>=768&&(e.dayoFadeScrollText(),e.dayoOffsetDayNight())),a=!1},l=function(){a||e.canDoNewScrollAnimFlag&&(requestAnimFrame(r),a=!0)},c=function(){l()};c(),window.onscroll=c},Modernizr.touch||this.scrollAnim(),this.dayoSetup=function(){this.dayoDayNightFixed="unset"},this.onNewPageLoad=function(){this.isAfterlight=this.checkIsAfterlight(),this.isDayo=this.checkIsDayo(),"case-study"==FLD.PageType.type&&(this.startAtSlide=this.getStartAtSlide(),this.cs=this.getCs(),this.footer=this.getFooter(),this.footerElements=this.getFooterElements(),this.footerBg=this.getFooterBg(),this.footerEnd=this.getFooterEnd(),this.loupes=this.getLoupes(),this.rdioUx=this.getRdioUx(),this.brandingBg=this.getBrandingBg(),this.canDoNewScrollAnimFlag=this.canDoNewScrollAnim(),this.cachedSelectors=this.getCachedSelectors(),this.setUpCarousel(),e.setUpSlideshow(),e.setUpUserflow(),Modernizr.touch||this.scrollAnim(),$("body").addClass("js--project-loaded"),$(".cs__hero").imagesLoaded(function(){$("body").addClass("js--project-hero-loaded")}))},this.onNewPageLoad(),this.onPageLeave=function(){this.startAtSlide=this.cs=this.footer=this.footerElements=this.footerBg=this.footerEnd=this.brandingBg=this.loupes=null},$(document).on("click",".toggle--carousel",function(){FLD.BodyTag.toggleClass("carousel-active")}),$(window).on("scroll",function(t){"case-study"==FLD.PageType.type&&e.onScroll()}),$(document).on("click",".cs__explode__phone",function(){$(this).toggleClass("js--show")})}function Contact(){var e=this;this.getRequiredFields=function(){return $(".form--contact input[required]")},this.requiredFields=this.getRequiredFields(),this.getSubmitButton=function(){return $(".form--contact button")},this.submitButton=this.getSubmitButton(),this.canSubmitForm=!0,this.typeOfProjectValue="",this.approxBudgetValue="",this.approxDealValue="",this.checkRequired=function(t){var n=this;this.canSubmitForm=!0,this.requiredFields.each(function(e,t){""===t.value&&(n.canSubmitForm=!1),"email"==$(t).attr("type")&&FLD.Contact._validateEmail(t.value)===!1&&(n.canSubmitForm=!1)});var i=$(t);if("text"===i.attr("type")){var s=i.attr("required");""===t.value&&"undefined"!=typeof s&&s!==!1?i.addClass("required--error"):i.removeClass("required--error")}"email"==$(t).attr("type")&&(FLD.Contact._validateEmail(t.value)===!1||""==t.value?i.addClass("required--error"):i.removeClass("required--error"));var o=!1;$('input[name="form__field--type"]').each(function(e,t){t.checked&&(o=!0)}),document.getElementById("form__field--type__other").checked&&""!=document.getElementById("form__field--type__other--text").value&&(o=!0);var a=!1;$('input[name="form__field--budget"]').each(function(t,n){n.checked&&(a=!0,e.approxDealValue=parseInt($(n).attr("data-value"),10))}),""!=document.getElementById("form__field--budget__other--text").value&&(a=!0),
o&&a||(this.canSubmitForm=!1),o?$(".select--type").removeClass("required--error"):$(".select--type").hasClass("js--select-active")&&$(".select--type").addClass("required--error"),a?$(".select--budget").removeClass("required--error"):$(".select--budget").hasClass("js--select-active")&&$(".select--budget").addClass("required--error"),this.canSubmitForm===!1?this.submitButton.attr("disabled","disabled").addClass("btn--diamond--disabled"):this.submitButton.removeAttr("disabled").removeClass("btn--diamond--disabled")},this.getCookieString=function(){var e=getGoogleAnalyticsData(),t="Google Analytics Information: --------\r\n";return t+="Campaign Source: "+e.source+"\r\n",t+="Campaign Name: "+e.campaign+"\r\n",t+="Campaign Medium: "+e.medium+"\r\n",t+="Campaign Term: "+e.term+"\r\n",t+="Campaign Content: "+e.content+"\r\n",e.time_init&&(t+="First Visit: "+e.time_init+"\r\n",t+="Previous Visit: "+e.time_begin+"\r\n",t+="Current Visit: "+e.time_begin_cur+"\r\n",t+="Times Visited: "+e.times_visited+"\r\n"),t},this.cookieString=this.getCookieString(),this.addCookies=function(){"contact"==FLD.PageType.type&&$("#form__field--referral").val(this.cookieString)},this._validateEmail=function(e){var t=/\S+@\S+\.\S+/;return t.test(e)},this.changePhone=function(){var e=FLD.Url.params();e.gclid&&$.cookie("paid-ad","yep"),$.cookie("paid-ad")},this.changePhone(),this.onNewPageLoad=function(){"contact"==FLD.PageType.type&&(this.cookieString=this.getCookieString(),this.addCookies(),this.requiredFields=this.getRequiredFields(),this.submitButton=this.getSubmitButton(),this.changePhone()),$("html").removeClass("js--rfp-scroll")},this.checkIfValidNumberKey=function(e){return e>=48&&57>=e||8==e||13==e||e>=96&&105>=e||75==e},$(document).on("keydown",'[name="form__field--budget-text"]',function(t){var n=t.keyCode?t.keyCode:t.charCode;return e.checkIfValidNumberKey(n)?void 0:!1}),$(document).on("keyup",'[name="form__field--budget-text"]',function(t){var n=this;e.debouncePrefix(n,t)}),$(document).on("keyup",'[name="form__field--budget-text"]',function(t){var n=this;e.debounceSuffix(n,t)}),this.debounceSuffix=$.debounce(250,function(t,n){var i=n.keyCode?n.keyCode:n.charCode;return e.checkIfValidNumberKey(i)?void e.addPrefixSuffix(t,n).updateBudgetSpan(t):!1}),this.debouncePrefix=$.debounce(125,!1,function(t,n){var i=n.keyCode?n.keyCode:n.charCode;return e.checkIfValidNumberKey(i)?void e.removeSuffix(t):!1}),this.removeSuffix=function(e){var t=e.value,n={prefix:/^\$/,suffix:/^\$[\d\w]+k$/};n.prefix.test(t)===!1&&(e.value="$"+e.value),n.suffix.test(t)===!0&&(e.value=e.value.replace(/k$/gi,""))},this.addPrefixSuffix=function(e,t){var n=e.value;return n.length>0&&"$"!==n&&(e.value=e.value.replace(/k(?=.*k)/gi,"")),this},this.updateBudgetSpan=function(e){return $(".select--budget > div > span")[0].innerHTML=e.value||"&nbsp;",$(".select--budget .option--other label > span")[0].innerHTML=e.value||"&nbsp;",this.approxBudgetValue=$(".select--budget .option--other label > span")[0].innerHTML.replace("&nbsp;",""),this}}function getURLParameter(e){return decodeURI((RegExp(e+"=(.+?)(&|$)").exec(location.search)||[,null])[1])}function Chimp(){var e=this;this.fnames=new Array,this.fnames[0]="EMAIL",this.fnames[1]="FNAME",this.fnames[2]="LNAME",this.ftypes=new Array,this.ftypes[0]="email",this.ftypes[1]="text",this.ftypes[2]="text",this.err_style="#mc_embed_signup input.mce_inline_error{border-color:#6B0505;} #mc_embed_signup div.mce_inline_error{margin: 0 0 1em 0; padding: 5px 10px; background-color:#6B0505; font-weight: bold; z-index: 1; color:#fff;}",this.head=document.getElementsByTagName("head")[0],this.style=document.createElement("style"),this.mce_preload_checks=0,this.setStyle=function(){this.style.type="text/css",this.style.styleSheet?this.style.styleSheet.cssText=this.err_style:this.style.appendChild(document.createTextNode(this.err_style)),this.head.appendChild(e.style),setTimeout(function(){e.mce_init_form()},250)},this.mce_init_form=function(){var e=this;jQuery(document).ready(function(t){t.support.cors=!0,t("#mc-embedded-subscribe-form").ajaxChimp({language:"en",callback:e.mce_success_cb})})},this.addThanksMessage=function(){var e=Modernizr.touch?"Tap":"Click",t='<div class="block block--red block--thank-you" data-js="close-thank-you-message"><div class="block__inner"><h2 class="block__title" data-copy="Thank You!">Thank You!</h2><p class="block__copy">We have sent you a confirmation email.</p><p class="block__copy block__copy--small">'+e+" anywhere to close.</p></div></div>";$("body").append(t),setTimeout(function(){$("body").addClass("show-thank-you")},50)},this.mce_success_cb=function(t){if($("#mce-success-response").hide(),$("#mce-error-response").hide(),"success"==t.result)e.addThanksMessage(),$("#mc-embedded-subscribe-form").each(function(){this.reset()});else{var n,s=-1;try{var o=t.msg.split(" - ",2);void 0==o[1]?n=t.msg:(i=parseInt(o[0]),i.toString()==o[0]?(s=o[0],n=o[1]):(s=-1,n=t.msg))}catch(a){s=-1,n=t.msg}try{if(-1==s)$("#mce-"+t.result+"-response").show(),$("#mce-"+t.result+"-response").html(n);else{err_id="mce_tmp_error_msg",html='<span id="'+err_id+'" style="'+e.err_style+'"> '+n+"</span>";var r="#mc_embed_signup",l=$(r);"address"==e.ftypes[s]?(r="#mce-"+e.fnames[s]+"-addr1",l=$(r).parent().parent().get(0)):"date"==ftypes[s]?(r="#mce-"+e.fnames[s]+"-month",l=$(r).parent().parent().get(0)):(r="#mce-"+e.fnames[s],l=$().parent(r).get(0)),l?($(l).append(html),$(r).focus()):($("#mce-"+t.result+"-response").show(),$("#mce-"+t.result+"-response").html(n))}}catch(a){$("#mce-"+t.result+"-response").show(),$("#mce-"+t.result+"-response").html(n)}}},this.init=function(){"contact"===FLD.PageType.type&&this.setStyle()},this.onNewPageLoad=function(){this.init()},this.init()}function Jobs(){}function NavigationHome(){var e=this;this.classes={fixed:"js--fixed-home-header"},this.flag={fixed:null},this.scrollPos=80,this.header=$(".site-header"),this.onNewPageLoad=function(){"home"===FLD.PageType.type&&(this.header=$(".site-header"))},this.checkFixed=function(){var e=$(window).scrollTop();e>=this.scrollPos?this.flag.fixed!==!0&&(this.header.addClass(this.classes.fixed),this.flag.fixed=!0):this.flag.fixed!==!1&&(this.header.removeClass(this.classes.fixed),this.flag.fixed=!1)},e.checkFixed(),$(window).on("scroll",function(){e.checkFixed()})}function HomeProjects(){var e=this;this.numberOfProjects=$("[data-home-project]").length,this.getProjects=function(){for(var e=[],t=0;t<this.numberOfProjects;t++)e.push($('[data-home-project="'+(t+1)+'"]'));return e},this.projects=this.getProjects(),this.getFlags=function(){for(var e=[],t=0;t<this.numberOfProjects;t++)e.push(null);return e},this.flags=this.getFlags(),this.getContent=function(){for(var e=[],t=0;t<this.numberOfProjects;t++)e.push($('[data-home-project="'+(t+1)+'"]').find(".home-project__content"));return e},this.content=this.getContent(),this.checkForOverlap=function(t){if("home"===FLD.PageType.type){var n=this.projects[t],i=n[0].getBoundingClientRect(),s=this.flags[t];i.top<=FLD.Resize.BrowserHeight/2&&i.bottom>FLD.Resize.BrowserHeight/2?"active"!==s&&(this.changePaginationLink(t+1),s="active"):"inactive"!==s&&(s="inactive");var o=e.content[t],a=o[0].getBoundingClientRect(),r=.5*FLD.Resize.BrowserHeight-a.height/2,l=.15*FLD.Resize.BrowserHeight-a.height/2,c=a.top,u=(c-r)/(l-r);u>=0&&1>=u?o.css({opacity:1-u}):0>u?o.css({opacity:1}):u>1&&o.css({opacity:0})}},this.onNewPageLoad=function(){"home"===FLD.PageType.type&&(this.projects=this.getProjects(),this.flags=this.getFlags(),this.content=this.getContent(),this.init())},this.goToProject=function(e,t){if("home"===FLD.PageType.type){var n=t.getAttribute("data-number"),i=$('[data-home-project="'+n+'"]'),s=i.find(".wrap");return $("html, body").animate({scrollTop:s.offset().top-FLD.Resize.BrowserHeight/2+s.outerHeight()/2},500),$(".nav--home-projects .js--active").removeClass("js--active"),$(t).addClass("js--active"),e.preventDefault()}},this.changePaginationLink=function(e){$(".nav--home-projects .js--active").removeClass("js--active"),$(".nav--home-projects a").eq(e-1).addClass("js--active")},this.init=function(){for(var t=0;t<=this.numberOfProjects-1;t++)e.checkForOverlap(t)},this.animate=null,this.startAnimation=function(){this.animate=window.requestAnimationFrame(e.startAnimation),e.init()},this.cancelAnimation=function(){window.cancelAnimationFrame(e.animate)},this.init(),Modernizr.touch||($(window).on("scroll",FLD.Throttle.debounce(function(){e.startAnimation()},200,!0)),$(window).on("scroll",FLD.Throttle.debounce(function(){e.cancelAnimation()},200,!1))),$(document).on("click",'[data-js="scroll-to-home-project"]',function(t){e.goToProject(t,this)})}function ImageScroll(){}function Slideshow(){this.init=function(){this.slideshow=$(".slideshow"),this.slideshow.flexslider({selector:".slides > .slide",directionNav:!1,controlNav:!0})},this.init(),this.onNewPageLoad=function(){this.init()}}function HomepageMousewheel(){var e=this;this.title={element:$(".page--homepage .content--hero .content__title"),flag:null},this.hero=$(".page--homepage .content--hero .wrap__center"),this.headerScroll=function(){var e=FLD.Window.scrollTop();Modernizr.touch||((FLD.Resize.BrowserHeight-e)/FLD.Resize.BrowserHeight>0&&this.hero.css({"-webkit-transform":"translate3d(0,"+e/4+"px, 0)","-moz-transform":"translate3d(0,"+e/4+"px,0)",transform:"translate3d(0,"+e/4+"px,0)",opacity:(FLD.Resize.BrowserHeight-e)/FLD.Resize.BrowserHeight}),this.title.element[0].getBoundingClientRect().bottom<=0?"show-emblem"!==this.title.flag&&(FLD.Header.addClass("js--show-emblem"),this.title.flag="show-emblem"):"hide-emblem"!==this.title.flag&&(FLD.Header.removeClass("js--show-emblem"),this.title.flag="hide-emblem"))},this.onNewPageLoad=function(){"home"===FLD.PageType.type&&(this.hero=$(".page--homepage .content--hero .wrap__center"),this.title={element:$(".page--homepage .content--hero .content__title"),flag:null})},$(window).on("scroll",function(){"home"===FLD.PageType.type&&e.headerScroll()}),$(document).on("click",".page--homepage__scroll",function(e){$("html, body").animate({scrollTop:$(".block--site-intro").offset().top},750,"easeInOutQuart"),e.preventDefault()}),$(document).on("click",".page--homepage .btn--rotate",function(e){try{_gaq.push(["_trackEvent","Call To Action","Get in Touch","Contact from Homepage"])}catch(t){}})}function AboutScroll(){var e=this;this.canHaltScrolling=!1,this.getImageGrid=function(){return $(".image-grid")},this.imageGrid=this.getImageGrid(),this.getHeader=function(){return $(".content--hero .wrap")},this.header=this.getHeader(),this.hasHiddenCollective=!1,this.getCollective=function(){return $(".block--collective")},this.collective=this.getCollective(),this.getCollectiveBg=function(){return $(".block--collective .block__bg")},this.collectiveBg=this.getCollectiveBg(),this.getCollectiveHeight=function(){return this.collective.outerHeight()},this.collectiveHeight=this.getCollectiveHeight(),this.hasHiddenAwards=null,this.getAwards=function(){return $(".block--awards")},this.awards=this.getAwards(),this.getAwardsBg=function(){return $(".block--awards .block__bg")},this.awardsBg=this.getAwardsBg(),this.getAwardsHeight=function(){return this.awards.outerHeight()},this.awardsHeight=this.getAwardsHeight(),this._onScroll=function(){"about"===FLD.PageType.type&&this.imageGrid.each(function(e,t){t=$(t);var n=t.offset().top;n-FLD.Resize.BrowserHeight/1.1<FLD.Scroll.scrollTop&&t.addClass("js--image-grid-show")})},this.onScroll=$.throttle(250,!1,function(){this._onScroll()}),this.headerScroll=function(){if("about"===FLD.PageType.type){var e=FLD.Window.scrollTop();Modernizr.touch||(FLD.Resize.BrowserHeight-e)/FLD.Resize.BrowserHeight>0&&this.header.css({"-webkit-transform":"translate3d(0,"+e/4+"px, 0)","-moz-transform":"translate3d(0,"+e/4+"px,0)",transform:"translate3d(0,"+e/4+"px,0)",opacity:(FLD.Resize.BrowserHeight-e)/FLD.Resize.BrowserHeight})}},this.collectiveScroll=function(){if("about"===FLD.PageType.type){var e=FLD.Window.scrollTop(),t=this.collective.offset().top,n=-1*(t-(e+FLD.Resize.BrowserHeight)),i=200,s=n/(this.collectiveHeight+FLD.Resize.BrowserHeight)*i;if(!Modernizr.touch&&(this.collectiveBg.addClass("js--show-collective"),this.hasHiddenCollective===!1&&n>=0&&(this.hasHiddenCollective=!0),this.hasHiddenCollective===!0&&0>=n&&(this.hasHiddenCollective=!1),s>0&&i>s)){var o="translate3d(0,"+-1*s+"px,0)";this.collectiveBg.css({"-webkit-transform":o,"-moz-transform":o,transform:o})}}},this.awardsScroll=function(){if("about"===FLD.PageType.type){var e=FLD.Window.scrollTop(),t=this.awards.offset().top,n=-1*(t-(e+FLD.Resize.BrowserHeight)),i=200,s=n/(this.awardsHeight+FLD.Resize.BrowserHeight)*i;if(!Modernizr.touch&&s>0&&i>s){var o="translate3d(0,"+(-1*s).toFixed(2)+"px,0)";this.awardsBg.css({"-webkit-transform":o,"-moz-transform":o,transform:o})}}},this.getContent=function(){return $(".content--about--wrap")},this.content=this.getContent(),this.onResize=function(){this.collectiveHeight=this.getCollectiveHeight(),this.awardsHeight=this.getAwardsHeight()},this.onNewPageLoad=function(){"about"==FLD.PageType.type&&(this.imageGrid=this.getImageGrid(),this.header=this.getHeader(),this.header.removeAttr("style"),this.content=this.getContent(),this.collective=this.getCollective(),this.collectiveBg=this.getCollectiveBg(),this.collectiveHeight=this.getCollectiveHeight(),this.awards=this.getAwards(),this.awardsBg=this.getAwardsBg(),this.awardsHeight=this.getAwardsHeight())},this.onPageLeave=function(){this.imagGrid=this.contentFooter=this.header=this.content=this.collective=this.collectiveBg=this.collectiveHeight=this.awards=this.awardsBg=this.awardsHeight=null},this.onScroll(),Modernizr.touch||($(window).on("scroll",function(){"about"===FLD.PageType.type&&(e.onScroll(),e.headerScroll(),e.collectiveScroll(),e.awardsScroll())}),$(window).on("resize",function(){"about"==FLD.PageType.type&&e.onResize()}))}function Background(e){var t=this;this.options={selector:".block--awards",pageType:"about"},this.settings=$.extend(this.options,e),this.getTarget=function(){return $(this.settings.selector)},this.target=this.getTarget(),this.getBg=function(){return this.target.find(".block__bg")},this.bg=this.getBg(),this.getHeight=function(){return this.target.outerHeight()},this.targetHeight=this.getHeight(),this.onNewPageLoad=function(){FLD.PageType.type===this.settings.pageType&&(this.target=this.getTarget(),this.bg=this.getBg(),this.targetHeight=this.getHeight())},this.moveBackground=function(){var e=FLD.Window.scrollTop(),t=this.target.offset().top,n=-1*(t-(e+FLD.Resize.BrowserHeight)),i=200,s=n/(this.targetHeight+FLD.Resize.BrowserHeight)*i;if(!Modernizr.touch&&s>0&&i>s){var o="translate3d(0,"+(-1*s).toFixed(2)+"px,0)";this.bg.css({"-webkit-transform":o,"-moz-transform":o,transform:o})}},Modernizr.touch||($(window).on("scroll",function(){FLD.PageType.type===t.settings.pageType&&t.moveBackground()}),$(window).on("resize",function(){FLD.PageType.type===t.settings.pageType&&(t.targetHeight=t.getHeight())}))}function RandomQuote(){var e=this;this.selectors={body:'[data-js="input-random-quote-body"]',citation:'[data-js="input-random-quote-citation"]'},this.quote=function(e,t){return{body:e,citation:t}},this.quotes=[e.quote("I met with a ton of dev shops. The moment I walked into Fueled, I knew they were the right partner for me. They just get it. After one meeting I knew they were, to their core, about quality. As you walk through their office, you feel it in the air, in the way everyone’s dressed, in the curated selection of furniture. It’s magical.","David Spiro, Founder – Elevatr"),e.quote("Design was critical in my choice of development firms.  After reviewing nearly a hundred firms, I chose Fueled and the results have been nothing short of world class.","Tony Alfaro, Founder – Ribbon"),e.quote("There was a real sense of partnership working with Fueled. The team is friendly and accountable, delivering on time and budget. I never felt left in the dark. Better yet, their creativity was incredible, coming up with outside-of-the-box solutions which we really valued.","Adam Benzion, Portfolio Manager – Otterbox"),e.quote("Fueled stands for the incendiary fusion of form and function. You can see and feel the difference. They make apps that excite your eyes and set your thumbs on fire.","Mark Mollé &amp; Felicity Sargent, Co-Founders – Definer"),e.quote("Fueled served as a sort of incubator at the beginning of the project. The team always made themselves available and we were able to really work seamlessly.","Arthur Shmulevsky, Founder – CleanCube")],this.generateQuote=function(){var e=this.quotes.length;return this.quotes[Math.floor(Math.random()*e)]},this.populateQuote=function(){var e=this.generateQuote();$(this.selectors.body).html(e.body),$(this.selectors.citation).html(e.citation)},this.onNewPageLoad=function(){"about"===FLD.PageType.type&&this.populateQuote()},this.onNewPageLoad()}function RandomImage(){var e=this;this.imagePath=function(e){return"/assets/images/bg/bg--home--"+e+".jpg"},this.images=[this.imagePath(1),this.imagePath(2),this.imagePath(3),this.imagePath(4),this.imagePath(5),this.imagePath(6)],this.target=$(".page--homepage .content--hero"),this.generateImage=function(){var e=this.images.length;return this.images[Math.floor(Math.random()*e)]},this.populateImage=function(){this.target=$(".page--homepage .content--hero");var t=cdn_url+this.generateImage(),n=new Image;n.src=t,e.target.css({"background-image":"url("+t+")"})},this.onNewPageLoad=function(){this.populateImage()},"home"===FLD.PageType.type&&this.populateImage()}function HomeUI(){var e=this;Modernizr.touch||(this.init=function(){"home"===FLD.PageType.type&&(this.ipad={view:$(".faux-img--ipad .faux-img__screen"),list:$(".faux-img--ipad .faux-img__list")},this.ipad.position=this.ipad.list.position(),this.ipad.listHeight=this.ipad.list.height(),this.ipad.viewHeight=this.ipad.view.height(),this.iphone={view:$(".faux-img--iphone .faux-img__screen"),modal:$(".faux-img--iphone .faux-img__modal"),img:$(".faux-img--iphone"),flag:null},this.desktop={view:$(".faux-img--browser .faux-img__screen"),graph:$(".faux-img--browser .faux-img__graph"),line:document.getElementById("js--animate-graph-path"),flag:null},this.desktop.lineLength=this.desktop.line.getTotalLength())},this.init(),this.runOnScroll=function(){if("home"===FLD.PageType.type){var e=this.ipad.view[0].getBoundingClientRect().top,t=e/FLD.Resize.BrowserHeight,n=this.ipad.position.top+(this.ipad.listHeight-this.ipad.viewHeight);if(t>=0&&1>=t){var i=1-t;this.ipad.list.css({transform:"translateY("+n*i*-1+"px)"})}var s=this.iphone.view[0].getBoundingClientRect().top,o=s/FLD.Resize.BrowserHeight;.5>=o?"before"!==this.iphone.flag&&(this.iphone.img.addClass("js--reveal-iphone"),this.iphone.flag="before"):"after"!==this.iphone.flag&&(this.iphone.img.removeClass("js--reveal-iphone"),this.iphone.flag="after");var a=this.desktop.view[0].getBoundingClientRect().top,r=a/FLD.Resize.BrowserHeight;if(r>=.2&&.8>=r){var l=10/6*(r-.2);this.desktop.line.style.strokeDasharray=this.desktop.lineLength+" "+this.desktop.lineLength,this.desktop.line.style.strokeDashoffset=this.desktop.lineLength*l,null!==this.desktop.flag&&(this.desktop.flag=null)}else o>.8?"before"!==this.desktop.flag&&(this.desktop.graph.removeAttr("style"),this.desktop.flag="before"):.2>o&&"after"!==this.desktop.flag&&(this.desktop.graph.removeAttr("style"),this.desktop.flag="after")}},this.getSizes=function(){"home"===FLD.PageType.type&&(this.ipad.position=this.ipad.list.position(),this.ipad.listHeight=this.ipad.list.height(),this.ipad.viewHeight=this.ipad.view.height())},this.onNewPageLoad=function(){this.init()},this.animate=null,this.startAnimation=function(){this.animate=window.requestAnimationFrame(e.startAnimation),e.runOnScroll()},this.cancelAnimation=function(){window.cancelAnimationFrame(e.animate)},e.runOnScroll(),$(window).on("scroll",FLD.Throttle.debounce(function(){e.startAnimation()},200,!0)),$(window).on("scroll",FLD.Throttle.debounce(function(){e.cancelAnimation()},200,!1)),$(window).on("resize",function(){e.getSizes()}))}function VideoReel(){var e=this;this.selectors={play:'[data-js="play-showreel"]',pause:'[data-js="pause-showreel"]'},this.classes={show:"js--show-reel"},$(document).on("click",e.selectors.play,function(t){var n=$f(document.getElementById("fueled-showreel"));$(".page--about .content--hero").addClass(e.classes.show),setTimeout(function(){n.api("play")},600),t.preventDefault()}),$(document).on("click",e.selectors.pause,function(t){var n=$f(document.getElementById("fueled-showreel"));n.api("pause"),$(".page--about .content--hero").removeClass(e.classes.show)})}function ProjectsMenu(){var e=this;this.selectors={menuItem:'[data-js="move-to-project-hero"]'},this.classes={active:"menu__item__link--active",dark:"menu__item--dark",animate:"js--animate-in"},this.moveToProject=function(e){$("html, body").animate({scrollTop:$(e).offset().top},750,"easeInOutCubic")},this.projects=document.getElementsByClassName("project--featured"),this.descriptions=$(".project--featured .project__description"),this.menuItems=$(".menu--projects li"),this.getMenuItemBounding=function(){for(var e=[],t=0;t<this.menuItems.length;t++)e.push(this.menuItems[t].getBoundingClientRect());return e},this.getMenuFlag=function(){for(var e=[],t=0;t<this.menuItems.length;t++)e.push(null);return e},this.menuItemBounding=this.getMenuItemBounding(),this.flags={project:null,menu:this.getMenuFlag()},this.changeActiveClass=function(e){$("."+this.classes.active).removeClass(this.classes.active),$(e).addClass(this.classes.active)},this._checkForProject=function(){for(var e=0;e<this.projects.length;e++){var t=this.projects[e],n=t.getBoundingClientRect();if(n.top<=FLD.Resize.BrowserHeight/2&&n.bottom>FLD.Resize.BrowserHeight/2&&this.flags.project!==e){var i=$(t.getAttribute("data-target"))[0];this.changeActiveClass(i),$(this.projects[e]).addClass(this.classes.animate),this.flags.project=e}e==this.projects.length-1&&n.bottom<FLD.Resize.BrowserHeight/2&&"out"!==this.flags.project&&($("."+this.classes.active).removeClass(this.classes.active),this.flags.project="out")}},this._checkForMenuOverlap=function(){for(var e=0;e<this.menuItems.length;e++){for(var t=(this.menuItems[e],!1),n=0;n<this.descriptions.length;n++){var i=this.descriptions[n],s=i.getBoundingClientRect();s.top<this.menuItemBounding[e].bottom&&s.bottom>this.menuItemBounding[e].top&&(t=!0)}t?$(this.menuItems[e]).addClass(this.classes.dark):$(this.menuItems[e]).removeClass(this.classes.dark)}},this.checkForProject=$.throttle(250,!1,function(){e._checkForProject(),e._checkForMenuOverlap()}),$(window).on("load",function(){e.checkForProject()}),this.onNewPageLoad=function(){this.projects=document.getElementsByClassName("project--featured"),this.descriptions=$(".project--featured .project__description"),this.menuItems=$(".menu--projects li"),this.menuItemBounding=this.getMenuItemBounding(),this.flags={project:null,menu:e.getMenuFlag()},this.checkForProject()},$(document).on("click",e.selectors.menuItem,function(t){var n=$(this).attr("data-target");e.moveToProject(n),e.changeActiveClass(this),t.preventDefault()}),$(window).on("scroll",function(){"projects"===FLD.PageType.type&&e.checkForProject()}),$(window).on("resize",function(){"projects"===FLD.PageType.type&&(e.menuItemBounding=e.getMenuItemBounding(),e.checkForProject())})}function Press(){var e=this;this.selectors={toCheck:'[data-js="indent-if-quote"]',toBalance:"[data-balance-heights]"},this.classes={isIndented:"press__item__copy--indented-"},this.data={toBalance:"data-balance-heights"},this.variables={colTwo:700,colThree:950,colFour:1600,debounce:100},this.setUpPress=function(){this.hangPunctuation(),Modernizr.flexbox||(this.balanceHeights(),$(window).on("resize",function(){e.balanceHeights()}))},this.hangPunctuation=function(){var t={"“":"medium","‘":"small",'"':"medium","'":"small","«":"large","‹":"medium","„":"medium","‚":"small"};$(e.selectors.toCheck).each(function(){var n=$(this).text();for(var i in t)0===n.indexOf(i)&&$(this).addClass(e.classes.isIndented+t[i])})},this.getColumnNumber=function(e){return e>=this.variables.colFour?4:e>=this.variables.colThree?3:e>=this.variables.colTwo?2:1},this.createSelector=function(e){return"["+this.data.toBalance+'="'+e+'"]'},this.setHeights=function(e,t,n){var i="";i+=this.createSelector(e),i+=", "+this.createSelector(e-1),i+=n>=3?", "+this.createSelector(e-2):"",i+=4==n?", "+this.createSelector(e-3):"",$(i).css("height",t+"px")},this.balanceHeights=function(){var e=$(window).width(),t=this.getColumnNumber(e);if(t>1){var n=0,i=[0];$(this.selectors.toBalance).each(function(e,t){$(this).css("height","auto");var n=$(this).height();i.push(n)});var s=i.length,o=s-1;console.log(s);for(var a=1;s>a;a++){var n=n<i[a]?i[a]:n;if(a%t===0){this.setHeights(a,n,t);var n=0;o-=t}else t>o&&a==s-1&&this.setHeights(a,n,o)}}},this.onNewPageLoad=function(){this.setUpPress()},this.setUpPress()}function Afterlight(){var e=this;this.selectors={bg:'[data-js="fade-afterlight-bg-on-scroll"]',scrub:'[data-js="move-afterlight-scrubber-on-scroll"]'},this.elements={scrub:$(e.selectors.scrub),bg:$(e.selectors.bg)},this.isAfterlight=$("body").hasClass("projects_afterlight"),this.animate=null,this.updateScrubber=function(){if(this.isAfterlight){var e=$(window).scrollTop(),t=e/(FLD.Resize.BrowserHeight/2);t=t>1?1:0>t?0:t,t>=0&&1>=t&&(this.elements.scrub.css({width:100*t+"%"}),this.elements.bg.css({opacity:t}))}},this.startAnimation=function(){e.animate=window.requestAnimationFrame(e.startAnimation),e.updateScrubber()},this.cancelAnimation=function(){window.cancelAnimationFrame(e.animate)},this.onNewPageLoad=function(){this.elements={scrub:$(e.selectors.scrub),bg:$(e.selectors.bg)},this.isAfterlight=$("body").hasClass("projects_afterlight"),this.animate=null},Modernizr.touch||($(window).on("scroll",$.debounce(200,!0,function(){e.startAnimation()})),$(window).on("scroll",$.debounce(200,!1,function(){e.cancelAnimation()})),this.updateScrubber())}function Verizon(){function e(e,t,n,i){return n*e/i+t}function t(e,t,n,i){return-n*Math.cos(e/i*(Math.PI/2))+n+t}function n(e,t,n,i){return n*Math.sin(e/i*(Math.PI/2))+t}function i(e,t,n,i){return-n/2*(Math.cos(Math.PI*e/i)-1)+t}function s(e,i,s,o){return o/2>e?n(2*e,i,s/2,o):t(2*e-o,i+s/2,s/2,o)}function o(e,t){return+(Math.round(e+"e+"+t)+"e-"+t)}var a=this;this.onScreen=new OnScreen,this.hero=function(){var t=document.querySelector(".cs__hero"),n=t.querySelector(".cs__hero__background");t&&n&&a.onScreen.addItem(t,{onScreenMove:function(t){var i=t.offset.outside.bottom,s=e(i,0,1,1);["webkitTransform","msTransform","transform"].forEach(function(e){n.style[e]="translate3d("+o(-33.333*s,3)+"%, 0, 0)"})}})},this.yScroll=function(){[].forEach.call(document.querySelectorAll(".cs__beacons, .cs__app-design, .cs__multi-platform"),function(t){var n,i=t.querySelector('b[class$="__background"]:first-child');i&&(n=i.querySelector("b"))&&a.onScreen.addItem(i,{onScreenMove:function(t){var i=t.offset.outside.top,s=e(i,0,1,1);["webkitTransform","msTransform","transform"].forEach(function(e){n.style[e]="translate3d(0, "+o(-33.333*s,3)+"%, 0)"})}})})},this.uxSlider=function(){var e=document.querySelector(".cs__user-experience"),t=e.querySelectorAll(".cs__user-experience__item");e&&t&&(a.onScreen.addItem(e,{screen:{bottom:"100%"}}),[].forEach.call(t,function(e,t){a.onScreen.addItem(e,{onScreenMove:function(e){var t=e.offset.outside.top,n=1-Math.abs(s(t,-1,2,1)),i=.25+.75*n,o=this.querySelector("img");o&&(o.style.opacity=n,["webkitTransform","msTransform","transform"].forEach(function(e){o.style[e]="scale("+i+")"}))}})}))},this.exploder=function(){var e=document.querySelector(".cs__exploder__items");e&&a.onScreen.addItem(e,{screen:{top:"5%",bottom:"5%"},target:{top:"50%",bottom:"50%"},onScreenMove:function(e){var t=e.offset.outside.bottom,n=100*t;[].forEach.call(this.querySelectorAll("img"),function(e,t,i){["webkitTransform","msTransform","transform"].forEach(function(s){e.style[s]="translate3d(0, "+o(n*(.5-t/(i.length-1)),3)+"%, 0)"})})}})},this.slider=function(){function e(){this.x=0,this.accel=0,this.velocity=0,this.friction=.3}function t(){$||g.applyForce(n()),g.update(),s(),requestAnimationFrame(t)}function n(){var e=-w-g.x,t=.03*e;return t}function i(e){var t=100*((p+e/d.offsetWidth%p)%p-2*p),n="translate3d("+o(t,3)+"%, 0, 0)";["webkitTransform","msTransform","transform"].forEach(function(e){"undefined"!=typeof d.style[e]&&(d.style[e]=n)})}function s(){i(g.x)}function a(e){e.changedTouches&&e.changedTouches.length||e.preventDefault(),$=!0,u.classList.add("js--is-dragging"),window.addEventListener("mousemove",r,!1),window.addEventListener("mouseup",l,!1),window.addEventListener("touchmove",r,!1),window.addEventListener("touchend",l,!1),C=e.changedTouches&&e.changedTouches.length?e.changedTouches[0].pageX:e.pageX||0,g.dragStartX=g.x,g.velocity=0}function r(e){x=g.x,S=k,g.x=g.dragStartX+((e.changedTouches&&e.changedTouches.length?e.changedTouches[0].pageX:e.pageX||0)-C),k=new Date}function l(e){c(),window.removeEventListener("mousemove",r,!1),window.removeEventListener("mouseup",l,!1),window.removeEventListener("touchmove",r,!1),window.removeEventListener("touchend",l,!1)}function c(){x?(g.velocity=(g.x-x)/(k-S),g.velocity*=1e3/60,v=g.getRestingPosition(),x=null):v=g.x,y=b,w=Math.round(-v/d.offsetWidth)*d.offsetWidth,b=(100*p+w/d.offsetWidth)%p,b===y&&(g.velocity<-1?(b=(100*p+(b+1))%p,w+=d.offsetWidth):g.velocity>1&&(b=(100*p+(b-1))%p,w-=d.offsetWidth)),$=!1,u.classList.remove("js--is-dragging"),(f[y]||[]).forEach(function(e){e.classList.remove("cs__lifestyle__item--current")}),(f[b]||[]).forEach(function(e){e.classList.add("cs__lifestyle__item--current")})}e.prototype.update=function(){this.velocity+=this.accel,this.velocity*=1-this.friction,this.x+=this.velocity,this.accel=0},e.prototype.applyForce=function(e){this.accel+=e},e.prototype.getRestingPosition=function(){for(var e=.07,t=this.velocity,n=this.x;Math.abs(t)>e;)t*=1-this.friction,n+=t;return n};var u=document.querySelector(".cs__lifestyle"),d=u.querySelector(".cs__lifestyle__items__wrap"),h=u.querySelectorAll(".cs__lifestyle__item"),p=h.length,m=d.innerHTML,f=[],g=new e,v=0,w=0,y=0,b=0;d.insertAdjacentHTML("afterbegin",m),d.insertAdjacentHTML("beforeend",m),u.addEventListener("mousedown",a,!1),u.addEventListener("touchstart",a,!1);for(var _=0;p>_;_++)f[_]=[].slice.call(d.querySelectorAll(".cs__lifestyle__item:nth-child("+p+"n+"+(_+1)+")"));s(),c(),t();var $=!1;u.classList.remove("js--is-dragging");var C,x,S,k},this.motion=function(){var e=document.querySelector(".cs__motion-design__background b"),t=document.querySelector(".cs__motion-design__partial"),n=t.querySelector(".cs__plan");e&&t&&n&&a.onScreen.addItem(t,{screen:{top:"0%",bottom:"0"},onScreenMove:function(s){var a=s.offset.outside.bottom,r=i(a,0,1,1),l=i(a,-1.15,2.5,1.15);["webkitTransform","msTransform","transform"].forEach(function(i){e.style[i]="translate3d("+o(-5*r,3)+"%, 0, 0)",t.style[i]="translate3d("+o(7*l,3)+"%, 0, 0)",n.style[i]="translate3d("+o(-50*r,3)+"%, 0, 0)"}),r>.1&&.4>r?(t.classList.add("cs__active--1"),t.classList.remove("cs__active--2")):r>.69?(t.classList.add("cs__active--2"),t.classList.remove("cs__active--1")):(t.classList.remove("cs__active--1"),t.classList.remove("cs__active--2"))}})},this.onNewPageLoad=function(){"case-study"===FLD.PageType.type&&$("body").is(".single-project.projects_verizon")&&(this.onScreen.dispose(),this.onScreen=new OnScreen,this.hero(),this.yScroll(),this.uxSlider(),this.exploder(),this.slider(),this.motion(),this.onScreen.update())},this.onNewPageLoad()}function Pollen(){function e(e,t,n,i){return n*e/i+t}function t(e,t,n){return e>n?n:t>e?t:e}function n(e,t){return+(Math.round(e+"e+"+t)+"e-"+t)}var i=this;i.onScreen=new OnScreen,i.setUpSelectors=function(){i.selectors={hero:".cs__hero",hexagonRow:"[data-hexagon-row-hero]",concepting:".cs--pollen__concepting",photography:".cs--pollen__photography",logoDetails:".cs--pollen__logo-details",
ux:{wireOne:".cs--pollen__ux__layer--wire-2",wireTwo:".cs--pollen__ux__layer--wire-3",designOne:".cs--pollen__ux__layer--design-1",designTwo:".cs--pollen__ux__layer--design-2",designThree:".cs--pollen__ux__layer--design-3",copy:".cs--pollen__ux__copy"},photo:{phone:".cs--pollen__photo__phone",overlay:".cs--pollen__photo__overlay"},polish:{mum:".cs--pollen__polish",dividerOne:'[data-js="pollen-divider-top-1"]',dividerTwo:'[data-js="pollen-divider-top-2"]'},footer:{mum:".cs__footer",dividerOne:'[data-js="pollen-divider-bottom-1"]',dividerTwo:'[data-js="pollen-divider-bottom-2"]'}},i.cache={conceptingClipParent:$(".cs--pollen__concepting__clip-parent"),conceptingClipChild:$(".cs--pollen__concepting__clip-child"),conceptingClipWrap:$(".cs--pollen__concepting__clip-wrap"),conceptingSlideOneIcon:$('[data-js="concepting-slide-1-icon"]'),conceptingSlideText:$(".cs--pollen__concepting__slide__text"),conceptingSlideOne:$(".cs--pollen__concepting__slide--1"),conceptingSlideOneSvg:$('[data-js="concepting-slide-1-svg"]'),conceptingOneOne:$("#pollen-c-1-1"),conceptingOneTwo:$("#pollen-c-1-2"),conceptingTwo:$("#pollen-c-2"),conceptingTwoOne:$("#pollen-c-2-1"),conceptingTwoTwo:$("#pollen-c-2-2"),logoDetails:$(i.selectors.logoDetails),logoDetailsClipMover:$(".cs--pollen__logo-details__clip-mover"),logoDetailsOne:$("#pollen-details-1"),logoDetailsOneOne:$("#pollen-details-1-1"),logoDetailsTwo:$("#pollen-details-2"),logoDetailPattern:$('[data-js="logo-detail-pattern-1"]'),logoDetailsThree:$("#pollen-details-3"),logoDetailsThreeOne:$("#pollen-details-3-1"),logoDetailsThreeTwo:$("#pollen-details-3-2"),logoDetailsFour:$("#pollen-details-4"),logoDetailsFourText:$('[data-js="logo-details-copy-1"]'),logoDetailsFiveAndText:$('#pollen-details-5, [data-js="logo-details-copy-2"]'),photo:{phone:$(i.selectors.photo.phone),overlay:$(i.selectors.photo.overlay)},ux:{wireOne:$(i.selectors.ux.wireOne),wireTwo:$(i.selectors.ux.wireTwo),designOne:$(i.selectors.ux.designOne),designTwo:$(i.selectors.ux.designTwo),designThree:$(i.selectors.ux.designThree),copy:$(i.selectors.ux.copy)},polish:{dividerOne:$(i.selectors.polish.dividerOne),dividerTwo:$(i.selectors.polish.dividerTwo)},footer:{dividerOne:$(i.selectors.footer.dividerOne),dividerTwo:$(i.selectors.footer.dividerTwo)}},i.classes={isUnsupported:"projects_pollen--unsupported"},i.vars={}},i.hero=function(){var t=document.querySelector(i.selectors.hero);if(t){var n=$(i.selectors.hexagonRow);heroHexagonRowCount=n.length,i.cache.hexagonRow=[],n.each(function(e,t){i.cache.hexagonRow.push($(this))}),i.onScreen.addItem(t,{onScreenMove:function(t){var n=t.offset.outside.bottom;e(n,0,1,1),$.each(i.cache.hexagonRow,function(e,t){var i=1-n,s=e+1,o=150,a=100/(heroHexagonRowCount-.5)*(o/100),r=i*s*a,l=r;translate3d="translate3d(0, "+l+"%, 0)",t.css({"-webkit-transform":translate3d,transform:translate3d})})}})}},i.photography=function(){var s=document.querySelector(i.selectors.photography);s&&i.onScreen.addItem(s,{onScreenMove:function(s){var o=s.offset.outside.bottom,a=e(o,0,1,1),r=10*(a-.5);if(!i.isUnsupported()){var l=-200*a,c="translate3d(0,"+n(l,2)+"%,0)";i.cache.photo.phone.css({"-webkit-transform":c,transform:c})}i.cache.photo.overlay.css({opacity:t(r,0,1)})}})},i.footerDivider=function(){var e=document.querySelector(i.selectors.polish.mum);e&&i.onScreen.addItem(e,{onScreenMove:function(e){var t=e.offset.outside.top;i.dividerTranslate(t-.5,i.cache.polish),i.dividerTranslate(.5-t,i.cache.footer)}})},i.dividerTranslate=function(t,i){var s=e(t,0,1,1),o=100*s,a=50*s,r="translate3d(0,"+n(o,2)+"%,0)",l="translate3d(0,"+n(a,2)+"%,0)";i.dividerOne.css({"-webkit-transform":r,transform:r}),i.dividerTwo.css({"-webkit-transform":l,transform:l})},i.ux=function(){var n=document.querySelector(".cs--pollen__ux__exploder");n&&i.onScreen.addItem(n,{onScreenMove:function(n){var s=n.offset.outside.bottom,o=e(s,0,1,1),a=t(300*o-50,0,80),r=t(100*(.43-o),0,80),l="translate3d("+a+"%, 0, 0)",c="translate3d("+1.2*a+"%, 0, 0)",u="translate3d("+r+"%, 0, 0)",d=20,h=.25,p=.05,m=.4;i.cache.ux.wireOne.css({"-webkit-transform":l,transform:l}),i.cache.ux.wireTwo.css({"-webkit-transform":c,transform:c}),i.cache.ux.designOne.css({opacity:t((o-(1*p+h))*d,0,1)}),i.cache.ux.designTwo.css({opacity:t((o-(2*p+h))*d,0,1)}),i.cache.ux.designThree.css({opacity:t((o-(3*p+h))*d,0,1)}),i.cache.ux.copy.css({opacity:t((o-m)*d,0,1),transform:u,"-webkit-transform":u})}})},i.conceptingFn=function(){i.concepting=document.querySelector(i.selectors.concepting),i.concepting.setup=!1,i.concepting&&i.onScreen.addItem(i.concepting,{onScreenMove:function(n){var s=n.offset.top,o=n.offset.bottom,a=e(s,0,1,1),r=-1*a,l=5*r,c=0>l?"translate3d(0, "+-2*l+"%, 0)":"none",u=.5,d=-4*(a+u),h=(d>0?"blur("+t(d,0,4)+"px)":"none",160*(2*r-.85)*1),p="scale("+t(h/310,.41,1)+")",m=3*r-1.75,f=4*r-6,g=i.isUnsupported()?"none":"scale("+t(f,1,999)+")",v=i.isUnsupported()?"none":"scale("+(f>0?t(1/Math.pow(f,3),0,1):"1")+")",w=i.isUnsupported()?t(33*f,0,50)+"%":0,y=15-8*r,b=4*r-7.5,_=20*r-50,C="translate3d(0, "+t(_,1,10)+"%, 0)";slideTwoPartBTranslate="translate3d(0, "+t(-1*_,-10,1)+"%, 0)",overallBottomShift=0>o?0:o,overallBottomTranslate="translateY("+$(window).height()*overallBottomShift*-1+"px)",i.cache.conceptingClipChild.css({"-webkit-transform":c,transform:c}),i.cache.conceptingClipWrap.css({opacity:t(1-d/4,0,1)}),i.cache.conceptingSlideOneIcon.css({opacity:t(d/1+.5,0,1),"-webkit-transform":overallBottomTranslate,transform:overallBottomTranslate}),i.cache.conceptingSlideText.css({opacity:t(d/2-1.5,0,1)}),i.cache.conceptingSlideOneSvg.css({"-webkit-transform":p,transform:p}),i.cache.conceptingOneOne.css({opacity:t(m,0,1),"-webkit-transform":g,transform:g,"stroke-width":w}),i.cache.conceptingOneTwo.css({opacity:t(y,0,1),"-webkit-transform":v,transform:v}),i.cache.conceptingTwo.css({opacity:t(b,0,1)}),i.cache.conceptingTwoOne.css({"-webkit-transform":C,transform:C}),i.cache.conceptingTwoTwo.css({"-webkit-transform":slideTwoPartBTranslate,transform:slideTwoPartBTranslate});var x=$('[data-js="concepting-slide-1-icon"]'),S=x.children("svg");if(r>3.5&&!window.conceptingAnimating){window.conceptingAnimating=!0;var k=x.attr("data-width");i.cache.conceptingSlideOne.fadeTo(300,0),i.isUnsupported()?S.fadeTo(300,0):x.addClass("js--concepting-slide-has-moved").animate({left:"50%",top:"50%",width:"310px",height:"310px",marginLeft:"-155px",marginTop:"-155px"},300)}else if(3.5>=r&&window.conceptingAnimating){window.conceptingAnimating=!1;var T=x.attr("data-left"),k=x.attr("data-width"),D=x.attr("data-height"),L=x.attr("data-top");i.cache.conceptingSlideOne.fadeTo(300,1),i.isUnsupported()?S.fadeTo(300,1):x.removeClass("js--concepting-slide-has-moved").animate({left:T,width:k,height:D,top:L,marginLeft:0,marginTop:0},300)}i.concepting.setup||(i.setUpConcepting(),i.concepting.setup=!0)}})},i.setUpConcepting=function(){var e=$(".cs--pollen__concepting__logo-11");if(e.length){var t=i.cache.conceptingClipChild,n=t.attr("style");t.attr("style","");var s=i.cache.conceptingSlideOneIcon,o=e[0].getBoundingClientRect(),a=o.height,r=o.width,l=o.top-.125*a,c=o.left-.125*r,u=s.hasClass("js--concepting-slide-has-moved");s.css({top:u?"50%":l,left:u?"50%":c,height:u?"310px":1.25*a,width:u?"310px":1.25*r,position:"absolute",marginLeft:u?"-155px":0,marginTop:u?"-155px":0}).attr({"data-top":l,"data-left":c,"data-height":1.25*a,"data-width":1.25*r}),t.attr("style",n)}},i.logoDetails=function(){var n=document.querySelector(i.selectors.logoDetails);i.isUnsupported()||n&&i.onScreen.addItem(n,{onScreenMove:function(n){var s=2,o=n.offset.top*s,a=n.offset.bottom*s,r=e(o,0,1,1),l=100*r/s/2.5,c="translate3d(0, "+(l>0?l:a>0?-10*a:0)+"%, 0)",u=.5,d=-2.5,h=4.5,p=5,m=o+u>0?0:o+u>d?o+u:d,f="translate3d("+50*m+"%, 0, 0)",g="translate3d("+50*m+"%, 0, 0)",v=2,w=-2*(o-1+h),y="scale("+t(w,1,v)+") translate3d(0,0,0)",b="scale("+t(2*w,1,5*v)+") translate3d(0,0,0)",_=p+o-.25,$=_;explodeTwoStepOneOpacity=0-.75*o-u,detailBaseOffset=2*(o+p),detailTwoOffset=-2,logoDetailPattern="translate3d(0, "+t(-10*(r+4),0,100)+"%, 0)",i.cache.logoDetailsClipMover.css({"-webkit-transform":c,transform:c}),i.cache.logoDetailsOne.css({opacity:t(h+o,0,1),"-webkit-transform":f,transform:f}),i.cache.logoDetailsOneOne.css({opacity:t(0-.75*o-u,0,1)}),i.cache.logoDetailsTwo.css({opacity:t(explodeTwoStepOneOpacity,0,1),"-webkit-transform":g,transform:g}),i.cache.logoDetailPattern.css({"-webkit-transform":logoDetailPattern,transform:logoDetailPattern}),i.cache.logoDetailsThree.css({opacity:o>=-3.25?0:1}),i.cache.logoDetailsThreeOne.css({"-webkit-transform":b,transform:b}),i.cache.logoDetailsThreeTwo.css({opacity:t($,.25,1),"-webkit-transform":y,transform:y}),i.cache.logoDetailsFour.css({"-webkit-transform":y,transform:y,opacity:t(o>-6?.5-detailBaseOffset:detailBaseOffset+3,0,1)}),i.cache.logoDetailsFiveAndText.css({opacity:t(o>-6+detailTwoOffset?detailTwoOffset-1-detailBaseOffset:detailBaseOffset+7,0,1)}),i.cache.logoDetailsFourText.css({opacity:t(o>-6?.5-detailBaseOffset:detailBaseOffset+3,0,1)})}})},this.isUnsupported=function(){return FLD.Browser.isFirefox()||FLD.Browser.isSafari()?!0:!1},this.onNewPageLoad=function(){"case-study"===FLD.PageType.type&&$("body").hasClass("projects_pollen")&&(i.setUpSelectors(),i.onScreen.dispose(),i.onScreen=new OnScreen,i.hero(),i.ux(),i.photography(),i.logoDetails(),i.conceptingFn(),i.footerDivider(),i.onScreen.update(),i.isUnsupported()&&$("body").addClass(i.classes.isUnsupported),$(window).on("resize",function(){i.setUpConcepting()}))},this.onNewPageLoad()}function Bigpoint(){function e(e,t,n,i){return n*e/i+t}function t(e,t){return+(Math.round(e+"e+"+t)+"e-"+t)}var n=this;n.onScreen=new OnScreen,n.setUpSelectors=function(){n.selectors={hero:{parent:".cs__hero",phone:"#bp-device-phone",web:"#bp-device-web"},slant:{parent:".cs--bp__slant"},breaks:{parent:'[data-js-bp="break"]',child:'[data-js-bp="break child"]'}},n.cache={slant:{parents:[]}},n.classes={slant:{reset:"cs--bp__slant--reset"}},n.vars={}},n.hero=function(){var i=document.querySelector(n.selectors.hero.parent),s=i.querySelector(n.selectors.hero.phone),o=i.querySelector(n.selectors.hero.web);i&&s&&o&&n.onScreen.addItem(i,{onScreenMove:function(n){var i=2*(.5-n.offset.outside.top),a=e(i,0,1,1),r=a>0?t(a,3):0,l="translate3d(0, "+-10*r+"%, 0)",c="translate3d(0, "+-20*r+"%, 0)";s.style.transform=l,o.style.transform=c}})},this.yScroll=function(){[].forEach.call(document.querySelectorAll(n.selectors.breaks.parent),function(i){var s=i.querySelector(n.selectors.breaks.child);i&&s&&n.onScreen.addItem(i,{onScreenMove:function(n){var i=n.offset.outside.top,o=e(i,0,1,1);s.style.transform="translate3d(0, "+t(75*o,3)+"%, 0)"}})})},n.setDiagonals=function(){var e=Math.tan(5*Math.PI/180),t=0;n.cache.slant.parents.length||(n.cache.slant.parents=$(n.selectors.slant.parent),console.log(n.selectors.slant.parent)),resetOffset=0,n.cache.slant.parents.each(function(n){var i=$(this),s=$(".js--is-diag-left",this),o=$(".js--is-diag-right",this),a=i.offset().top,r=a+i.height();(0===n||i.prev().is(".cs--bp__break"))&&(t=s.width()/i.width()*100,resetOffset=a),s.css("width","calc("+t+"% - "+(a-resetOffset)*e+"px)"),o.css("width","calc("+(100-t)+"% + "+(r-resetOffset)*e+"px)")})},this.onNewPageLoad=function(){"case-study"===FLD.PageType.type&&$("body").hasClass("projects_bigpoint")&&(n.setUpSelectors(),n.onScreen.dispose(),n.onScreen=new OnScreen,n.hero(),n.yScroll(),n.onScreen.update(),n.setDiagonals())},this.onNewPageLoad()}function WarbyParker(){function e(e,t){var n={},o={r:0,g:1,b:2},a=[[187,227,234],[0,161,228],[116,92,180],[222,58,40]],r=s.vars.stepAmount,l=0;return r>=t?(l=1,t=0>t?0:t):2*r>=t?l=2:3*r>=t?l=3:4*r>=t&&(l=4),offsetStep=(t-(l-1)*r)*(1/r),n.stt=a[l-1][o[e]],n.end=a[a[l]?l:l-1][o[e]],n.dif=n.stt>n.end?n.stt-n.end:n.end-n.stt,n.prg=100*offsetStep*(n.dif/100),i(n.stt>n.end?n.stt-n.prg:n.stt+n.prg,0)}function t(e,t,n,i){return n*e/i+t}function n(e,t,n){return e>n?n:t>e?t:e}function i(e,t){return+(Math.round(e+"e+"+t)+"e-"+t)}var s=this;s.onScreen=new OnScreen,s.setUpSelectors=function(){s.selectors={hero:{},optical:{parent:'[data-js-wp="optical"]',images:".cs--wp__optical__glasses__images",swatch:".optical-swatch",background:'[data-js-wp="optical bg"]',overlay:'[data-js-wp="optical overlay"]',device:'[data-js-wp="optical device"]',text:'[data-js-wp="optical text"]'},breaks:{parent:'[data-js-wp="break"]',child:'[data-js-wp="break child"]'},screens:{parent:'[data-js-wp="screens"]',background:'[data-js-wp="screens bg"]'},problem:{parent:'[data-js-wp="problem parent"]',glassesAverage:".cs--wp__problem__glass--average",glassesWarby:".cs--wp__problem__glass--warby-parker",counter:".cs--wp__problem__cost--average",title:".cs--wp__problem__title--average"},checkout:{parent:'[data-js-wp="checkout"]',item:".cs--wp__checkout__item",text:".cs--wp__checkout__text",card:".cs--wp__checkout__card",trigger:'[data-js-wp="trigger checkout"]'},social:{parent:'[data-js-wp="social parent"]',image:'[data-js-wp="social child"]'},fit:{parent:'[data-js-wp="fit parent"]',child:'[data-js-wp="fit child"]'}},s.cache={},s.classes={checkout:{open:"js--checkout-open"},problem:{loaded:"js--problem-loaded",warby:"js--problem-hit"}},s.vars={stepAmount:.25}},s.social=function(){var e={};[].forEach.call(document.querySelectorAll(s.selectors.social.parent),function(o){e[o.id]=[];var a=0;[].forEach.call(o.querySelectorAll(s.selectors.social.image),function(t){a++;var n=t.getAttribute("data-js-transform");e[o.id].push({i:a,t:n,selector:t})}),s.onScreen.addItem(o,{onScreenMove:function(s){var r=s.offset.bottom;for(t(r,0,1,1),a=0,len=e[o.id].length;a<len;a++){var l=e[o.id][a],c=l.selector,u=l.t||!1,d=n(6*r-.5*a+3,0,1),h=-2*(1-d);if(c.style.opacity=d,u){var p="right"==u||"bottom"==u,m="left"==u||"right"==u,f=h*(p?-1:1),g="translate"+(m?"X":"Y")+"("+i(f,2)+"vw)";c.style.transform="left"==u&&g>0||"right"==u&&0>g||"up"==u&&0>g||"down"==u&&g>0?"none":g}}}})})},s.problem=function(){var e=document.querySelector(s.selectors.problem.parent);e&&(glassesAverage=e.querySelector(s.selectors.problem.glassesAverage),glassesWarby=e.querySelector(s.selectors.problem.glassesWarby),counter=e.querySelector(s.selectors.problem.counter),title=e.querySelector(s.selectors.problem.title),glassesAverage&&glassesWarby&&counter&&title&&($(e).addClass(s.classes.problem.loaded),s.onScreen.addItem(e,{onScreenMove:function(o){var a=o.offset.bottom,r=(t(a,0,1,1),95),l=300,c=l-r,u=c/100,d=250*(a+.125)*1.5,h=n(i(l-d*u,0),r,l);$(counter).text("$"+h),$(e).toggleClass(s.classes.problem.warby,r>=h),glassesTranslate="translate3d(0, calc("+i(-75*a,2)+"vh - 50%), 0)",glassesAverage.style.transform=glassesTranslate,glassesWarby.style.transform=glassesTranslate,console.log(a),title.style.opacity=1.5-d/100*2}})))},s.optical=function(){var o=document.querySelector(s.selectors.optical.parent),a=document.querySelector(s.selectors.optical.images),r=document.querySelector(s.selectors.optical.background),l=document.querySelector(s.selectors.optical.overlay),c=document.querySelector(s.selectors.optical.text);o&&a&&r&&l&&c&&s.onScreen.addItem(o,{onScreenMove:function(u){var d=u.offset.bottom,h=(t(d,0,1,1),1-d*(1/s.vars.stepAmount));c.style.opacity=i(h,2);var p=e("r",d),m=e("g",d),f=e("b",d),g="rgba("+p+", "+m+", "+f+", 1)";r.style.backgroundColor=g,l.style.backgroundColor=g;var v=(d-0*s.vars.stepAmount)*(25/s.vars.stepAmount)*-1,w="translate3d("+i(n(v,-75,0),3)+"%, 0, 0)";a.style.transform=w,[].forEach.call(o.querySelectorAll(s.selectors.optical.swatch),function(e,t){var o=i((d- -1*s.vars.stepAmount)*(1/s.vars.stepAmount)-t,2);e.style.opacity=n(1>o?0===t?1:o:3==t?1:2-o,.125,1)})}})},s.checkout=function(){var e=document.querySelector(s.selectors.checkout.parent),o=e.querySelector(s.selectors.checkout.text),a=e.querySelector(s.selectors.checkout.card);e&&o&&a&&s.onScreen.addItem(e,{onScreenMove:function(r){var l=1-r.offset.top;t(l,0,1,1),[].forEach.call(e.querySelectorAll(s.selectors.checkout.item),function(e,t){e.style.opacity=i(n(10*l-5-t,0,1),2);var s=(100-100*(10*l-5-t))/25;e.style.transform=0>=s?"none":"translate3d(0, "+i(s,3)+"%, 0)"});var c=8*(l-.5)-1.5,u=c-1.5,d=-5*(u-1);o.style.color="rgba(255, 255, 255, "+n(i(c,2),0,1)+")",a.style.opacity=n(i(u,2),0,1),a.style.transform=0>=d?"none":"translate3d("+i(d,2)+"%, 0, 0)"}}),$(s.selectors.checkout.trigger).on("click",function(e){e.preventDefault(),$(s.selectors.checkout.parent).toggleClass(s.classes.checkout.open)})},this.breaks=function(){[].forEach.call(document.querySelectorAll(s.selectors.breaks.parent),function(e){var o=e.querySelector(s.selectors.breaks.child);e&&o&&s.onScreen.addItem(e,{onScreenMove:function(s){var a=s.offset.bottom,r=t(a,0,1,1),r=10*a;e.clientHeight/FLD.Resize.BrowserHeight,o.style.transform="translate3d(0, "+n(i(r,2),-100,100)+"vh, 0)"},onScreenEnter:function(){return!1},onScreenLeave:function(){return!1}})})},this.screens=function(){var e=document.querySelector(s.selectors.screens.parent),n=e.querySelector(s.selectors.screens.background);e&&n&&s.onScreen.addItem(e,{onScreenMove:function(e){var s=e.offset.top,o=t(s,0,1,1);n.style.transform="translate3d(0, "+i(25*o,2)+"%, 0)"}})},this.fit=function(){var e=document.querySelector(s.selectors.fit.parent);e&&(background=e.querySelector(s.selectors.fit.child),background&&s.onScreen.addItem(e,{onScreenMove:function(e){var n=e.offset.top,s=t(n,0,1,1);background.style.transform="translate3d(0, "+i(110*s,2)+"%, 0)"}}))},this.onNewPageLoad=function(){"case-study"===FLD.PageType.type&&$("body").hasClass("projects_warby-parker")&&(s.setUpSelectors(),s.onScreen.dispose(),s.onScreen=new OnScreen,s.optical(),s.breaks(),s.screens(),s.checkout(),s.problem(),s.social(),s.fit(),s.onScreen.update())},this.onNewPageLoad()}!function(){for(var e,t=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],i=n.length,s=window.console=window.console||{};i--;)e=n[i],s[e]||(s[e]=t)}(),function(e){e.fn.drag=function(t,n,i){var s="string"==typeof t?t:"",o=e.isFunction(t)?t:e.isFunction(n)?n:null;return 0!==s.indexOf("drag")&&(s="drag"+s),i=(t==o?n:i)||{},o?this.bind(s,i,o):this.trigger(s)};var t=e.event,n=t.special,i=n.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(t){var n=e.data(this,i.datakey),s=t.data||{};n.related+=1,e.each(i.defaults,function(e){void 0!==s[e]&&(n[e]=s[e])})},remove:function(){e.data(this,i.datakey).related-=1},setup:function(){if(!e.data(this,i.datakey)){var n=e.extend({related:0},i.defaults);e.data(this,i.datakey,n),t.add(this,"touchstart mousedown",i.init,n),this.attachEvent&&this.attachEvent("ondragstart",i.dontstart)}},teardown:function(){var n=e.data(this,i.datakey)||{};n.related||(e.removeData(this,i.datakey),t.remove(this,"touchstart mousedown",i.init),i.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",i.dontstart))},init:function(s){if(!i.touched){var o,a=s.data;if(!(0!=s.which&&a.which>0&&s.which!=a.which||e(s.target).is(a.not)||a.handle&&!e(s.target).closest(a.handle,s.currentTarget).length)&&(i.touched="touchstart"==s.type?this:null,a.propagates=1,a.mousedown=this,a.interactions=[i.interaction(this,a)],a.target=s.target,a.pageX=s.pageX,a.pageY=s.pageY,a.dragging=null,o=i.hijack(s,"draginit",a),a.propagates))return o=i.flatten(o),o&&o.length&&(a.interactions=[],e.each(o,function(){a.interactions.push(i.interaction(this,a))})),a.propagates=a.interactions.length,a.drop!==!1&&n.drop&&n.drop.handler(s,a),i.textselect(!1),i.touched?t.add(i.touched,"touchmove touchend",i.handler,a):t.add(document,"mousemove mouseup",i.handler,a),!i.touched||a.live?!1:void 0}},interaction:function(t,n){var s=e(t)[n.relative?"position":"offset"]()||{top:0,left:0};return{drag:t,callback:new i.callback,droppable:[],offset:s}},handler:function(s){var o=s.data;switch(s.type){case!o.dragging&&"touchmove":s.preventDefault();case!o.dragging&&"mousemove":if(Math.pow(s.pageX-o.pageX,2)+Math.pow(s.pageY-o.pageY,2)<Math.pow(o.distance,2))break;s.target=o.target,i.hijack(s,"dragstart",o),o.propagates&&(o.dragging=!0);case"touchmove":s.preventDefault();case"mousemove":if(o.dragging){if(i.hijack(s,"drag",o),o.propagates){o.drop!==!1&&n.drop&&n.drop.handler(s,o);break}s.type="mouseup"}case"touchend":case"mouseup":default:i.touched?t.remove(i.touched,"touchmove touchend",i.handler):t.remove(document,"mousemove mouseup",i.handler),o.dragging&&(o.drop!==!1&&n.drop&&n.drop.handler(s,o),i.hijack(s,"dragend",o)),i.textselect(!0),o.click===!1&&o.dragging&&e.data(o.mousedown,"suppress.click",(new Date).getTime()+5),o.dragging=i.touched=!1}},hijack:function(n,s,o,a,r){if(o){var l,c,u,d={event:n.originalEvent,type:n.type},h=s.indexOf("drop")?"drag":"drop",p=a||0,m=isNaN(a)?o.interactions.length:a;n.type=s,n.originalEvent=null,o.results=[];do if(c=o.interactions[p]){if("dragend"!==s&&c.cancelled)continue;u=i.properties(n,o,c),c.results=[],e(r||c[h]||o.droppable).each(function(a,r){return u.target=r,n.isPropagationStopped=function(){return!1},l=r?t.dispatch.call(r,n,u):null,l===!1?("drag"==h&&(c.cancelled=!0,o.propagates-=1),"drop"==s&&(c[h][a]=null)):"dropinit"==s&&c.droppable.push(i.element(l)||r),"dragstart"==s&&(c.proxy=e(i.element(l)||c.drag)[0]),c.results.push(l),delete n.result,"dropinit"!==s?l:void 0}),o.results[p]=i.flatten(c.results),"dropinit"==s&&(c.droppable=i.flatten(c.droppable)),"dragstart"!=s||c.cancelled||u.update()}while(m>++p);return n.type=d.type,n.originalEvent=d.event,i.flatten(o.results)}},properties:function(e,t,n){var s=n.callback;return s.drag=n.drag,s.proxy=n.proxy||n.drag,s.startX=t.pageX,s.startY=t.pageY,s.deltaX=e.pageX-t.pageX,s.deltaY=e.pageY-t.pageY,s.originalX=n.offset.left,s.originalY=n.offset.top,s.offsetX=s.originalX+s.deltaX,s.offsetY=s.originalY+s.deltaY,s.drop=i.flatten((n.drop||[]).slice()),s.available=i.flatten((n.droppable||[]).slice()),s},element:function(e){return e&&(e.jquery||1==e.nodeType)?e:void 0},flatten:function(t){return e.map(t,function(t){return t&&t.jquery?e.makeArray(t):t&&t.length?i.flatten(t):t})},textselect:function(t){e(document)[t?"unbind":"bind"]("selectstart",i.dontstart).css("MozUserSelect",t?"":"none"),document.unselectable=t?"off":"on"},dontstart:function(){return!1},callback:function(){}};i.callback.prototype={update:function(){n.drop&&this.available.length&&e.each(this.available,function(e){n.drop.locate(this,e)})}};var s=t.dispatch;t.dispatch=function(t){return e.data(this,"suppress."+t.type)-(new Date).getTime()>0?void e.removeData(this,"suppress."+t.type):s.apply(this,arguments)};var o=t.fixHooks.touchstart=t.fixHooks.touchmove=t.fixHooks.touchend=t.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(t,n){if(n){var i=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0]||null;i&&e.each(o.props,function(e,n){t[n]=i[n]})}return t}};n.draginit=n.dragstart=n.dragend=i}(jQuery),function(e,t){var n="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";e.fn.imagesLoaded=function(i){function s(){var t=e(h),n=e(p);l&&(p.length?l.reject(u,t,n):l.resolve(u)),e.isFunction(i)&&i.call(r,u,t,n)}function o(e){a(e.target,"error"===e.type)}function a(t,i){t.src===n||-1!==e.inArray(t,d)||(d.push(t),i?p.push(t):h.push(t),e.data(t,"imagesLoaded",{isBroken:i,src:t.src}),c&&l.notifyWith(e(t),[i,u,e(h),e(p)]),u.length===d.length&&(setTimeout(s),u.unbind(".imagesLoaded",o)))}var r=this,l=e.isFunction(e.Deferred)?e.Deferred():0,c=e.isFunction(l.notify),u=r.find("img").add(r.filter("img")),d=[],h=[],p=[];return e.isPlainObject(i)&&e.each(i,function(e,t){"callback"===e?i=t:l&&l[e](t)}),u.length?u.bind("load.imagesLoaded error.imagesLoaded",o).each(function(i,s){var o=s.src,r=e.data(s,"imagesLoaded");r&&r.src===o?a(s,r.isBroken):s.complete&&s.naturalWidth!==t?a(s,0===s.naturalWidth||0===s.naturalHeight):(s.readyState||s.complete)&&(s.src=n,s.src=o)}):s(),l?l.promise(r):r}}(jQuery),function(e){e.belowthefold=function(t,n){var i=e(window).height()+e(window).scrollTop();return i<=e(t).offset().top-n.threshold},e.abovethetop=function(t,n){var i=e(window).scrollTop();return i>=e(t).offset().top+e(t).height()-n.threshold},e.rightofscreen=function(t,n){var i=e(window).width()+e(window).scrollLeft();return i<=e(t).offset().left-n.threshold},e.leftofscreen=function(t,n){var i=e(window).scrollLeft();return i>=e(t).offset().left+e(t).width()-n.threshold},e.inviewport=function(t,n){return!(e.rightofscreen(t,n)||e.leftofscreen(t,n)||e.belowthefold(t,n)||e.abovethetop(t,n))},e.extend(e.expr[":"],{"below-the-fold":function(t,n,i){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t,n,i){return e.abovethetop(t,{threshold:0})},"left-of-screen":function(t,n,i){return e.leftofscreen(t,{threshold:0})},"right-of-screen":function(t,n,i){return e.rightofscreen(t,{threshold:0})},"in-viewport":function(t,n,i){return e.inviewport(t,{threshold:0})}})}(jQuery),function(e,t,n){"use strict";var i,s=e.document,o=e.Modernizr,a=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},r="Moz Webkit O Ms".split(" "),l=function(e){var t,n=s.documentElement.style;if("string"==typeof n[e])return e;e=a(e);for(var i=0,o=r.length;o>i;i++)if(t=r[i]+e,"string"==typeof n[t])return t},c=l("transform"),u=l("transitionProperty"),d={csstransforms:function(){return!!c},csstransforms3d:function(){var e=!!l("perspective");if(e){var n=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),i="@media ("+n.join("transform-3d),(")+"modernizr)",s=t("<style>"+i+"{#modernizr{height:3px}}</style>").appendTo("head"),o=t('<div id="modernizr" />').appendTo("html");e=3===o.height(),o.remove(),s.remove()}return e},csstransitions:function(){return!!u}};if(o)for(i in d)o.hasOwnProperty(i)||o.addTest(i,d[i]);else{o=e.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var h,p=" ";for(i in d)h=d[i](),o[i]=h,p+=" "+(h?"":"no-")+i;t("html").addClass(p)}if(o.csstransforms){var m=o.csstransforms3d?{translate:function(e){return"translate3d("+e[0]+"px, "+e[1]+"px, 0) "},scale:function(e){return"scale3d("+e+", "+e+", 1) "}}:{translate:function(e){return"translate("+e[0]+"px, "+e[1]+"px) "},scale:function(e){return"scale("+e+") "}},f=function(e,n,i){var s,o,a=t.data(e,"isoTransform")||{},r={},l={};r[n]=i,t.extend(a,r);for(s in a)o=a[s],l[s]=m[s](o);var u=l.translate||"",d=l.scale||"",h=u+d;t.data(e,"isoTransform",a),e.style[c]=h};t.cssNumber.scale=!0,t.cssHooks.scale={set:function(e,t){f(e,"scale",t)},get:function(e,n){var i=t.data(e,"isoTransform");return i&&i.scale?i.scale:1}},t.fx.step.scale=function(e){t.cssHooks.scale.set(e.elem,e.now+e.unit)},t.cssNumber.translate=!0,t.cssHooks.translate={set:function(e,t){f(e,"translate",t)},get:function(e,n){var i=t.data(e,"isoTransform");return i&&i.translate?i.translate:[0,0]}}}var g,v;o.csstransitions&&(g={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd otransitionend",transitionProperty:"transitionend"}[u],v=l("transitionDuration"));var w,y=t.event,b=t.event.handle?"handle":"dispatch";y.special.smartresize={setup:function(){t(this).bind("resize",y.special.smartresize.handler)},teardown:function(){t(this).unbind("resize",y.special.smartresize.handler)},handler:function(e,t){var n=this,i=arguments;e.type="smartresize",w&&clearTimeout(w),w=setTimeout(function(){y[b].apply(n,i)},"execAsap"===t?0:100)}},t.fn.smartresize=function(e){return e?this.bind("smartresize",e):this.trigger("smartresize",["execAsap"])},t.Isotope=function(e,n,i){this.element=t(n),this._create(e),this._init(i)};var _=["width","height"],$=t(e);t.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative",overflow:"hidden"},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1},t.Isotope.prototype={_create:function(e){this.options=t.extend({},t.Isotope.settings,e),this.styleQueue=[],this.elemCount=0;var n=this.element[0].style;this.originalStyle={};var i=_.slice(0);for(var s in this.options.containerStyle)i.push(s);for(var o=0,a=i.length;a>o;o++)s=i[o],this.originalStyle[s]=n[s]||"";this.element.css(this.options.containerStyle),this._updateAnimationEngine(),this._updateUsingTransforms();var r={"original-order":function(e,t){return t.elemCount++,t.elemCount},random:function(){return Math.random()}};this.options.getSortData=t.extend(this.options.getSortData,r),this.reloadItems(),this.offset={left:parseInt(this.element.css("padding-left")||0,10),top:parseInt(this.element.css("padding-top")||0,10)};var l=this;setTimeout(function(){l.element.addClass(l.options.containerClass)},0),this.options.resizable&&$.bind("smartresize.isotope",function(){l.resize()}),this.element.delegate("."+this.options.hiddenClass,"click",function(){return!1})},_getAtoms:function(e){var t=this.options.itemSelector,n=t?e.filter(t).add(e.find(t)):e,i={position:"absolute"};return n=n.filter(function(e,t){return 1===t.nodeType}),this.usingTransforms&&(i.left=0,i.top=0),n.css(i).addClass(this.options.itemClass),this.updateSortData(n,!0),n},_init:function(e){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(e)},option:function(e){if(t.isPlainObject(e)){this.options=t.extend(!0,this.options,e);var n;for(var i in e)n="_update"+a(i),this[n]&&this[n]()}},_updateAnimationEngine:function(){var e,t=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,"");switch(t){case"css":case"none":e=!1;break;case"jquery":e=!0;break;default:e=!o.csstransitions}this.isUsingJQueryAnimation=e,this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var e=this.usingTransforms=this.options.transformsEnabled&&o.csstransforms&&o.csstransitions&&!this.isUsingJQueryAnimation;e||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale),this.getPositionStyles=e?this._translate:this._positionAbs},_filter:function(e){var t=""===this.options.filter?"*":this.options.filter;if(!t)return e;var n=this.options.hiddenClass,i="."+n,s=e.filter(i),o=s;if("*"!==t){o=s.filter(t);var a=e.not(i).not(t).addClass(n);this.styleQueue.push({$el:a,style:this.options.hiddenStyle})}return this.styleQueue.push({$el:o,style:this.options.visibleStyle}),o.removeClass(n),e.filter(t)},updateSortData:function(e,n){var i,s,o=this,a=this.options.getSortData;e.each(function(){i=t(this),s={};for(var e in a)n||"original-order"!==e?s[e]=a[e](i,o):s[e]=t.data(this,"isotope-sort-data")[e];t.data(this,"isotope-sort-data",s)})},_sort:function(){var e=this.options.sortBy,t=this._getSorter,n=this.options.sortAscending?1:-1,i=function(i,s){var o=t(i,e),a=t(s,e);return o===a&&"original-order"!==e&&(o=t(i,"original-order"),a=t(s,"original-order")),(o>a?1:a>o?-1:0)*n};this.$filteredAtoms.sort(i)},_getSorter:function(e,n){return t.data(e,"isotope-sort-data")[n]},_translate:function(e,t){return{translate:[e,t]}},_positionAbs:function(e,t){return{left:e,top:t}},_pushPosition:function(e,t,n){t=Math.round(t+this.offset.left),n=Math.round(n+this.offset.top);var i=this.getPositionStyles(t,n);this.styleQueue.push({$el:e,style:i}),this.options.itemPositionDataEnabled&&e.data("isotope-item-position",{x:t,y:n})},layout:function(e,t){var n=this.options.layoutMode;if(this["_"+n+"Layout"](e),this.options.resizesContainer){var i=this["_"+n+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:i})}this._processStyleQueue(e,t),this.isLaidOut=!0},_processStyleQueue:function(e,n){var i,s,a,r,l=this.isLaidOut&&this.isUsingJQueryAnimation?"animate":"css",c=this.options.animationOptions,u=this.options.onLayout;if(s=function(e,t){t.$el[l](t.style,c)},this._isInserting&&this.isUsingJQueryAnimation)s=function(e,t){
i=t.$el.hasClass("no-transition")?"css":l,t.$el[i](t.style,c)};else if(n||u||c.complete){var d=!1,h=[n,u,c.complete],p=this;if(a=!0,r=function(){if(!d){for(var t,n=0,i=h.length;i>n;n++)t=h[n],"function"==typeof t&&t.call(p.element,e,p);d=!0}},this.isUsingJQueryAnimation&&"animate"===l)c.complete=r,a=!1;else if(o.csstransitions){for(var m,f=0,w=this.styleQueue[0],y=w&&w.$el;!y||!y.length;){if(m=this.styleQueue[f++],!m)return;y=m.$el}var b=parseFloat(getComputedStyle(y[0])[v]);b>0&&(s=function(e,t){t.$el[l](t.style,c).one(g,r)},a=!1)}}t.each(this.styleQueue,s),a&&r(),this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(e){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,e)},addItems:function(e,t){var n=this._getAtoms(e);this.$allAtoms=this.$allAtoms.add(n),t&&t(n)},insert:function(e,t){this.element.append(e);var n=this;this.addItems(e,function(e){var i=n._filter(e);n._addHideAppended(i),n._sort(),n.reLayout(),n._revealAppended(i,t)})},appended:function(e,t){var n=this;this.addItems(e,function(e){n._addHideAppended(e),n.layout(e),n._revealAppended(e,t)})},_addHideAppended:function(e){this.$filteredAtoms=this.$filteredAtoms.add(e),e.addClass("no-transition"),this._isInserting=!0,this.styleQueue.push({$el:e,style:this.options.hiddenStyle})},_revealAppended:function(e,t){var n=this;setTimeout(function(){e.removeClass("no-transition"),n.styleQueue.push({$el:e,style:n.options.visibleStyle}),n._isInserting=!1,n._processStyleQueue(e,t)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(e,t){this.$allAtoms=this.$allAtoms.not(e),this.$filteredAtoms=this.$filteredAtoms.not(e);var n=this,i=function(){e.remove(),t&&t.call(n.element)};e.filter(":not(."+this.options.hiddenClass+")").length?(this.styleQueue.push({$el:e,style:this.options.hiddenStyle}),this._sort(),this.reLayout(i)):i()},shuffle:function(e){this.updateSortData(this.$allAtoms),this.options.sortBy="random",this._sort(),this.reLayout(e)},destroy:function(){var e=this.usingTransforms,t=this.options;this.$allAtoms.removeClass(t.hiddenClass+" "+t.itemClass).each(function(){var t=this.style;t.position="",t.top="",t.left="",t.opacity="",e&&(t[c]="")});var n=this.element[0].style;for(var i in this.originalStyle)n[i]=this.originalStyle[i];this.element.unbind(".isotope").undelegate("."+t.hiddenClass,"click").removeClass(t.containerClass).removeData("isotope"),$.unbind(".isotope")},_getSegments:function(e){var t,n=this.options.layoutMode,i=e?"rowHeight":"columnWidth",s=e?"height":"width",o=e?"rows":"cols",r=this.element[s](),l=this.options[n]&&this.options[n][i]||this.$filteredAtoms["outer"+a(s)](!0)||r;t=Math.floor(r/l),t=Math.max(t,1),this[n][o]=t,this[n][i]=l},_checkIfSegmentsChanged:function(e){var t=this.options.layoutMode,n=e?"rows":"cols",i=this[t][n];return this._getSegments(e),this[t][n]!==i},_masonryReset:function(){this.masonry={},this._getSegments();var e=this.masonry.cols;for(this.masonry.colYs=[];e--;)this.masonry.colYs.push(0)},_masonryLayout:function(e){var n=this,i=n.masonry;e.each(function(){var e=t(this),s=Math.ceil(e.outerWidth(!0)/i.columnWidth);if(s=Math.min(s,i.cols),1===s)n._masonryPlaceBrick(e,i.colYs);else{var o,a,r=i.cols+1-s,l=[];for(a=0;r>a;a++)o=i.colYs.slice(a,a+s),l[a]=Math.max.apply(Math,o);n._masonryPlaceBrick(e,l)}})},_masonryPlaceBrick:function(e,t){for(var n=Math.min.apply(Math,t),i=0,s=0,o=t.length;o>s;s++)if(t[s]===n){i=s;break}var a=this.masonry.columnWidth*i,r=n;this._pushPosition(e,a,r);var l=n+e.outerHeight(!0),c=this.masonry.cols+1-o;for(s=0;c>s;s++)this.masonry.colYs[i+s]=l},_masonryGetContainerSize:function(){var e=Math.max.apply(Math,this.masonry.colYs);return{height:e}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(e){var n=this,i=this.element.width(),s=this.fitRows;e.each(function(){var e=t(this),o=e.outerWidth(!0),a=e.outerHeight(!0);0!==s.x&&o+s.x>i&&(s.x=0,s.y=s.height),n._pushPosition(e,s.x,s.y),s.height=Math.max(s.y+a,s.height),s.x+=o})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(e){var n=this,i=this.cellsByRow;e.each(function(){var e=t(this),s=i.index%i.cols,o=Math.floor(i.index/i.cols),a=(s+.5)*i.columnWidth-e.outerWidth(!0)/2,r=(o+.5)*i.rowHeight-e.outerHeight(!0)/2;n._pushPosition(e,a,r),i.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(e){var n=this;e.each(function(e){var i=t(this);n._pushPosition(i,0,n.straightDown.y),n.straightDown.y+=i.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var e=this.masonryHorizontal.rows;for(this.masonryHorizontal.rowXs=[];e--;)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(e){var n=this,i=n.masonryHorizontal;e.each(function(){var e=t(this),s=Math.ceil(e.outerHeight(!0)/i.rowHeight);if(s=Math.min(s,i.rows),1===s)n._masonryHorizontalPlaceBrick(e,i.rowXs);else{var o,a,r=i.rows+1-s,l=[];for(a=0;r>a;a++)o=i.rowXs.slice(a,a+s),l[a]=Math.max.apply(Math,o);n._masonryHorizontalPlaceBrick(e,l)}})},_masonryHorizontalPlaceBrick:function(e,t){for(var n=Math.min.apply(Math,t),i=0,s=0,o=t.length;o>s;s++)if(t[s]===n){i=s;break}var a=n,r=this.masonryHorizontal.rowHeight*i;this._pushPosition(e,a,r);var l=n+e.outerWidth(!0),c=this.masonryHorizontal.rows+1-o;for(s=0;c>s;s++)this.masonryHorizontal.rowXs[i+s]=l},_masonryHorizontalGetContainerSize:function(){var e=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:e}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(e){var n=this,i=this.element.height(),s=this.fitColumns;e.each(function(){var e=t(this),o=e.outerWidth(!0),a=e.outerHeight(!0);0!==s.y&&a+s.y>i&&(s.x=s.width,s.y=0),n._pushPosition(e,s.x,s.y),s.width=Math.max(s.x+o,s.width),s.y+=a})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(e){var n=this,i=this.cellsByColumn;e.each(function(){var e=t(this),s=Math.floor(i.index/i.rows),o=i.index%i.rows,a=(s+.5)*i.columnWidth-e.outerWidth(!0)/2,r=(o+.5)*i.rowHeight-e.outerHeight(!0)/2;n._pushPosition(e,a,r),i.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(e){var n=this;e.each(function(e){var i=t(this);n._pushPosition(i,n.straightAcross.x,0),n.straightAcross.x+=i.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}},t.fn.imagesLoaded=function(e){function n(){e&&e.call(s,o)}function i(e){var s=e.target;s.src!==r&&-1===t.inArray(s,l)&&(l.push(s),--a<=0&&(setTimeout(n),o.unbind(".imagesLoaded",i)))}var s=this,o=s.find("img").add(s.filter("img")),a=o.length,r="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",l=[];return a||n(),o.bind("load.imagesLoaded error.imagesLoaded",i).each(function(){var e=this.src;this.src=r,this.src=e}),s};var C=function(t){e.console&&e.console.error(t)};t.fn.isotope=function(e,n){if("string"==typeof e){var i=Array.prototype.slice.call(arguments,1);this.each(function(){var n=t.data(this,"isotope");return n?t.isFunction(n[e])&&"_"!==e.charAt(0)?void n[e].apply(n,i):void C("no such method '"+e+"' for isotope instance"):void C("cannot call methods on isotope prior to initialization; attempted to call method '"+e+"'")})}else this.each(function(){var i=t.data(this,"isotope");i?(i.option(e),i._init(n)):t.data(this,"isotope",new t.Isotope(e,this,n))});return this}}(window,jQuery),function(e,t,n){"function"==typeof define&&define.amd?define(["jquery"],function(i){return n(i,e,t),i.mobile}):n(e.jQuery,e,t)}(this,document,function(e,t,n,i){!function(e,t,n,i){function s(e){for(;e&&"undefined"!=typeof e.originalEvent;)e=e.originalEvent;return e}function o(t,n){var o,a,r,l,c,u,d,h,p,m=t.type;if(t=e.Event(t),t.type=n,o=t.originalEvent,a=e.event.props,m.search(/^(mouse|click)/)>-1&&(a=L),o)for(d=a.length,l;d;)l=a[--d],t[l]=o[l];if(m.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),-1!==m.search(/^touch/)&&(r=s(o),m=r.touches,c=r.changedTouches,u=m&&m.length?m[0]:c&&c.length?c[0]:i))for(h=0,p=T.length;p>h;h++)l=T[h],t[l]=u[l];return t}function a(t){for(var n,i,s={};t;){n=e.data(t,x);for(i in n)n[i]&&(s[i]=s.hasVirtualBinding=!0);t=t.parentNode}return s}function r(t,n){for(var i;t;){if(i=e.data(t,x),i&&(!n||i[n]))return t;t=t.parentNode}return null}function l(){B=!1}function c(){B=!0}function u(){z=0,M.length=0,E=!1,c()}function d(){l()}function h(){p(),A=setTimeout(function(){A=0,u()},e.vmouse.resetTimerDuration)}function p(){A&&(clearTimeout(A),A=0)}function m(t,n,i){var s;return(i&&i[t]||!i&&r(n.target,t))&&(s=o(n,t),e(n.target).trigger(s)),s}function f(t){var n=e.data(t.target,S);if(!(E||z&&z===n)){var i=m("v"+t.type,t);i&&(i.isDefaultPrevented()&&t.preventDefault(),i.isPropagationStopped()&&t.stopPropagation(),i.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}}function g(t){var n,i,o=s(t).touches;if(o&&1===o.length&&(n=t.target,i=a(n),i.hasVirtualBinding)){z=H++,e.data(n,S,z),p(),d(),F=!1;var r=s(t).touches[0];P=r.pageX,j=r.pageY,m("vmouseover",t,i),m("vmousedown",t,i)}}function v(e){B||(F||m("vmousecancel",e,a(e.target)),F=!0,h())}function w(t){if(!B){var n=s(t).touches[0],i=F,o=e.vmouse.moveDistanceThreshold,r=a(t.target);F=F||Math.abs(n.pageX-P)>o||Math.abs(n.pageY-j)>o,F&&!i&&m("vmousecancel",t,r),m("vmousemove",t,r),h()}}function y(e){if(!B){c();var t,n=a(e.target);if(m("vmouseup",e,n),!F){var i=m("vclick",e,n);i&&i.isDefaultPrevented()&&(t=s(e).changedTouches[0],M.push({touchID:z,x:t.clientX,y:t.clientY}),E=!0)}m("vmouseout",e,n),F=!1,h()}}function b(t){var n,i=e.data(t,x);if(i)for(n in i)if(i[n])return!0;return!1}function _(){}function $(t){var n=t.substr(1);return{setup:function(i,s){b(this)||e.data(this,x,{});var o=e.data(this,x);o[t]=!0,I[t]=(I[t]||0)+1,1===I[t]&&N.bind(n,f),e(this).bind(n,_),O&&(I.touchstart=(I.touchstart||0)+1,1===I.touchstart&&N.bind("touchstart",g).bind("touchend",y).bind("touchmove",w).bind("scroll",v))},teardown:function(i,s){--I[t],I[t]||N.unbind(n,f),O&&(--I.touchstart,I.touchstart||N.unbind("touchstart",g).unbind("touchmove",w).unbind("touchend",y).unbind("scroll",v));var o=e(this),a=e.data(this,x);a&&(a[t]=!1),o.unbind(n,_),b(this)||o.removeData(x)}}}var C,x="virtualMouseBindings",S="virtualTouchID",k="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),T="clientX clientY pageX pageY screenX screenY".split(" "),D=e.event.mouseHooks?e.event.mouseHooks.props:[],L=e.event.props.concat(D),I={},A=0,P=0,j=0,F=!1,M=[],E=!1,B=!1,O="addEventListener"in n,N=e(n),H=1,z=0;e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var R=0;R<k.length;R++)e.event.special[k[R]]=$(k[R]);O&&n.addEventListener("click",function(t){var n,i,s,o,a,r,l=M.length,c=t.target;if(l)for(n=t.clientX,i=t.clientY,C=e.vmouse.clickDistanceThreshold,s=c;s;){for(o=0;l>o;o++)if(a=M[o],r=0,s===c&&Math.abs(a.x-n)<C&&Math.abs(a.y-i)<C||e.data(s,S)===a.touchID)return t.preventDefault(),void t.stopPropagation();s=s.parentNode}},!0)}(e,t,n),function(e){e.mobile={}}(e),function(e,t){var i={touch:"ontouchend"in n};e.mobile.support=e.mobile.support||{},e.extend(e.support,i),e.extend(e.mobile.support,i)}(e),function(e,t,i){function s(t,n,i){var s=i.type;i.type=n,e.event.dispatch.call(t,i),i.type=s}var o=e(n);e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,n){e.fn[n]=function(e){return e?this.bind(n,e):this.trigger(n)},e.attrFn&&(e.attrFn[n]=!0)});var a=e.mobile.support.touch,r="touchmove scroll",l=a?"touchstart":"mousedown",c=a?"touchend":"mouseup",u=a?"touchmove":"mousemove";e.event.special.scrollstart={enabled:!0,setup:function(){function t(e,t){n=t,s(o,n?"scrollstart":"scrollstop",e)}var n,i,o=this,a=e(o);a.bind(r,function(s){e.event.special.scrollstart.enabled&&(n||t(s,!0),clearTimeout(i),i=setTimeout(function(){t(s,!1)},50))})}},e.event.special.tap={tapholdThreshold:750,setup:function(){var t=this,n=e(t);n.bind("vmousedown",function(i){function a(){clearTimeout(c)}function r(){a(),n.unbind("vclick",l).unbind("vmouseup",a),o.unbind("vmousecancel",r)}function l(e){r(),u===e.target&&s(t,"tap",e)}if(i.which&&1!==i.which)return!1;var c,u=i.target;i.originalEvent,n.bind("vmouseup",a).bind("vclick",l),o.bind("vmousecancel",r),c=setTimeout(function(){s(t,"taphold",e.Event("taphold",{target:u}))},e.event.special.tap.tapholdThreshold)})}},e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,start:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t;return{time:(new Date).getTime(),coords:[n.pageX,n.pageY],origin:e(t.target)}},stop:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e;return{time:(new Date).getTime(),coords:[t.pageX,t.pageY]}},handleSwipe:function(t,n){n.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-n.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-n.coords[1])<e.event.special.swipe.verticalDistanceThreshold&&t.origin.trigger("swipe").trigger(t.coords[0]>n.coords[0]?"swipeleft":"swiperight")},setup:function(){var t=this,n=e(t);n.bind(l,function(t){function s(t){a&&(o=e.event.special.swipe.stop(t),Math.abs(a.coords[0]-o.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault())}var o,a=e.event.special.swipe.start(t);n.bind(u,s).one(c,function(){n.unbind(u,s),a&&o&&e.event.special.swipe.handleSwipe(a,o),a=o=i})})}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(t,n){e.event.special[t]={setup:function(){e(this).bind(n,e.noop)}}})}(e,this)}),function(){var e=$.support.touch,t=e?"touchstart":"mousedown",n=e?"touchend":"mouseup",i=e?"touchmove":"mousemove";$.event.special.swipeupdown={setup:function(){var e=this,s=$(e);s.bind(t,function(e){function t(e){if(r){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e;o={time:(new Date).getTime(),coords:[t.pageX,t.pageY]},r.coords[1]>o.coords[1]&&$("body").hasClass("page-template-page-templatesfront-page-php")&&e.preventDefault()}}var o,a=e.originalEvent.touches?e.originalEvent.touches[0]:e,r={time:(new Date).getTime(),coords:[a.pageX,a.pageY],origin:$(e.target)};s.bind(i,t).one(n,function(e){s.unbind(i,t),r&&o&&o.time-r.time<1e3&&Math.abs(r.coords[1]-o.coords[1])>30&&Math.abs(r.coords[0]-o.coords[0])<75&&r.origin.trigger("swipeupdown").trigger(r.coords[1]>o.coords[1]?"swipeup":"swipedown"),r=o=void 0})})}},$.each({swipedown:"swipeupdown",swipeup:"swipeupdown"},function(e,t){$.event.special[e]={setup:function(){$(this).bind(t,$.noop)}}})}(),function(e,t,n){function i(e){return e=e||location.href,"#"+e.replace(/^[^#]*#?(.*)$/,"$1")}var s,o="hashchange",a=document,r=e.event.special,l=a.documentMode,c="on"+o in t&&(l===n||l>7);e.fn[o]=function(e){return e?this.bind(o,e):this.trigger(o)},e.fn[o].delay=50,r[o]=e.extend(r[o],{setup:function(){return c?!1:void e(s.start)},teardown:function(){return c?!1:void e(s.stop)}}),s=function(){function s(){var n=i(),a=p(u);n!==u?(h(u=n,a),e(t).trigger(o)):a!==u&&(location.href=location.href.replace(/#.*/,"")+a),r=setTimeout(s,e.fn[o].delay)}var r,l={},u=i(),d=function(e){return e},h=d,p=d;return l.start=function(){r||s()},l.stop=function(){r&&clearTimeout(r),r=n},e.browser.msie&&!c&&function(){var t,n;l.start=function(){t||(n=e.fn[o].src,n=n&&n+i(),t=e('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){n||h(i()),s()}).attr("src",n||"javascript:0").insertAfter("body")[0].contentWindow,a.onpropertychange=function(){try{"title"===event.propertyName&&(t.document.title=a.title)}catch(e){}})},l.stop=d,p=function(){return i(t.location.href)},h=function(n,i){var s=t.document,r=e.fn[o].domain;n!==i&&(s.title=a.title,s.open(),r&&s.write('<script>document.domain="'+r+'"</script>'),s.close(),t.location.hash=n)}}(),l}()}(jQuery,this),!function(e){e.flexslider=function(t,n){var i=e(t);i.vars=e.extend({},e.flexslider.defaults,n);var s,o=i.vars.namespace,a=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,r=("ontouchstart"in window||a||window.DocumentTouch&&document instanceof DocumentTouch)&&i.vars.touch,l="click touchend MSPointerUp keyup",c="",u="vertical"===i.vars.direction,d=i.vars.reverse,h=i.vars.itemWidth>0,p="fade"===i.vars.animation,m=""!==i.vars.asNavFor,f={},g=!0;e.data(t,"flexslider",i),f={init:function(){i.animating=!1,i.currentSlide=parseInt(i.vars.startAt?i.vars.startAt:0,10),isNaN(i.currentSlide)&&(i.currentSlide=0),i.animatingTo=i.currentSlide,i.atEnd=0===i.currentSlide||i.currentSlide===i.last,i.containerSelector=i.vars.selector.substr(0,i.vars.selector.search(" ")),i.slides=e(i.vars.selector,i),i.container=e(i.containerSelector,i),i.count=i.slides.length,i.syncExists=e(i.vars.sync).length>0,"slide"===i.vars.animation&&(i.vars.animation="swing"),i.prop=u?"top":"marginLeft",i.args={},i.manualPause=!1,i.stopped=!1,i.started=!1,i.startTimeout=null,i.transitions=!i.vars.video&&!p&&i.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var n in t)if(void 0!==e.style[t[n]])return i.pfx=t[n].replace("Perspective","").toLowerCase(),i.prop="-"+i.pfx+"-transform",!0;return!1}(),i.ensureAnimationEnd="",""!==i.vars.controlsContainer&&(i.controlsContainer=e(i.vars.controlsContainer).length>0&&e(i.vars.controlsContainer)),""!==i.vars.manualControls&&(i.manualControls=e(i.vars.manualControls).length>0&&e(i.vars.manualControls)),i.vars.randomize&&(i.slides.sort(function(){return Math.round(Math.random())-.5}),i.container.empty().append(i.slides)),i.doMath(),i.setup("init"),i.vars.controlNav&&f.controlNav.setup(),i.vars.directionNav&&f.directionNav.setup(),i.vars.keyboard&&(1===e(i.containerSelector).length||i.vars.multipleKeyboard)&&e(document).bind("keyup",function(e){var t=e.keyCode;if(!i.animating&&(39===t||37===t)){var n=39===t?i.getTarget("next"):37===t?i.getTarget("prev"):!1;i.flexAnimate(n,i.vars.pauseOnAction)}}),i.vars.mousewheel&&i.bind("mousewheel",function(e,t,n,s){e.preventDefault();var o=i.getTarget(0>t?"next":"prev");i.flexAnimate(o,i.vars.pauseOnAction)}),i.vars.pausePlay&&f.pausePlay.setup(),i.vars.slideshow&&i.vars.pauseInvisible&&f.pauseInvisible.init(),i.vars.slideshow&&(i.vars.pauseOnHover&&i.hover(function(){i.manualPlay||i.manualPause||i.pause()},function(){i.manualPause||i.manualPlay||i.stopped||i.play()}),i.vars.pauseInvisible&&f.pauseInvisible.isHidden()||(i.vars.initDelay>0?i.startTimeout=setTimeout(i.play,i.vars.initDelay):i.play())),m&&f.asNav.setup(),r&&i.vars.touch&&f.touch(),(!p||p&&i.vars.smoothHeight)&&e(window).bind("resize orientationchange focus",f.resize),i.find("img").attr("draggable","false"),setTimeout(function(){i.vars.start(i)},200)},asNav:{setup:function(){i.asNav=!0,i.animatingTo=Math.floor(i.currentSlide/i.move),i.currentItem=i.currentSlide,i.slides.removeClass(o+"active-slide").eq(i.currentItem).addClass(o+"active-slide"),a?(t._slider=i,i.slides.each(function(){var t=this;t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",function(e){e.preventDefault(),e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1),t.addEventListener("MSGestureTap",function(t){t.preventDefault();var n=e(this),s=n.index();e(i.vars.asNavFor).data("flexslider").animating||n.hasClass("active")||(i.direction=i.currentItem<s?"next":"prev",i.flexAnimate(s,i.vars.pauseOnAction,!1,!0,!0))})})):i.slides.on(l,function(t){t.preventDefault();var n=e(this),s=n.index(),a=n.offset().left-e(i).scrollLeft();0>=a&&n.hasClass(o+"active-slide")?i.flexAnimate(i.getTarget("prev"),!0):e(i.vars.asNavFor).data("flexslider").animating||n.hasClass(o+"active-slide")||(i.direction=i.currentItem<s?"next":"prev",i.flexAnimate(s,i.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){i.manualControls?f.controlNav.setupManual():f.controlNav.setupPaging()},setupPaging:function(){var t,n,s="thumbnails"===i.vars.controlNav?"control-thumbs":"control-paging",a=1;if(i.controlNavScaffold=e('<ol class="'+o+"control-nav "+o+s+'"></ol>'),i.pagingCount>1)for(var r=0;r<i.pagingCount;r++){if(n=i.slides.eq(r),t="thumbnails"===i.vars.controlNav?'<img src="'+n.attr("data-thumb")+'"/>':"<a>"+a+"</a>","thumbnails"===i.vars.controlNav&&!0===i.vars.thumbCaptions){var u=n.attr("data-thumbcaption");""!=u&&void 0!=u&&(t+='<span class="'+o+'caption">'+u+"</span>")}i.controlNavScaffold.append("<li>"+t+"</li>"),a++}i.controlsContainer?e(i.controlsContainer).append(i.controlNavScaffold):i.append(i.controlNavScaffold),f.controlNav.set(),f.controlNav.active(),i.controlNavScaffold.delegate("a, img",l,function(t){if(t.preventDefault(),""===c||c===t.type){var n=e(this),s=i.controlNav.index(n);n.hasClass(o+"active")||(i.direction=s>i.currentSlide?"next":"prev",i.flexAnimate(s,i.vars.pauseOnAction))}""===c&&(c=t.type),f.setToClearWatchedEvent()})},setupManual:function(){i.controlNav=i.manualControls,f.controlNav.active(),i.controlNav.bind(l,function(t){if(t.preventDefault(),""===c||c===t.type){var n=e(this),s=i.controlNav.index(n);n.hasClass(o+"active")||(i.direction=s>i.currentSlide?"next":"prev",i.flexAnimate(s,i.vars.pauseOnAction))}""===c&&(c=t.type),f.setToClearWatchedEvent()})},set:function(){var t="thumbnails"===i.vars.controlNav?"img":"a";i.controlNav=e("."+o+"control-nav li "+t,i.controlsContainer?i.controlsContainer:i)},active:function(){i.controlNav.removeClass(o+"active").eq(i.animatingTo).addClass(o+"active")},update:function(t,n){i.pagingCount>1&&"add"===t?i.controlNavScaffold.append(e("<li><a>"+i.count+"</a></li>")):1===i.pagingCount?i.controlNavScaffold.find("li").remove():i.controlNav.eq(n).closest("li").remove(),f.controlNav.set(),i.pagingCount>1&&i.pagingCount!==i.controlNav.length?i.update(n,t):f.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+o+'direction-nav"><li class="'+o+'nav-prev"><a class="'+o+'prev" href="#">'+i.vars.prevText+'</a></li><li class="'+o+'nav-next"><a class="'+o+'next" href="#">'+i.vars.nextText+"</a></li></ul>");i.controlsContainer?(e(i.controlsContainer).append(t),i.directionNav=e("."+o+"direction-nav li a",i.controlsContainer)):(i.append(t),i.directionNav=e("."+o+"direction-nav li a",i)),f.directionNav.update(),i.directionNav.bind(l,function(t){t.preventDefault();var n;(""===c||c===t.type)&&(n=i.getTarget(e(this).hasClass(o+"next")?"next":"prev"),i.flexAnimate(n,i.vars.pauseOnAction)),""===c&&(c=t.type),f.setToClearWatchedEvent()})},update:function(){var e=o+"disabled";1===i.pagingCount?i.directionNav.addClass(e).attr("tabindex","-1"):i.vars.animationLoop?i.directionNav.removeClass(e).removeAttr("tabindex"):0===i.animatingTo?i.directionNav.removeClass(e).filter("."+o+"prev").addClass(e).attr("tabindex","-1"):i.animatingTo===i.last?i.directionNav.removeClass(e).filter("."+o+"next").addClass(e).attr("tabindex","-1"):i.directionNav.removeClass(e).removeAttr("tabindex")}},pausePlay:{setup:function(){var t=e('<div class="'+o+'pauseplay"><a></a></div>');i.controlsContainer?(i.controlsContainer.append(t),i.pausePlay=e("."+o+"pauseplay a",i.controlsContainer)):(i.append(t),i.pausePlay=e("."+o+"pauseplay a",i)),f.pausePlay.update(i.vars.slideshow?o+"pause":o+"play"),i.pausePlay.bind(l,function(t){t.preventDefault(),(""===c||c===t.type)&&(e(this).hasClass(o+"pause")?(i.manualPause=!0,i.manualPlay=!1,i.pause()):(i.manualPause=!1,i.manualPlay=!0,i.play())),""===c&&(c=t.type),f.setToClearWatchedEvent()})},update:function(e){"play"===e?i.pausePlay.removeClass(o+"pause").addClass(o+"play").html(i.vars.playText):i.pausePlay.removeClass(o+"play").addClass(o+"pause").html(i.vars.pauseText)}},touch:function(){function e(e){i.animating?e.preventDefault():(window.navigator.msPointerEnabled||1===e.touches.length)&&(i.pause(),g=u?i.h:i.w,w=Number(new Date),b=e.touches[0].pageX,_=e.touches[0].pageY,f=h&&d&&i.animatingTo===i.last?0:h&&d?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:h&&i.currentSlide===i.last?i.limit:h?(i.itemW+i.vars.itemMargin)*i.move*i.currentSlide:d?(i.last-i.currentSlide+i.cloneOffset)*g:(i.currentSlide+i.cloneOffset)*g,c=u?_:b,m=u?b:_,t.addEventListener("touchmove",n,!1),t.addEventListener("touchend",s,!1))}function n(e){b=e.touches[0].pageX,_=e.touches[0].pageY,v=u?c-_:c-b,y=u?Math.abs(v)<Math.abs(b-m):Math.abs(v)<Math.abs(_-m);var t=500;(!y||Number(new Date)-w>t)&&(e.preventDefault(),!p&&i.transitions&&(i.vars.animationLoop||(v/=0===i.currentSlide&&0>v||i.currentSlide===i.last&&v>0?Math.abs(v)/g+2:1),i.setProps(f+v,"setTouch")))}function s(e){if(t.removeEventListener("touchmove",n,!1),i.animatingTo===i.currentSlide&&!y&&null!==v){var o=d?-v:v,a=i.getTarget(o>0?"next":"prev");i.canAdvance(a)&&(Number(new Date)-w<550&&Math.abs(o)>50||Math.abs(o)>g/2)?i.flexAnimate(a,i.vars.pauseOnAction):p||i.flexAnimate(i.currentSlide,i.vars.pauseOnAction,!0)}t.removeEventListener("touchend",s,!1),c=null,m=null,v=null,f=null}function o(e){e.stopPropagation(),i.animating?e.preventDefault():(i.pause(),t._gesture.addPointer(e.pointerId),$=0,g=u?i.h:i.w,w=Number(new Date),f=h&&d&&i.animatingTo===i.last?0:h&&d?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:h&&i.currentSlide===i.last?i.limit:h?(i.itemW+i.vars.itemMargin)*i.move*i.currentSlide:d?(i.last-i.currentSlide+i.cloneOffset)*g:(i.currentSlide+i.cloneOffset)*g)}function r(e){e.stopPropagation();var n=e.target._slider;if(n){var i=-e.translationX,s=-e.translationY;return $+=u?s:i,v=$,y=u?Math.abs($)<Math.abs(-i):Math.abs($)<Math.abs(-s),e.detail===e.MSGESTURE_FLAG_INERTIA?void setImmediate(function(){t._gesture.stop()}):void((!y||Number(new Date)-w>500)&&(e.preventDefault(),!p&&n.transitions&&(n.vars.animationLoop||(v=$/(0===n.currentSlide&&0>$||n.currentSlide===n.last&&$>0?Math.abs($)/g+2:1)),n.setProps(f+v,"setTouch"))))}}function l(e){e.stopPropagation();var t=e.target._slider;if(t){if(t.animatingTo===t.currentSlide&&!y&&null!==v){var n=d?-v:v,i=t.getTarget(n>0?"next":"prev");t.canAdvance(i)&&(Number(new Date)-w<550&&Math.abs(n)>50||Math.abs(n)>g/2)?t.flexAnimate(i,t.vars.pauseOnAction):p||t.flexAnimate(t.currentSlide,t.vars.pauseOnAction,!0)}c=null,m=null,v=null,f=null,$=0}}var c,m,f,g,v,w,y=!1,b=0,_=0,$=0;a?(t.style.msTouchAction="none",t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",o,!1),t._slider=i,t.addEventListener("MSGestureChange",r,!1),t.addEventListener("MSGestureEnd",l,!1)):t.addEventListener("touchstart",e,!1)},resize:function(){!i.animating&&i.is(":visible")&&(h||i.doMath(),p?f.smoothHeight():h?(i.slides.width(i.computedW),i.update(i.pagingCount),i.setProps()):u?(i.viewport.height(i.h),i.setProps(i.h,"setTotal")):(i.vars.smoothHeight&&f.smoothHeight(),i.newSlides.width(i.computedW),i.setProps(i.computedW,"setTotal")))},smoothHeight:function(e){if(!u||p){var t=p?i:i.viewport;e?t.animate({height:i.slides.eq(i.animatingTo).height()},e):t.height(i.slides.eq(i.animatingTo).height())}},sync:function(t){var n=e(i.vars.sync).data("flexslider"),s=i.animatingTo;switch(t){case"animate":n.flexAnimate(s,i.vars.pauseOnAction,!1,!0);break;case"play":n.playing||n.asNav||n.play();break;case"pause":n.pause()}},uniqueID:function(t){return t.filter("[id]").add(t.find("[id]")).each(function(){var t=e(this);t.attr("id",t.attr("id")+"_clone")}),t},pauseInvisible:{visProp:null,init:function(){var e=f.pauseInvisible.getHiddenProp();if(e){var t=e.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(t,function(){f.pauseInvisible.isHidden()?i.startTimeout?clearTimeout(i.startTimeout):i.pause():i.started?i.play():i.vars.initDelay>0?setTimeout(i.play,i.vars.initDelay):i.play()})}},isHidden:function(){var e=f.pauseInvisible.getHiddenProp();return e?document[e]:!1},getHiddenProp:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(s),s=setTimeout(function(){c=""},3e3)}},i.flexAnimate=function(t,n,s,a,l){if(i.vars.animationLoop||t===i.currentSlide||(i.direction=t>i.currentSlide?"next":"prev"),m&&1===i.pagingCount&&(i.direction=i.currentItem<t?"next":"prev"),!i.animating&&(i.canAdvance(t,l)||s)&&i.is(":visible")){if(m&&a){var c=e(i.vars.asNavFor).data("flexslider");if(i.atEnd=0===t||t===i.count-1,c.flexAnimate(t,!0,!1,!0,l),i.direction=i.currentItem<t?"next":"prev",c.direction=i.direction,Math.ceil((t+1)/i.visible)-1===i.currentSlide||0===t)return i.currentItem=t,i.slides.removeClass(o+"active-slide").eq(t).addClass(o+"active-slide"),!1;i.currentItem=t,i.slides.removeClass(o+"active-slide").eq(t).addClass(o+"active-slide"),t=Math.floor(t/i.visible)}if(i.animating=!0,i.animatingTo=t,n&&i.pause(),i.vars.before(i),i.syncExists&&!l&&f.sync("animate"),i.vars.controlNav&&f.controlNav.active(),h||i.slides.removeClass(o+"active-slide").eq(t).addClass(o+"active-slide"),i.atEnd=0===t||t===i.last,i.vars.directionNav&&f.directionNav.update(),t===i.last&&(i.vars.end(i),i.vars.animationLoop||i.pause()),p)r?(i.slides.eq(i.currentSlide).css({opacity:0,zIndex:1}),i.slides.eq(t).css({opacity:1,zIndex:2}),i.wrapup(y)):(i.slides.eq(i.currentSlide).css({zIndex:1}).animate({opacity:0},i.vars.animationSpeed,i.vars.easing),i.slides.eq(t).css({zIndex:2}).animate({opacity:1},i.vars.animationSpeed,i.vars.easing,i.wrapup));else{var g,v,w,y=u?i.slides.filter(":first").height():i.computedW;h?(g=i.vars.itemMargin,w=(i.itemW+g)*i.move*i.animatingTo,v=w>i.limit&&1!==i.visible?i.limit:w):v=0===i.currentSlide&&t===i.count-1&&i.vars.animationLoop&&"next"!==i.direction?d?(i.count+i.cloneOffset)*y:0:i.currentSlide===i.last&&0===t&&i.vars.animationLoop&&"prev"!==i.direction?d?0:(i.count+1)*y:d?(i.count-1-t+i.cloneOffset)*y:(t+i.cloneOffset)*y,i.setProps(v,"",i.vars.animationSpeed),i.transitions?(i.vars.animationLoop&&i.atEnd||(i.animating=!1,i.currentSlide=i.animatingTo),i.container.unbind("webkitTransitionEnd transitionend"),i.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(i.ensureAnimationEnd),i.wrapup(y)}),clearTimeout(i.ensureAnimationEnd),i.ensureAnimationEnd=setTimeout(function(){i.wrapup(y)},i.vars.animationSpeed+100)):i.container.animate(i.args,i.vars.animationSpeed,i.vars.easing,function(){i.wrapup(y)})}i.vars.smoothHeight&&f.smoothHeight(i.vars.animationSpeed)}},i.wrapup=function(e){p||h||(0===i.currentSlide&&i.animatingTo===i.last&&i.vars.animationLoop?i.setProps(e,"jumpEnd"):i.currentSlide===i.last&&0===i.animatingTo&&i.vars.animationLoop&&i.setProps(e,"jumpStart")),i.animating=!1,i.currentSlide=i.animatingTo,i.vars.after(i)},i.animateSlides=function(){!i.animating&&g&&i.flexAnimate(i.getTarget("next"))},i.pause=function(){clearInterval(i.animatedSlides),
i.animatedSlides=null,i.playing=!1,i.vars.pausePlay&&f.pausePlay.update("play"),i.syncExists&&f.sync("pause")},i.play=function(){i.playing&&clearInterval(i.animatedSlides),i.animatedSlides=i.animatedSlides||setInterval(i.animateSlides,i.vars.slideshowSpeed),i.started=i.playing=!0,i.vars.pausePlay&&f.pausePlay.update("pause"),i.syncExists&&f.sync("play")},i.stop=function(){i.pause(),i.stopped=!0},i.canAdvance=function(e,t){var n=m?i.pagingCount-1:i.last;return t?!0:m&&i.currentItem===i.count-1&&0===e&&"prev"===i.direction?!0:m&&0===i.currentItem&&e===i.pagingCount-1&&"next"!==i.direction?!1:e!==i.currentSlide||m?i.vars.animationLoop?!0:i.atEnd&&0===i.currentSlide&&e===n&&"next"!==i.direction?!1:i.atEnd&&i.currentSlide===n&&0===e&&"next"===i.direction?!1:!0:!1},i.getTarget=function(e){return i.direction=e,"next"===e?i.currentSlide===i.last?0:i.currentSlide+1:0===i.currentSlide?i.last:i.currentSlide-1},i.setProps=function(e,t,n){var s=function(){var n=e?e:(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo,s=function(){if(h)return"setTouch"===t?e:d&&i.animatingTo===i.last?0:d?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:i.animatingTo===i.last?i.limit:n;switch(t){case"setTotal":return d?(i.count-1-i.currentSlide+i.cloneOffset)*e:(i.currentSlide+i.cloneOffset)*e;case"setTouch":return d?e:e;case"jumpEnd":return d?e:i.count*e;case"jumpStart":return d?i.count*e:e;default:return e}}();return-1*s+"px"}();i.transitions&&(s=u?"translate3d(0,"+s+",0)":"translate3d("+s+",0,0)",n=void 0!==n?n/1e3+"s":"0s",i.container.css("-"+i.pfx+"-transition-duration",n),i.container.css("transition-duration",n)),i.args[i.prop]=s,(i.transitions||void 0===n)&&i.container.css(i.args),i.container.css("transform",s)},i.setup=function(t){if(p)i.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===t&&(r?i.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+i.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(i.currentSlide).css({opacity:1,zIndex:2}):0==i.vars.fadeFirstSlide?i.slides.css({opacity:0,display:"block",zIndex:1}).eq(i.currentSlide).css({zIndex:2}).css({opacity:1}):i.slides.css({opacity:0,display:"block",zIndex:1}).eq(i.currentSlide).css({zIndex:2}).animate({opacity:1},i.vars.animationSpeed,i.vars.easing)),i.vars.smoothHeight&&f.smoothHeight();else{var n,s;"init"===t&&(i.viewport=e('<div class="'+o+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(i).append(i.container),i.cloneCount=0,i.cloneOffset=0,d&&(s=e.makeArray(i.slides).reverse(),i.slides=e(s),i.container.empty().append(i.slides))),i.vars.animationLoop&&!h&&(i.cloneCount=2,i.cloneOffset=1,"init"!==t&&i.container.find(".clone").remove(),i.container.append(f.uniqueID(i.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(f.uniqueID(i.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),i.newSlides=e(i.vars.selector,i),n=d?i.count-1-i.currentSlide+i.cloneOffset:i.currentSlide+i.cloneOffset,u&&!h?(i.container.height(200*(i.count+i.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){i.newSlides.css({display:"block"}),i.doMath(),i.viewport.height(i.h),i.setProps(n*i.h,"init")},"init"===t?100:0)):(i.container.width(200*(i.count+i.cloneCount)+"%"),i.setProps(n*i.computedW,"init"),setTimeout(function(){i.doMath(),i.newSlides.css({width:i.computedW,"float":"left",display:"block"}),i.vars.smoothHeight&&f.smoothHeight()},"init"===t?100:0))}h||i.slides.removeClass(o+"active-slide").eq(i.currentSlide).addClass(o+"active-slide"),i.vars.init(i)},i.doMath=function(){var e=i.slides.first(),t=i.vars.itemMargin,n=i.vars.minItems,s=i.vars.maxItems;i.w=void 0===i.viewport?i.width():i.viewport.width(),i.h=e.height(),i.boxPadding=e.outerWidth()-e.width(),h?(i.itemT=i.vars.itemWidth+t,i.minW=n?n*i.itemT:i.w,i.maxW=s?s*i.itemT-t:i.w,i.itemW=i.minW>i.w?(i.w-t*(n-1))/n:i.maxW<i.w?(i.w-t*(s-1))/s:i.vars.itemWidth>i.w?i.w:i.vars.itemWidth,i.visible=Math.floor(i.w/i.itemW),i.move=i.vars.move>0&&i.vars.move<i.visible?i.vars.move:i.visible,i.pagingCount=Math.ceil((i.count-i.visible)/i.move+1),i.last=i.pagingCount-1,i.limit=1===i.pagingCount?0:i.vars.itemWidth>i.w?i.itemW*(i.count-1)+t*(i.count-1):(i.itemW+t)*i.count-i.w-t):(i.itemW=i.w,i.pagingCount=i.count,i.last=i.count-1),i.computedW=i.itemW-i.boxPadding},i.update=function(e,t){i.doMath(),h||(e<i.currentSlide?i.currentSlide+=1:e<=i.currentSlide&&0!==e&&(i.currentSlide-=1),i.animatingTo=i.currentSlide),i.vars.controlNav&&!i.manualControls&&("add"===t&&!h||i.pagingCount>i.controlNav.length?f.controlNav.update("add"):("remove"===t&&!h||i.pagingCount<i.controlNav.length)&&(h&&i.currentSlide>i.last&&(i.currentSlide-=1,i.animatingTo-=1),f.controlNav.update("remove",i.last))),i.vars.directionNav&&f.directionNav.update()},i.addSlide=function(t,n){var s=e(t);i.count+=1,i.last=i.count-1,u&&d?void 0!==n?i.slides.eq(i.count-n).after(s):i.container.prepend(s):void 0!==n?i.slides.eq(n).before(s):i.container.append(s),i.update(n,"add"),i.slides=e(i.vars.selector+":not(.clone)",i),i.setup(),i.vars.added(i)},i.removeSlide=function(t){var n=isNaN(t)?i.slides.index(e(t)):t;i.count-=1,i.last=i.count-1,isNaN(t)?e(t,i.slides).remove():u&&d?i.slides.eq(i.last).remove():i.slides.eq(t).remove(),i.doMath(),i.update(n,"remove"),i.slides=e(i.vars.selector+":not(.clone)",i),i.setup(),i.vars.removed(i)},f.init()},e(window).blur(function(e){focused=!1}).focus(function(e){focused=!0}),e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},e.fn.flexslider=function(t){if(void 0===t&&(t={}),"object"==typeof t)return this.each(function(){var n=e(this),i=t.selector?t.selector:".slides > li",s=n.find(i);1===s.length&&t.allowOneSlide===!0||0===s.length?(s.fadeIn(400),t.start&&t.start(n)):void 0===n.data("flexslider")&&new e.flexslider(this,t)});var n=e(this).data("flexslider");switch(t){case"play":n.play();break;case"pause":n.pause();break;case"stop":n.stop();break;case"next":n.flexAnimate(n.getTarget("next"),!0);break;case"prev":case"previous":n.flexAnimate(n.getTarget("prev"),!0);break;default:"number"==typeof t&&n.flexAnimate(t,!0)}}}(jQuery),"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(e,t,n){var i={init:function(t,n){var i=this;i.$elem=e(n),i.options=e.extend({},e.fn.owlCarousel.options,i.$elem.data(),t),i.userOptions=t,i.loadContent()},loadContent:function(){function t(e){var t,n="";if("function"==typeof i.options.jsonSuccess)i.options.jsonSuccess.apply(this,[e]);else{for(t in e.owl)e.owl.hasOwnProperty(t)&&(n+=e.owl[t].item);i.$elem.html(n)}i.logIn()}var n,i=this;"function"==typeof i.options.beforeInit&&i.options.beforeInit.apply(this,[i.$elem]),"string"==typeof i.options.jsonPath?(n=i.options.jsonPath,e.getJSON(n,t)):i.logIn()},logIn:function(){var e=this;e.$elem.data({"owl-originalStyles":e.$elem.attr("style"),"owl-originalClasses":e.$elem.attr("class")}),e.$elem.css({opacity:0}),e.orignalItems=e.options.items,e.checkBrowser(),e.wrapperWidth=0,e.checkVisible=null,e.setVars()},setVars:function(){var e=this;return 0===e.$elem.children().length?!1:(e.baseClass(),e.eventTypes(),e.$userItems=e.$elem.children(),e.itemsAmount=e.$userItems.length,e.wrapItems(),e.$owlItems=e.$elem.find(".owl-item"),e.$owlWrapper=e.$elem.find(".owl-wrapper"),e.playDirection="next",e.prevItem=0,e.prevArr=[0],e.currentItem=0,e.customEvents(),void e.onStartup())},onStartup:function(){var e=this;e.updateItems(),e.calculateAll(),e.buildControls(),e.updateControls(),e.response(),e.moveEvents(),e.stopOnHover(),e.owlStatus(),e.options.transitionStyle!==!1&&e.transitionTypes(e.options.transitionStyle),e.options.autoPlay===!0&&(e.options.autoPlay=5e3),e.play(),e.$elem.find(".owl-wrapper").css("display","block"),e.$elem.is(":visible")?e.$elem.css("opacity",1):e.watchVisibility(),e.onstartup=!1,e.eachMoveUpdate(),"function"==typeof e.options.afterInit&&e.options.afterInit.apply(this,[e.$elem])},eachMoveUpdate:function(){var e=this;e.options.lazyLoad===!0&&e.lazyLoad(),e.options.autoHeight===!0&&e.autoHeight(),e.onVisibleItems(),"function"==typeof e.options.afterAction&&e.options.afterAction.apply(this,[e.$elem])},updateVars:function(){var e=this;"function"==typeof e.options.beforeUpdate&&e.options.beforeUpdate.apply(this,[e.$elem]),e.watchVisibility(),e.updateItems(),e.calculateAll(),e.updatePosition(),e.updateControls(),e.eachMoveUpdate(),"function"==typeof e.options.afterUpdate&&e.options.afterUpdate.apply(this,[e.$elem])},reload:function(){var e=this;t.setTimeout(function(){e.updateVars()},0)},watchVisibility:function(){var e=this;return e.$elem.is(":visible")!==!1?!1:(e.$elem.css({opacity:0}),t.clearInterval(e.autoPlayInterval),t.clearInterval(e.checkVisible),void(e.checkVisible=t.setInterval(function(){e.$elem.is(":visible")&&(e.reload(),e.$elem.animate({opacity:1},200),t.clearInterval(e.checkVisible))},500)))},wrapItems:function(){var e=this;e.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>'),e.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">'),e.wrapperOuter=e.$elem.find(".owl-wrapper-outer"),e.$elem.css("display","block")},baseClass:function(){var e=this,t=e.$elem.hasClass(e.options.baseClass),n=e.$elem.hasClass(e.options.theme);t||e.$elem.addClass(e.options.baseClass),n||e.$elem.addClass(e.options.theme)},updateItems:function(){var t,n,i=this;if(i.options.responsive===!1)return!1;if(i.options.singleItem===!0)return i.options.items=i.orignalItems=1,i.options.itemsCustom=!1,i.options.itemsDesktop=!1,i.options.itemsDesktopSmall=!1,i.options.itemsTablet=!1,i.options.itemsTabletSmall=!1,i.options.itemsMobile=!1,!1;if(t=e(i.options.responsiveBaseWidth).width(),t>(i.options.itemsDesktop[0]||i.orignalItems)&&(i.options.items=i.orignalItems),i.options.itemsCustom!==!1)for(i.options.itemsCustom.sort(function(e,t){return e[0]-t[0]}),n=0;n<i.options.itemsCustom.length;n+=1)i.options.itemsCustom[n][0]<=t&&(i.options.items=i.options.itemsCustom[n][1]);else t<=i.options.itemsDesktop[0]&&i.options.itemsDesktop!==!1&&(i.options.items=i.options.itemsDesktop[1]),t<=i.options.itemsDesktopSmall[0]&&i.options.itemsDesktopSmall!==!1&&(i.options.items=i.options.itemsDesktopSmall[1]),t<=i.options.itemsTablet[0]&&i.options.itemsTablet!==!1&&(i.options.items=i.options.itemsTablet[1]),t<=i.options.itemsTabletSmall[0]&&i.options.itemsTabletSmall!==!1&&(i.options.items=i.options.itemsTabletSmall[1]),t<=i.options.itemsMobile[0]&&i.options.itemsMobile!==!1&&(i.options.items=i.options.itemsMobile[1]);i.options.items>i.itemsAmount&&i.options.itemsScaleUp===!0&&(i.options.items=i.itemsAmount)},response:function(){var n,i,s=this;return s.options.responsive!==!0?!1:(i=e(t).width(),s.resizer=function(){e(t).width()!==i&&(s.options.autoPlay!==!1&&t.clearInterval(s.autoPlayInterval),t.clearTimeout(n),n=t.setTimeout(function(){i=e(t).width(),s.updateVars()},s.options.responsiveRefreshRate))},void e(t).resize(s.resizer))},updatePosition:function(){var e=this;e.jumpTo(e.currentItem),e.options.autoPlay!==!1&&e.checkAp()},appendItemsSizes:function(){var t=this,n=0,i=t.itemsAmount-t.options.items;t.$owlItems.each(function(s){var o=e(this);o.css({width:t.itemWidth}).data("owl-item",Number(s)),(s%t.options.items===0||s===i)&&(s>i||(n+=1)),o.data("owl-roundPages",n)})},appendWrapperSizes:function(){var e=this,t=e.$owlItems.length*e.itemWidth;e.$owlWrapper.css({width:2*t,left:0}),e.appendItemsSizes()},calculateAll:function(){var e=this;e.calculateWidth(),e.appendWrapperSizes(),e.loops(),e.max()},calculateWidth:function(){var e=this;e.itemWidth=Math.round(e.$elem.width()/e.options.items)},max:function(){var e=this,t=-1*(e.itemsAmount*e.itemWidth-e.options.items*e.itemWidth);return e.options.items>e.itemsAmount?(e.maximumItem=0,t=0,e.maximumPixels=0):(e.maximumItem=e.itemsAmount-e.options.items,e.maximumPixels=t),t},min:function(){return 0},loops:function(){var t,n,i,s=this,o=0,a=0;for(s.positionsInArray=[0],s.pagesInArray=[],t=0;t<s.itemsAmount;t+=1)a+=s.itemWidth,s.positionsInArray.push(-a),s.options.scrollPerPage===!0&&(n=e(s.$owlItems[t]),i=n.data("owl-roundPages"),i!==o&&(s.pagesInArray[o]=s.positionsInArray[t],o=i))},buildControls:function(){var t=this;(t.options.navigation===!0||t.options.pagination===!0)&&(t.owlControls=e('<div class="owl-controls"/>').toggleClass("clickable",!t.browser.isTouch).appendTo(t.$elem)),t.options.pagination===!0&&t.buildPagination(),t.options.navigation===!0&&t.buildButtons()},buildButtons:function(){var t=this,n=e('<div class="owl-buttons"/>');t.owlControls.append(n),t.buttonPrev=e("<div/>",{"class":"owl-prev",html:t.options.navigationText[0]||""}),t.buttonNext=e("<div/>",{"class":"owl-next",html:t.options.navigationText[1]||""}),n.append(t.buttonPrev).append(t.buttonNext),n.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',function(e){e.preventDefault()}),n.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',function(n){n.preventDefault(),e(this).hasClass("owl-next")?t.next():t.prev()})},buildPagination:function(){var t=this;t.paginationWrapper=e('<div class="owl-pagination"/>'),t.owlControls.append(t.paginationWrapper),t.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(n){n.preventDefault(),Number(e(this).data("owl-page"))!==t.currentItem&&t.goTo(Number(e(this).data("owl-page")),!0)})},updatePagination:function(){var t,n,i,s,o,a,r=this;if(r.options.pagination===!1)return!1;for(r.paginationWrapper.html(""),t=0,n=r.itemsAmount-r.itemsAmount%r.options.items,s=0;s<r.itemsAmount;s+=1)s%r.options.items===0&&(t+=1,n===s&&(i=r.itemsAmount-r.options.items),o=e("<div/>",{"class":"owl-page"}),a=e("<span></span>",{text:r.options.paginationNumbers===!0?t:"","class":r.options.paginationNumbers===!0?"owl-numbers":""}),o.append(a),o.data("owl-page",n===s?i:s),o.data("owl-roundPages",t),r.paginationWrapper.append(o));r.checkPagination()},checkPagination:function(){var t=this;return t.options.pagination===!1?!1:void t.paginationWrapper.find(".owl-page").each(function(){e(this).data("owl-roundPages")===e(t.$owlItems[t.currentItem]).data("owl-roundPages")&&(t.paginationWrapper.find(".owl-page").removeClass("active"),e(this).addClass("active"))})},checkNavigation:function(){var e=this;return e.options.navigation===!1?!1:void(e.options.rewindNav===!1&&(0===e.currentItem&&0===e.maximumItem?(e.buttonPrev.addClass("disabled"),e.buttonNext.addClass("disabled")):0===e.currentItem&&0!==e.maximumItem?(e.buttonPrev.addClass("disabled"),e.buttonNext.removeClass("disabled")):e.currentItem===e.maximumItem?(e.buttonPrev.removeClass("disabled"),e.buttonNext.addClass("disabled")):0!==e.currentItem&&e.currentItem!==e.maximumItem&&(e.buttonPrev.removeClass("disabled"),e.buttonNext.removeClass("disabled"))))},updateControls:function(){var e=this;e.updatePagination(),e.checkNavigation(),e.owlControls&&(e.options.items>=e.itemsAmount?e.owlControls.hide():e.owlControls.show())},destroyControls:function(){var e=this;e.owlControls&&e.owlControls.remove()},next:function(e){var t=this;if(t.isTransition)return!1;if(t.currentItem+=t.options.scrollPerPage===!0?t.options.items:1,t.currentItem>t.maximumItem+(t.options.scrollPerPage===!0?t.options.items-1:0)){if(t.options.rewindNav!==!0)return t.currentItem=t.maximumItem,!1;t.currentItem=0,e="rewind"}t.goTo(t.currentItem,e)},prev:function(e){var t=this;if(t.isTransition)return!1;if(t.options.scrollPerPage===!0&&t.currentItem>0&&t.currentItem<t.options.items?t.currentItem=0:t.currentItem-=t.options.scrollPerPage===!0?t.options.items:1,t.currentItem<0){if(t.options.rewindNav!==!0)return t.currentItem=0,!1;t.currentItem=t.maximumItem,e="rewind"}t.goTo(t.currentItem,e)},goTo:function(e,n,i){var s,o=this;return o.isTransition?!1:("function"==typeof o.options.beforeMove&&o.options.beforeMove.apply(this,[o.$elem]),e>=o.maximumItem?e=o.maximumItem:0>=e&&(e=0),o.currentItem=o.owl.currentItem=e,o.options.transitionStyle!==!1&&"drag"!==i&&1===o.options.items&&o.browser.support3d===!0?(o.swapSpeed(0),o.browser.support3d===!0?o.transition3d(o.positionsInArray[e]):o.css2slide(o.positionsInArray[e],1),o.afterGo(),o.singleItemTransition(),!1):(s=o.positionsInArray[e],o.browser.support3d===!0?(o.isCss3Finish=!1,n===!0?(o.swapSpeed("paginationSpeed"),t.setTimeout(function(){o.isCss3Finish=!0},o.options.paginationSpeed)):"rewind"===n?(o.swapSpeed(o.options.rewindSpeed),t.setTimeout(function(){o.isCss3Finish=!0},o.options.rewindSpeed)):(o.swapSpeed("slideSpeed"),t.setTimeout(function(){o.isCss3Finish=!0},o.options.slideSpeed)),o.transition3d(s)):n===!0?o.css2slide(s,o.options.paginationSpeed):"rewind"===n?o.css2slide(s,o.options.rewindSpeed):o.css2slide(s,o.options.slideSpeed),void o.afterGo()))},jumpTo:function(e){var t=this;"function"==typeof t.options.beforeMove&&t.options.beforeMove.apply(this,[t.$elem]),e>=t.maximumItem||-1===e?e=t.maximumItem:0>=e&&(e=0),t.swapSpeed(0),t.browser.support3d===!0?t.transition3d(t.positionsInArray[e]):t.css2slide(t.positionsInArray[e],1),t.currentItem=t.owl.currentItem=e,t.afterGo()},afterGo:function(){var e=this;e.prevArr.push(e.currentItem),e.prevItem=e.owl.prevItem=e.prevArr[e.prevArr.length-2],e.prevArr.shift(0),e.prevItem!==e.currentItem&&(e.checkPagination(),e.checkNavigation(),e.eachMoveUpdate(),e.options.autoPlay!==!1&&e.checkAp()),"function"==typeof e.options.afterMove&&e.prevItem!==e.currentItem&&e.options.afterMove.apply(this,[e.$elem])},stop:function(){var e=this;e.apStatus="stop",t.clearInterval(e.autoPlayInterval)},checkAp:function(){var e=this;"stop"!==e.apStatus&&e.play()},play:function(){var e=this;return e.apStatus="play",e.options.autoPlay===!1?!1:(t.clearInterval(e.autoPlayInterval),void(e.autoPlayInterval=t.setInterval(function(){e.next(!0)},e.options.autoPlay)))},swapSpeed:function(e){var t=this;"slideSpeed"===e?t.$owlWrapper.css(t.addCssSpeed(t.options.slideSpeed)):"paginationSpeed"===e?t.$owlWrapper.css(t.addCssSpeed(t.options.paginationSpeed)):"string"!=typeof e&&t.$owlWrapper.css(t.addCssSpeed(e))},addCssSpeed:function(e){return{"-webkit-transition":"all "+e+"ms ease","-moz-transition":"all "+e+"ms ease","-o-transition":"all "+e+"ms ease",transition:"all "+e+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(e){return{"-webkit-transform":"translate3d("+e+"px, 0px, 0px)","-moz-transform":"translate3d("+e+"px, 0px, 0px)","-o-transform":"translate3d("+e+"px, 0px, 0px)","-ms-transform":"translate3d("+e+"px, 0px, 0px)",transform:"translate3d("+e+"px, 0px,0px)"}},transition3d:function(e){var t=this;t.$owlWrapper.css(t.doTranslate(e))},css2move:function(e){var t=this;t.$owlWrapper.css({left:e})},css2slide:function(e,t){var n=this;n.isCssFinish=!1,n.$owlWrapper.stop(!0,!0).animate({left:e},{duration:t||n.options.slideSpeed,complete:function(){n.isCssFinish=!0}})},checkBrowser:function(){var e,i,s,o,a=this,r="translate3d(0px, 0px, 0px)",l=n.createElement("div");l.style.cssText="  -moz-transform:"+r+"; -ms-transform:"+r+"; -o-transform:"+r+"; -webkit-transform:"+r+"; transform:"+r,e=/translate3d\(0px, 0px, 0px\)/g,i=l.style.cssText.match(e),s=null!==i&&1===i.length,o="ontouchstart"in t||t.navigator.msMaxTouchPoints,a.browser={support3d:s,isTouch:o}},moveEvents:function(){var e=this;(e.options.mouseDrag!==!1||e.options.touchDrag!==!1)&&(e.gestures(),e.disabledEvents())},eventTypes:function(){var e=this,t=["s","e","x"];e.ev_types={},e.options.mouseDrag===!0&&e.options.touchDrag===!0?t=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]:e.options.mouseDrag===!1&&e.options.touchDrag===!0?t=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]:e.options.mouseDrag===!0&&e.options.touchDrag===!1&&(t=["mousedown.owl","mousemove.owl","mouseup.owl"]),e.ev_types.start=t[0],e.ev_types.move=t[1],e.ev_types.end=t[2]},disabledEvents:function(){var t=this;t.$elem.on("dragstart.owl",function(e){e.preventDefault()}),t.$elem.on("mousedown.disableTextSelect",function(t){return e(t.target).is("input, textarea, select, option")})},gestures:function(){function i(e){if(void 0!==e.touches)return{x:e.touches[0].pageX,y:e.touches[0].pageY};if(void 0===e.touches){if(void 0!==e.pageX)return{x:e.pageX,y:e.pageY};if(void 0===e.pageX)return{x:e.clientX,y:e.clientY}}}function s(t){"on"===t?(e(n).on(l.ev_types.move,a),e(n).on(l.ev_types.end,r)):"off"===t&&(e(n).off(l.ev_types.move),e(n).off(l.ev_types.end))}function o(n){var o,a=n.originalEvent||n||t.event;if(3===a.which)return!1;if(!(l.itemsAmount<=l.options.items)){if(l.isCssFinish===!1&&!l.options.dragBeforeAnimFinish)return!1;if(l.isCss3Finish===!1&&!l.options.dragBeforeAnimFinish)return!1;l.options.autoPlay!==!1&&t.clearInterval(l.autoPlayInterval),l.browser.isTouch===!0||l.$owlWrapper.hasClass("grabbing")||l.$owlWrapper.addClass("grabbing"),l.newPosX=0,l.newRelativeX=0,e(this).css(l.removeTransition()),o=e(this).position(),c.relativePos=o.left,c.offsetX=i(a).x-o.left,c.offsetY=i(a).y-o.top,s("on"),c.sliding=!1,c.targetElement=a.target||a.srcElement}}function a(s){var o,a,r=s.originalEvent||s||t.event;l.newPosX=i(r).x-c.offsetX,l.newPosY=i(r).y-c.offsetY,l.newRelativeX=l.newPosX-c.relativePos,"function"==typeof l.options.startDragging&&c.dragging!==!0&&0!==l.newRelativeX&&(c.dragging=!0,l.options.startDragging.apply(l,[l.$elem])),(l.newRelativeX>8||l.newRelativeX<-8)&&l.browser.isTouch===!0&&(void 0!==r.preventDefault?r.preventDefault():r.returnValue=!1,c.sliding=!0),(l.newPosY>10||l.newPosY<-10)&&c.sliding===!1&&e(n).off("touchmove.owl"),o=function(){return l.newRelativeX/5},a=function(){return l.maximumPixels+l.newRelativeX/5},l.newPosX=Math.max(Math.min(l.newPosX,o()),a()),l.browser.support3d===!0?l.transition3d(l.newPosX):l.css2move(l.newPosX)}function r(n){var i,o,a,r=n.originalEvent||n||t.event;r.target=r.target||r.srcElement,c.dragging=!1,l.browser.isTouch!==!0&&l.$owlWrapper.removeClass("grabbing"),l.newRelativeX<0?l.dragDirection=l.owl.dragDirection="left":l.dragDirection=l.owl.dragDirection="right",0!==l.newRelativeX&&(i=l.getNewPosition(),l.goTo(i,!1,"drag"),c.targetElement===r.target&&l.browser.isTouch!==!0&&(e(r.target).on("click.disable",function(t){t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e(t.target).off("click.disable")}),o=e._data(r.target,"events").click,a=o.pop(),o.splice(0,0,a))),s("off")}var l=this,c={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};l.isCssFinish=!0,l.$elem.on(l.ev_types.start,".owl-wrapper",o)},getNewPosition:function(){var e=this,t=e.closestItem();return t>e.maximumItem?(e.currentItem=e.maximumItem,t=e.maximumItem):e.newPosX>=0&&(t=0,e.currentItem=0),t},closestItem:function(){var t=this,n=t.options.scrollPerPage===!0?t.pagesInArray:t.positionsInArray,i=t.newPosX,s=null;return e.each(n,function(o,a){i-t.itemWidth/20>n[o+1]&&i-t.itemWidth/20<a&&"left"===t.moveDirection()?(s=a,t.options.scrollPerPage===!0?t.currentItem=e.inArray(s,t.positionsInArray):t.currentItem=o):i+t.itemWidth/20<a&&i+t.itemWidth/20>(n[o+1]||n[o]-t.itemWidth)&&"right"===t.moveDirection()&&(t.options.scrollPerPage===!0?(s=n[o+1]||n[n.length-1],t.currentItem=e.inArray(s,t.positionsInArray)):(s=n[o+1],t.currentItem=o+1))}),t.currentItem},moveDirection:function(){var e,t=this;return t.newRelativeX<0?(e="right",t.playDirection="next"):(e="left",t.playDirection="prev"),e},customEvents:function(){var e=this;e.$elem.on("owl.next",function(){e.next()}),e.$elem.on("owl.prev",function(){e.prev()}),e.$elem.on("owl.play",function(t,n){e.options.autoPlay=n,e.play(),e.hoverStatus="play"}),e.$elem.on("owl.stop",function(){e.stop(),e.hoverStatus="stop"}),e.$elem.on("owl.goTo",function(t,n){e.goTo(n)}),e.$elem.on("owl.jumpTo",function(t,n){e.jumpTo(n)})},stopOnHover:function(){var e=this;e.options.stopOnHover===!0&&e.browser.isTouch!==!0&&e.options.autoPlay!==!1&&(e.$elem.on("mouseover",function(){e.stop()}),e.$elem.on("mouseout",function(){"stop"!==e.hoverStatus&&e.play()}))},lazyLoad:function(){var t,n,i,s,o,a=this;if(a.options.lazyLoad===!1)return!1;for(t=0;t<a.itemsAmount;t+=1)n=e(a.$owlItems[t]),"loaded"!==n.data("owl-loaded")&&(i=n.data("owl-item"),s=n.find(".lazyOwl"),"string"==typeof s.data("src")?(void 0===n.data("owl-loaded")&&(s.hide(),n.addClass("loading").data("owl-loaded","checked")),o=a.options.lazyFollow===!0?i>=a.currentItem:!0,o&&i<a.currentItem+a.options.items&&s.length&&s.each(function(){a.lazyPreload(n,e(this))})):n.data("owl-loaded","loaded"))},lazyPreload:function(e,n){function i(){e.data("owl-loaded","loaded").removeClass("loading"),n.removeAttr("data-src"),"fade"===a.options.lazyEffect?n.fadeIn(400):n.show(),"function"==typeof a.options.afterLazyLoad&&a.options.afterLazyLoad.apply(this,[a.$elem])}function s(){r+=1,a.completeImg(n.get(0))||o===!0?i():100>=r?t.setTimeout(s,100):i()}var o,a=this,r=0;"DIV"===n.prop("tagName")?(n.css("background-image","url("+n.data("src")+")"),o=!0):n[0].src=n.data("src"),s()},autoHeight:function(){function n(){var n=e(o.$owlItems[o.currentItem]).height();o.wrapperOuter.css("height",n+"px"),o.wrapperOuter.hasClass("autoHeight")||t.setTimeout(function(){o.wrapperOuter.addClass("autoHeight")},0)}function i(){s+=1,o.completeImg(a.get(0))?n():100>=s?t.setTimeout(i,100):o.wrapperOuter.css("height","")}var s,o=this,a=e(o.$owlItems[o.currentItem]).find("img");void 0!==a.get(0)?(s=0,i()):n()},completeImg:function(e){var t;return e.complete?(t=typeof e.naturalWidth,"undefined"!==t&&0===e.naturalWidth?!1:!0):!1},onVisibleItems:function(){var t,n=this;for(n.options.addClassActive===!0&&n.$owlItems.removeClass("active"),n.visibleItems=[],t=n.currentItem;t<n.currentItem+n.options.items;t+=1)n.visibleItems.push(t),n.options.addClassActive===!0&&e(n.$owlItems[t]).addClass("active");n.owl.visibleItems=n.visibleItems},transitionTypes:function(e){var t=this;t.outClass="owl-"+e+"-out",t.inClass="owl-"+e+"-in"},singleItemTransition:function(){function e(e){return{position:"relative",left:e+"px"}}var t=this,n=t.outClass,i=t.inClass,s=t.$owlItems.eq(t.currentItem),o=t.$owlItems.eq(t.prevItem),a=Math.abs(t.positionsInArray[t.currentItem])+t.positionsInArray[t.prevItem],r=Math.abs(t.positionsInArray[t.currentItem])+t.itemWidth/2,l="webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend";t.isTransition=!0,t.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":r+"px","-moz-perspective-origin":r+"px","perspective-origin":r+"px"}),o.css(e(a,10)).addClass(n).on(l,function(){t.endPrev=!0,o.off(l),t.clearTransStyle(o,n)}),s.addClass(i).on(l,function(){t.endCurrent=!0,s.off(l),t.clearTransStyle(s,i)})},clearTransStyle:function(e,t){var n=this;e.css({position:"",left:""}).removeClass(t),n.endPrev&&n.endCurrent&&(n.$owlWrapper.removeClass("owl-origin"),n.endPrev=!1,n.endCurrent=!1,n.isTransition=!1)},owlStatus:function(){var e=this;e.owl={userOptions:e.userOptions,baseElement:e.$elem,userItems:e.$userItems,owlItems:e.$owlItems,currentItem:e.currentItem,prevItem:e.prevItem,visibleItems:e.visibleItems,isTouch:e.browser.isTouch,browser:e.browser,dragDirection:e.dragDirection}},clearEvents:function(){var i=this;i.$elem.off(".owl owl mousedown.disableTextSelect"),e(n).off(".owl owl"),e(t).off("resize",i.resizer)},unWrap:function(){var e=this;0!==e.$elem.children().length&&(e.$owlWrapper.unwrap(),e.$userItems.unwrap().unwrap(),e.owlControls&&e.owlControls.remove()),e.clearEvents(),e.$elem.attr({style:e.$elem.data("owl-originalStyles")||"","class":e.$elem.data("owl-originalClasses")})},destroy:function(){var e=this;e.stop(),t.clearInterval(e.checkVisible),e.unWrap(),e.$elem.removeData()},reinit:function(t){var n=this,i=e.extend({},n.userOptions,t);n.unWrap(),n.init(i,n.$elem)},addItem:function(e,t){var n,i=this;return e?0===i.$elem.children().length?(i.$elem.append(e),i.setVars(),!1):(i.unWrap(),n=void 0===t||-1===t?-1:t,n>=i.$userItems.length||-1===n?i.$userItems.eq(-1).after(e):i.$userItems.eq(n).before(e),void i.setVars()):!1},removeItem:function(e){var t,n=this;return 0===n.$elem.children().length?!1:(t=void 0===e||-1===e?-1:e,n.unWrap(),n.$userItems.eq(t).remove(),void n.setVars())}};e.fn.owlCarousel=function(t){return this.each(function(){if(e(this).data("owl-init")===!0)return!1;e(this).data("owl-init",!0);var n=Object.create(i);n.init(t,this),e.data(this,"owlCarousel",n)})},e.fn.owlCarousel.options={items:5,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:t,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!1,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}}(jQuery,window,document),function(e){function t(t){var n=t||window.event,i=[].slice.call(arguments,1),s=0,o=0,a=0;return t=e.event.fix(n),t.type="mousewheel",n.wheelDelta&&(s=n.wheelDelta/120),n.detail&&(s=-n.detail/3),a=s,void 0!==n.axis&&n.axis===n.HORIZONTAL_AXIS&&(a=0,o=-1*s),void 0!==n.wheelDeltaY&&(a=n.wheelDeltaY/120),void 0!==n.wheelDeltaX&&(o=-1*n.wheelDeltaX/120),i.unshift(t,s,o,a),(e.event.dispatch||e.event.handle).apply(this,i)}var n=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var i=n.length;i;)e.event.fixHooks[n[--i]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=n.length;e;)this.addEventListener(n[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=n.length;e;)this.removeEventListener(n[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery),function(e,t){var n,i=e.jQuery||e.Cowboy||(e.Cowboy={});i.throttle=n=function(e,n,s,o){function a(){function i(){l=+new Date,s.apply(c,d)}function a(){r=t}var c=this,u=+new Date-l,d=arguments;o&&!r&&i(),r&&clearTimeout(r),o===t&&u>e?i():n!==!0&&(r=setTimeout(o?a:i,o===t?e-u:e))}var r,l=0;return"boolean"!=typeof n&&(o=s,s=n,n=t),i.guid&&(a.guid=s.guid=s.guid||i.guid++),a},i.debounce=function(e,i,s){return s===t?n(e,i,!1):n(e,s,i!==!1)}}(this);var Froogaloop=function(){function e(t){return new e.fn.init(t)}function t(e,t,n){if(!n.contentWindow.postMessage)return!1;var i=n.getAttribute("src").split("?")[0],e=JSON.stringify({method:e,value:t});"//"===i.substr(0,2)&&(i=window.location.protocol+i),n.contentWindow.postMessage(e,i)}function n(e){var t,n;try{t=JSON.parse(e.data),n=t.event||t.method}catch(i){}if("ready"==n&&!o&&(o=!0),e.origin!=a)return!1;var e=t.value,r=t.data,l=""===l?null:t.player_id;return t=l?s[l][n]:s[n],n=[],t?(void 0!==e&&n.push(e),r&&n.push(r),l&&n.push(l),0<n.length?t.apply(null,n):t.call()):!1}function i(e,t,n){n?(s[n]||(s[n]={}),
s[n][e]=t):s[e]=t}var s={},o=!1,a="";return e.fn=e.prototype={element:null,init:function(e){"string"==typeof e&&(e=document.getElementById(e)),this.element=e,e=this.element.getAttribute("src"),"//"===e.substr(0,2)&&(e=window.location.protocol+e);for(var e=e.split("/"),t="",n=0,i=e.length;i>n&&3>n;n++)t+=e[n],2>n&&(t+="/");return a=t,this},api:function(e,n){if(!this.element||!e)return!1;var s=this.element,o=""!==s.id?s.id:null,a=n&&n.constructor&&n.call&&n.apply?null:n,r=n&&n.constructor&&n.call&&n.apply?n:null;return r&&i(e,r,o),t(e,a,s),this},addEvent:function(e,n){if(!this.element)return!1;var s=this.element,a=""!==s.id?s.id:null;return i(e,n,a),"ready"!=e?t("addEventListener",e,s):"ready"==e&&o&&n.call(null,a),this},removeEvent:function(e){if(!this.element)return!1;var n,i=this.element;e:{if((n=""!==i.id?i.id:null)&&s[n]){if(!s[n][e]){n=!1;break e}s[n][e]=null}else{if(!s[e]){n=!1;break e}s[e]=null}n=!0}"ready"!=e&&n&&t("removeEventListener",e,i)}},e.fn.init.prototype=e.fn,window.addEventListener?window.addEventListener("message",n,!1):window.attachEvent("onmessage",n),window.Froogaloop=window.$f=e}();!function(e){e.fn.FueledDragging=function(t,n){t=e.extend({element:"",startDragging:function(){},dragging:function(){},endDragging:function(){},outOfLoupe:function(){},docReady:function(){},draggingClass:"js-dragging",bodyClass:"js--fade-out"},t),""===t.element?$element=this:$element=t.element,t.docReady();var i;$element.on("mousedown touchstart",function(n){n.originalEvent.preventDefault(),t.startDragging(),""===t.element?$this=e(this).addClass(t.draggingClass):!1,i=!0;var s={};s.parentOffset=e(this).parent().offset(),s.height=$this.outerHeight(),s.width=$this.outerHeight(),s.posX=n.pageX-s.parentOffset.left,s.posY=n.pageY-s.parentOffset.top,s.newPosX=s.posX,e(document).on("touchmove",".loupe",function(n){if(i===!0){var o=n.originalEvent.touches[0];s.posX=o.pageX-s.parentOffset.left,s.posY=o.pageY-s.parentOffset.top,e(window).width()<=o.pageX+s.width/2||(s.newPosX=s.posX);var a={x:s.newPosX,y:s.posY};t.dragging(a,$this.attr("data-helper")),$this.css({top:s.posY,left:s.newPosX})}n.preventDefault()}),$this.on("mousemove",function(n){if(i===!0&&(s.posX=n.pageX-s.parentOffset.left,s.posY=n.pageY-s.parentOffset.top,e(window).width()<=n.pageX+s.width/2||(s.newPosX=s.posX),0!==n.which)){var o={x:s.newPosX,y:s.posY};t.dragging(o,$this.attr("data-helper")),$this.css({top:s.posY,left:s.newPosX}),n.preventDefault()}}),$this.on("mouseleave",function(e){i=!1,t.outOfLoupe()}),$this.on("mouseup touchend",function(n){i=!1;var o={x:s.posX,y:s.posY};t.endDragging(o),""===t.element?e(this).removeClass(t.draggingClass):!1})}),$element.parent().on("mouseup touchend",function(n){var s={};s.parentOffset=$element.parent().offset(),s.height=$element.outerHeight(),s.width=$element.outerHeight(),s.posX=n.pageX-s.parentOffset.left,s.posY=n.pageY-s.parentOffset.top,i=!1;var o={x:s.posX,y:s.posY};t.endDragging(o),""===t.element?e(this).removeClass(t.draggingClass):!1})}}(jQuery),function(e){"use strict";e.Transitions={_names:{transition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend"},_parseTimes:function(e){for(var t,n=e.split(/,\s*/),i=0;i<n.length;i++)t=n[i],n[i]=parseFloat(t),t.match(/\ds/)&&(n[i]=1e3*n[i]);return n},getEvent:function(){var e=!1;for(var t in this._names)if("undefined"!=typeof document.body.style[t]){e=this._names[t];break}return this.getEvent=function(){return e},e},animFrame:function(e){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame;return t?this.animFrame=function(e){return t.call(window,e)}:this.animFrame=function(e){return setTimeout(e,10)},this.animFrame(e)},isSupported:function(){return this.getEvent()!==!1}},e.extend(e.fn,{afterTransition:function(t,n){if("undefined"==typeof n&&(n=t,t=1),!e.Transitions.isSupported()){for(var i=0;i<this.length;i++)n.call(this[i],{type:"aftertransition",elapsedTime:0,propertyName:"",currentTarget:this[i]});return this}for(var i=0;i<this.length;i++){var s=e(this[i]),o=s.css("transition-property").split(/,\s*/),a=s.css("transition-duration"),r=s.css("transition-delay");a=e.Transitions._parseTimes(a),r=e.Transitions._parseTimes(r);for(var l,c,u,d,h,p=0;p<o.length;p++)l=o[p],c=a[1==a.length?0:p],u=r[1==r.length?0:p],d=u+c*t,h=c*t/1e3,function(t,i,s,o){setTimeout(function(){e.Transitions.animFrame(function(){n.call(t[0],{type:"aftertransition",elapsedTime:o,propertyName:i,currentTarget:t[0]})})},s)}(s,l,d,h)}return this},transitionEnd:function(t){for(var n=0;n<this.length;n++)this[n].addEventListener(e.Transitions.getEvent(),function(e){t.call(this,e)});return this}})}.call(this,jQuery),function(e){"use strict";e.ajaxChimp={responses:{"We have sent you a confirmation email":0,"Please enter a value":1,"An email address must contain a single @":2,"The domain portion of the email address is invalid (the portion after the @: )":3,"The username portion of the email address is invalid (the portion before the @: )":4,"This email address looks fake or invalid. Please enter a real email address":5},translations:{en:null},init:function(t,n){e(t).ajaxChimp(n)}},e.fn.ajaxChimp=function(t){return e(this).each(function(n,i){var s=e(i),o=s.find("input[type=email]"),a=s.find("label[for="+o.attr("id")+"]"),r=e.extend({url:s.attr("action"),language:"en"},t),l=r.url.replace("/post?","/post-json?").concat("&c=?");s.attr("novalidate","true"),o.attr("name","EMAIL"),s.submit(function(){function t(t){if("success"===t.result)n="We have sent you a confirmation email",a.removeClass("error").addClass("valid"),o.removeClass("error").addClass("valid");else{o.removeClass("valid").addClass("error"),a.removeClass("valid").addClass("error");var i=-1;try{var s=t.msg.split(" - ",2);if(void 0===s[1])n=t.msg;else{var l=parseInt(s[0],10);l.toString()===s[0]?(i=s[0],n=s[1]):(i=-1,n=t.msg)}}catch(c){i=-1,n=t.msg}}"en"!==r.language&&void 0!==e.ajaxChimp.responses[n]&&e.ajaxChimp.translations&&e.ajaxChimp.translations[r.language]&&e.ajaxChimp.translations[r.language][e.ajaxChimp.responses[n]]&&(n=e.ajaxChimp.translations[r.language][e.ajaxChimp.responses[n]]),a.html(n),a.show(2e3),r.callback&&r.callback(t)}var n,i={},c=s.serializeArray();e.each(c,function(e,t){i[t.name]=t.value}),e.ajax({url:l,data:i,success:t,dataType:"jsonp",error:function(e,t){console.log("mailchimp ajax submit error: "+t)}});var u="Submitting...";return"en"!==r.language&&e.ajaxChimp.translations&&e.ajaxChimp.translations[r.language]&&e.ajaxChimp.translations[r.language].submit&&(u=e.ajaxChimp.translations[r.language].submit),a.html(u).show(2e3),!1})}),this}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function t(e){return r.raw?e:encodeURIComponent(e)}function n(e){return r.raw?e:decodeURIComponent(e)}function i(e){return t(r.json?JSON.stringify(e):String(e))}function s(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(a," ")),r.json?JSON.parse(e):e}catch(t){}}function o(t,n){var i=r.raw?t:s(t);return e.isFunction(n)?n(i):i}var a=/\+/g,r=e.cookie=function(s,a,l){if(arguments.length>1&&!e.isFunction(a)){if(l=e.extend({},r.defaults,l),"number"==typeof l.expires){var c=l.expires,u=l.expires=new Date;u.setTime(+u+864e5*c)}return document.cookie=[t(s),"=",i(a),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var d=s?void 0:{},h=document.cookie?document.cookie.split("; "):[],p=0,m=h.length;m>p;p++){var f=h[p].split("="),g=n(f.shift()),v=f.join("=");if(s&&s===g){d=o(v,a);break}s||void 0===(v=o(v))||(d[g]=v)}return d};r.defaults={},e.removeCookie=function(t,n){return void 0===e.cookie(t)?!1:(e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t))}}),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,i,s){return jQuery.easing[jQuery.easing.def](e,t,n,i,s)},easeInQuad:function(e,t,n,i,s){return i*(t/=s)*t+n},easeOutQuad:function(e,t,n,i,s){return-i*(t/=s)*(t-2)+n},easeInOutQuad:function(e,t,n,i,s){return(t/=s/2)<1?i/2*t*t+n:-i/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,i,s){return i*(t/=s)*t*t+n},easeOutCubic:function(e,t,n,i,s){return i*((t=t/s-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,i,s){return(t/=s/2)<1?i/2*t*t*t+n:i/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,i,s){return i*(t/=s)*t*t*t+n},easeOutQuart:function(e,t,n,i,s){return-i*((t=t/s-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,i,s){return(t/=s/2)<1?i/2*t*t*t*t+n:-i/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,i,s){return i*(t/=s)*t*t*t*t+n},easeOutQuint:function(e,t,n,i,s){return i*((t=t/s-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,i,s){return(t/=s/2)<1?i/2*t*t*t*t*t+n:i/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,i,s){return-i*Math.cos(t/s*(Math.PI/2))+i+n},easeOutSine:function(e,t,n,i,s){return i*Math.sin(t/s*(Math.PI/2))+n},easeInOutSine:function(e,t,n,i,s){return-i/2*(Math.cos(Math.PI*t/s)-1)+n},easeInExpo:function(e,t,n,i,s){return 0==t?n:i*Math.pow(2,10*(t/s-1))+n},easeOutExpo:function(e,t,n,i,s){return t==s?n+i:i*(-Math.pow(2,-10*t/s)+1)+n},easeInOutExpo:function(e,t,n,i,s){return 0==t?n:t==s?n+i:(t/=s/2)<1?i/2*Math.pow(2,10*(t-1))+n:i/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,i,s){return-i*(Math.sqrt(1-(t/=s)*t)-1)+n},easeOutCirc:function(e,t,n,i,s){return i*Math.sqrt(1-(t=t/s-1)*t)+n},easeInOutCirc:function(e,t,n,i,s){return(t/=s/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+n:i/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,i,s){var o=1.70158,a=0,r=i;if(0==t)return n;if(1==(t/=s))return n+i;if(a||(a=.3*s),r<Math.abs(i)){r=i;var o=a/4}else var o=a/(2*Math.PI)*Math.asin(i/r);return-(r*Math.pow(2,10*(t-=1))*Math.sin((t*s-o)*(2*Math.PI)/a))+n},easeOutElastic:function(e,t,n,i,s){var o=1.70158,a=0,r=i;if(0==t)return n;if(1==(t/=s))return n+i;if(a||(a=.3*s),r<Math.abs(i)){r=i;var o=a/4}else var o=a/(2*Math.PI)*Math.asin(i/r);return r*Math.pow(2,-10*t)*Math.sin((t*s-o)*(2*Math.PI)/a)+i+n},easeInOutElastic:function(e,t,n,i,s){var o=1.70158,a=0,r=i;if(0==t)return n;if(2==(t/=s/2))return n+i;if(a||(a=s*(.3*1.5)),r<Math.abs(i)){r=i;var o=a/4}else var o=a/(2*Math.PI)*Math.asin(i/r);return 1>t?-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t*s-o)*(2*Math.PI)/a))+n:r*Math.pow(2,-10*(t-=1))*Math.sin((t*s-o)*(2*Math.PI)/a)*.5+i+n},easeInBack:function(e,t,n,i,s,o){return void 0==o&&(o=1.70158),i*(t/=s)*t*((o+1)*t-o)+n},easeOutBack:function(e,t,n,i,s,o){return void 0==o&&(o=1.70158),i*((t=t/s-1)*t*((o+1)*t+o)+1)+n},easeInOutBack:function(e,t,n,i,s,o){return void 0==o&&(o=1.70158),(t/=s/2)<1?i/2*(t*t*(((o*=1.525)+1)*t-o))+n:i/2*((t-=2)*t*(((o*=1.525)+1)*t+o)+2)+n},easeInBounce:function(e,t,n,i,s){return i-jQuery.easing.easeOutBounce(e,s-t,0,i,s)+n},easeOutBounce:function(e,t,n,i,s){return(t/=s)<1/2.75?i*(7.5625*t*t)+n:2/2.75>t?i*(7.5625*(t-=1.5/2.75)*t+.75)+n:2.5/2.75>t?i*(7.5625*(t-=2.25/2.75)*t+.9375)+n:i*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,n,i,s){return s/2>t?.5*jQuery.easing.easeInBounce(e,2*t,0,i,s)+n:.5*jQuery.easing.easeOutBounce(e,2*t-s,0,i,s)+.5*i+n}}),OnScreen.prototype.addItem=function(e,t){var n={screen:{top:0,right:0,bottom:0,left:0},target:{top:0,right:0,bottom:0,left:0},screenEnterClass:"js-screenenter",screenLeaveClass:"js-screenleave",onScreenEnter:null,onScreenLeave:null,onScreenMove:null,fireScreenMoveOffScreen:!1,disableScreenMove:!1},i=this.items.length;return this.items[i]={element:e,options:this.util.mergeObjects(n,t||{}),onscreen:!1,side:"bottom"},this.map[e]=i,this.items[i]},OnScreen.prototype.updateItem=function(e,t){var n=parseInt(this.map[e]);return n>=0&&n<this.items.length&&this.items[n]&&(this.items[n].options=this.util.mergeObjects(this.items[n].options,t||{})),this.items[n]},OnScreen.prototype.removeItem=function(e){var t=parseInt(this.map[e]);t>=0&&t<this.items.length&&(this.items.splice(t,1),this.map[e]=null,delete this.map[e])},OnScreen.prototype.empty=function(){this.items=[],this.map={}},OnScreen.prototype.dispose=function(){this.empty(),this.options.scroll&&this.options.scrollContainer.forEach(function(e){e.removeEventListener("scroll",this.update)},this),this.options.resize&&window.removeEventListener("resize",this.update),this.options.load&&window.removeEventListener("load",this.update)},!function(e,t,n,i){"use strict";e.jribbble={};var s=null,o="https://api.dribbble.com/v1",a=["animated","attachments","debuts","playoffs","rebounds","teams"],r={token:"Jribbble: Missing Dribbble access token. Set one with $.jribbble.accessToken = YOUR_ACCESS_TOKEN. If you do not have an access token, you must register a new application at https://dribbble.com/account/applications/new",singular:function(e){return e.substr(0,e.length-1)},idRequired:function(e){return"Jribbble: You have to provide a "+this.singular(e)+' ID. ex: $.jribbble.%@("1234").'.replace(/%@/g,e)},subResource:function(e){return"Jribbble: You have to provide a "+this.singular(e)+' ID to get %@. ex: $.jribbble.%@("1234").%@()'.replace(/%@/g,e)},shotId:function(e){return"Jribbble: You have to provide a shot ID to get %@. ex: "+' $.jribbble.shots("1234").%@()'.replace(/%@/g,e)},commentLikes:'Jribbble: You have to provide a comment ID to get likes. ex:  $.jribbble.shots("1234").comments("456").likes()'},l=function(e,t){if(e&&"object"!=typeof e)return e;throw new Error(r.idRequired(t))},c=function(e){var t={};return e.forEach(function(e){t[e]=m.call(this,e)}.bind(this)),t},u=function(t){var n=e.param(t);return n?"?"+n:""},d=function(e){if(0!==e.length){var t=e[0],n=typeof t,i={};if("number"===n||"string"===n){var s=a.indexOf(t);s>-1?i.list=t:i.resource=t}else"object"===n&&(i=t);return i}},h=function(){var t=e.extend({},e.Deferred()),n=function(){return this.methods=[],this.response=null,this.flushed=!1,this.add=function(e){this.flushed?e(this.scope):this.methods.push(e)},this.flush=function(e){if(!this.flushed){for(this.scope=e,this.flushed=!0;this.methods[0];)this.methods.shift()(e);return e}},this};return t.queue=new n,t.url=o,t.get=function(){return s?(e.ajax({type:"GET",url:this.url,beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+s)},success:function(e){this.resolve(e)}.bind(this),error:function(e){this.reject(e)}.bind(this)}),this):(console.error(r.token),!1)},t},p=function(t){return function(n){return e.extend(this,h()),this.queue.add(function(e){e.url+="/"+t+"/"+n}),setTimeout(function(){this.queue.flush(this).get()}.bind(this)),this}},m=function(e){return function(t){return this.queue.add(function(n){n.url+="/"+e+"/"+u(t||{})}),this}};e.jribbble.shots=function(t,n){var i=d([].slice.call(arguments))||{},s=n||{},o=function(t){return function(n,i){var s=d([].slice.call(arguments))||{},o=i||{};return this.queue.add(function(n){if(!n.shotId)throw new Error(r.shotId(t));n.url+="/"+t+"/",s.resource&&(n.url+=s.resource,delete s.resource),n.url+=u(e.extend(s,o))}),this}},a=function(){return e.extend(this,h()),this.url+="/shots/",this.queue.add(function(t){i.resource&&(t.shotId=i.resource,t.url+=i.resource,delete i.resource),t.url+=u(e.extend(i,s))}),setTimeout(function(){this.queue.flush(this).get()}.bind(this)),this};return a.prototype.attachments=o("attachments"),a.prototype.buckets=o("buckets"),a.prototype.likes=o("likes"),a.prototype.projects=o("projects"),a.prototype.rebounds=o("rebounds"),a.prototype.comments=function(t,n){var i=d([].slice.call(arguments))||{},s=n||{};return this.queue.add(function(t){if(!t.shotId)throw new Error(r.shotId("comments"));t.url+="/comments/",i.resource&&(t.commentId=i.resource,t.url+=i.resource+"/",delete i.resource),t.url+=u(e.extend(i,s))}),this.likes=function(e){var t=e||{};return this.queue.add(function(e){if(!e.commentId)throw new Error(r.commentLikes);e.url+="likes/"+u(t)}),this},this},new a},e.jribbble.teams=function(e){var t="teams",n=l(e,t),i=p.call(this,t);return i.prototype=c.call(this,["members","shots"]),new i(n)},e.jribbble.users=function(e){var t="users",n=l(e,t),i=p.call(this,t);return i.prototype=c.call(this,["buckets","followers","following","likes","projects","shots","teams"]),i.prototype.isFollowing=function(e){return this.queue.add(function(t){t.url+="/following/"+e}),this},new i(n)},e.jribbble.buckets=function(e){var t="buckets",n=l(e,t),i=p.call(this,t);return i.prototype=c.call(this,["shots"]),new i(n)},e.jribbble.projects=function(e){var t="projects",n=l(e,t),i=p.call(this,t);return i.prototype=c.call(this,["shots"]),new i(n)},e.jribbble.setToken=function(e){return s=e,this}}(jQuery,window,document),function(){var e,t;e=function(){function e(e,t){var n,i;if(this.options={target:"instafeed",get:"popular",resolution:"thumbnail",sortBy:"none",links:!0,mock:!1,useHttp:!1},"object"==typeof e)for(n in e)i=e[n],this.options[n]=i;this.context=null!=t?t:this,this.unique=this._genKey()}return e.prototype.hasNext=function(){return"string"==typeof this.context.nextUrl&&this.context.nextUrl.length>0},e.prototype.next=function(){return this.hasNext()?this.run(this.context.nextUrl):!1},e.prototype.run=function(t){var n,i,s;if("string"!=typeof this.options.clientId&&"string"!=typeof this.options.accessToken)throw new Error("Missing clientId or accessToken.");if("string"!=typeof this.options.accessToken&&"string"!=typeof this.options.clientId)throw new Error("Missing clientId or accessToken.");return null!=this.options.before&&"function"==typeof this.options.before&&this.options.before.call(this),"undefined"!=typeof document&&null!==document&&(s=document.createElement("script"),s.id="instafeed-fetcher",s.src=t||this._buildUrl(),n=document.getElementsByTagName("head"),n[0].appendChild(s),i="instafeedCache"+this.unique,window[i]=new e(this.options,this),window[i].unique=this.unique),!0},e.prototype.parse=function(e){var t,n,i,s,o,a,r,l,c,u,d,h,p,m,f,g,v,w,y,b,_,$;if("object"!=typeof e){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,"Invalid JSON data"),!1;throw new Error("Invalid JSON response")}if(200!==e.meta.code){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,e.meta.error_message),!1;throw new Error("Error from Instagram: "+e.meta.error_message)}if(0===e.data.length){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,"No images were returned from Instagram"),!1;throw new Error("No images were returned from Instagram")}if(null!=this.options.success&&"function"==typeof this.options.success&&this.options.success.call(this,e),this.context.nextUrl="",null!=e.pagination&&(this.context.nextUrl=e.pagination.next_url),"none"!==this.options.sortBy)switch(m="random"===this.options.sortBy?["","random"]:this.options.sortBy.split("-"),p="least"===m[0]?!0:!1,m[1]){case"random":e.data.sort(function(){return.5-Math.random()});break;case"recent":e.data=this._sortBy(e.data,"created_time",p);break;case"liked":e.data=this._sortBy(e.data,"likes.count",p);break;case"commented":e.data=this._sortBy(e.data,"comments.count",p);break;default:throw new Error("Invalid option for sortBy: '"+this.options.sortBy+"'.")}if("undefined"!=typeof document&&null!==document&&this.options.mock===!1){if(l=e.data,null!=this.options.limit&&l.length>this.options.limit&&(l=l.slice(0,this.options.limit+1||9e9)),n=document.createDocumentFragment(),null!=this.options.filter&&"function"==typeof this.options.filter&&(l=this._filter(l,this.options.filter)),null!=this.options.template&&"string"==typeof this.options.template){for(s="",a="",u="",f=document.createElement("div"),g=0,y=l.length;y>g;g++)o=l[g],r=o.images[this.options.resolution].url,this.options.useHttp||(r=r.replace("http://","//")),a=this._makeTemplate(this.options.template,{model:o,id:o.id,link:o.link,image:r,caption:this._getObjectProperty(o,"caption.text"),likes:o.likes.count,comments:o.comments.count,location:this._getObjectProperty(o,"location.name")}),s+=a;for(f.innerHTML=s,$=[].slice.call(f.childNodes),v=0,b=$.length;b>v;v++)h=$[v],n.appendChild(h)}else for(w=0,_=l.length;_>w;w++)o=l[w],c=document.createElement("img"),r=o.images[this.options.resolution].url,this.options.useHttp||(r=r.replace("http://","//")),c.src=r,this.options.links===!0?(t=document.createElement("a"),t.href=o.link,t.appendChild(c),n.appendChild(t)):n.appendChild(c);document.getElementById(this.options.target).appendChild(n),i=document.getElementsByTagName("head")[0],i.removeChild(document.getElementById("instafeed-fetcher")),d="instafeedCache"+this.unique,window[d]=void 0;try{delete window[d]}catch(C){}}return null!=this.options.after&&"function"==typeof this.options.after&&this.options.after.call(this),!0},e.prototype._buildUrl=function(){var e,t,n;switch(e="https://api.instagram.com/v1",this.options.get){case"popular":t="media/popular";break;case"tagged":if("string"!=typeof this.options.tagName)throw new Error("No tag name specified. Use the 'tagName' option.");t="tags/"+this.options.tagName+"/media/recent";break;case"location":if("number"!=typeof this.options.locationId)throw new Error("No location specified. Use the 'locationId' option.");t="locations/"+this.options.locationId+"/media/recent";break;case"user":if("number"!=typeof this.options.userId)throw new Error("No user specified. Use the 'userId' option.");if("string"!=typeof this.options.accessToken)throw new Error("No access token. Use the 'accessToken' option.");t="users/"+this.options.userId+"/media/recent";break;default:throw new Error("Invalid option for get: '"+this.options.get+"'.")}return n=""+e+"/"+t,n+=null!=this.options.accessToken?"?access_token="+this.options.accessToken:"?client_id="+this.options.clientId,null!=this.options.limit&&(n+="&count="+this.options.limit),n+="&callback=instafeedCache"+this.unique+".parse"},e.prototype._genKey=function(){var e;return e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},""+e()+e()+e()+e()},e.prototype._makeTemplate=function(e,t){var n,i,s,o,a;for(i=/(?:\{{2})([\w\[\]\.]+)(?:\}{2})/,n=e;i.test(n);)s=n.match(i)[1],o=null!=(a=this._getObjectProperty(t,s))?a:"",n=n.replace(i,""+o);return n},e.prototype._getObjectProperty=function(e,t){var n,i;for(t=t.replace(/\[(\w+)\]/g,".$1"),i=t.split(".");i.length;){if(n=i.shift(),!(null!=e&&n in e))return null;e=e[n]}return e},e.prototype._sortBy=function(e,t,n){var i;return i=function(e,i){var s,o;return s=this._getObjectProperty(e,t),o=this._getObjectProperty(i,t),n?s>o?1:-1:o>s?1:-1},e.sort(i.bind(this)),e},e.prototype._filter=function(e,t){var n,i,s,o,a;for(n=[],s=function(e){return t(e)?n.push(e):void 0},o=0,a=e.length;a>o;o++)i=e[o],s(i);return n},e}(),t="undefined"!=typeof exports&&null!==exports?exports:window,t.Instafeed=e}.call(this),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e){if(null===f){for(var t=e.length,n=0,i=document.getElementById(o),s="<ul>";t>n;)s+="<li>"+e[n]+"</li>",n++;i.innerHTML=s+"</ul>"}else f(e)}function t(e){return e.replace(/<b[^>]*>(.*?)<\/b>/gi,function(e,t){return t}).replace(/class="(?!(tco-hidden|tco-display|tco-ellipsis))+.*?"|data-query-source=".*?"|dir=".*?"|rel=".*?"/gi,"")}function n(e){e=e.getElementsByTagName("a");for(var t=e.length-1;t>=0;t--)e[t].setAttribute("target","_blank")}function i(e,t){for(var n=[],i=new RegExp("(^| )"+t+"( |$)"),s=e.getElementsByTagName("*"),o=0,a=s.length;a>o;o++)i.test(s[o].className)&&n.push(s[o]);return n}function s(e){return void 0!==e&&0<=e.innerHTML.indexOf("data-srcset")?(e=e.innerHTML.match(/data-srcset="([A-z0-9%_\.-]+)/i)[0],decodeURIComponent(e).split('"')[1]):void 0}var o="",a=20,r=!0,l=[],c=!1,u=!0,d=!0,h=null,p=!0,m=!0,f=null,g=!0,v=!1,w=!0,y=!0,b=!1,_=null,$={fetch:function(e){if(void 0===e.maxTweets&&(e.maxTweets=20),void 0===e.enableLinks&&(e.enableLinks=!0),void 0===e.showUser&&(e.showUser=!0),void 0===e.showTime&&(e.showTime=!0),void 0===e.dateFunction&&(e.dateFunction="default"),void 0===e.showRetweet&&(e.showRetweet=!0),void 0===e.customCallback&&(e.customCallback=null),void 0===e.showInteraction&&(e.showInteraction=!0),void 0===e.showImages&&(e.showImages=!1),void 0===e.linksInNewWindow&&(e.linksInNewWindow=!0),void 0===e.showPermalinks&&(e.showPermalinks=!0),void 0===e.dataOnly&&(e.dataOnly=!1),c)l.push(e);else{c=!0,o=e.domId,a=e.maxTweets,r=e.enableLinks,d=e.showUser,u=e.showTime,m=e.showRetweet,h=e.dateFunction,f=e.customCallback,g=e.showInteraction,v=e.showImages,w=e.linksInNewWindow,y=e.showPermalinks,b=e.dataOnly;var t=document.getElementsByTagName("head")[0];null!==_&&t.removeChild(_),_=document.createElement("script"),_.type="text/javascript",_.src=void 0!==e.list?"https://syndication.twitter.com/timeline/list?callback=twitterFetcher.callback&dnt=false&list_slug="+e.list.listSlug+"&screen_name="+e.list.screenName+"&suppress_response_codes=true&lang="+(e.lang||"en")+"&rnd="+Math.random():void 0!==e.profile?"https://syndication.twitter.com/timeline/profile?callback=twitterFetcher.callback&dnt=false&screen_name="+e.profile.screenName+"&suppress_response_codes=true&lang="+(e.lang||"en")+"&rnd="+Math.random():void 0!==e.likes?"https://syndication.twitter.com/timeline/likes?callback=twitterFetcher.callback&dnt=false&screen_name="+e.likes.screenName+"&suppress_response_codes=true&lang="+(e.lang||"en")+"&rnd="+Math.random():"https://cdn.syndication.twimg.com/widgets/timelines/"+e.id+"?&lang="+(e.lang||"en")+"&callback=twitterFetcher.callback&suppress_response_codes=true&rnd="+Math.random(),t.appendChild(_)}},callback:function(o){function f(e){var t=e.getElementsByTagName("img")[0];return t.src=t.getAttribute("data-src-2x"),e}o.body=o.body.replace(/(<img[^c]*class="Emoji[^>]*>)|(<img[^c]*class="u-block[^>]*>)/g,""),v||(o.body=o.body.replace(/(<img[^c]*class="NaturalImage-image[^>]*>|(<img[^c]*class="CroppedImage-image[^>]*>))/g,"")),d||(o.body=o.body.replace(/(<img[^c]*class="Avatar"[^>]*>)/g,""));var _=document.createElement("div");_.innerHTML=o.body,"undefined"==typeof _.getElementsByClassName&&(p=!1),o=[];var C=[],x=[],S=[],k=[],T=[],D=[],L=0;if(p)for(_=_.getElementsByClassName("timeline-Tweet");L<_.length;)0<_[L].getElementsByClassName("timeline-Tweet-retweetCredit").length?k.push(!0):k.push(!1),(!k[L]||k[L]&&m)&&(o.push(_[L].getElementsByClassName("timeline-Tweet-text")[0]),T.push(_[L].getAttribute("data-tweet-id")),d&&C.push(f(_[L].getElementsByClassName("timeline-Tweet-author")[0])),x.push(_[L].getElementsByClassName("dt-updated")[0]),D.push(_[L].getElementsByClassName("timeline-Tweet-timestamp")[0]),void 0!==_[L].getElementsByClassName("timeline-Tweet-media")[0]?S.push(_[L].getElementsByClassName("timeline-Tweet-media")[0]):S.push(void 0)),L++;else for(_=i(_,"timeline-Tweet");L<_.length;)0<i(_[L],"timeline-Tweet-retweetCredit").length?k.push(!0):k.push(!1),(!k[L]||k[L]&&m)&&(o.push(i(_[L],"timeline-Tweet-text")[0]),T.push(_[L].getAttribute("data-tweet-id")),d&&C.push(f(i(_[L],"timeline-Tweet-author")[0])),x.push(i(_[L],"dt-updated")[0]),D.push(i(_[L],"timeline-Tweet-timestamp")[0]),void 0!==i(_[L],"timeline-Tweet-media")[0]?S.push(i(_[L],"timeline-Tweet-media")[0]):S.push(void 0)),L++;o.length>a&&(o.splice(a,o.length-a),C.splice(a,C.length-a),x.splice(a,x.length-a),k.splice(a,k.length-a),S.splice(a,S.length-a),D.splice(a,D.length-a));var _=[],L=o.length,I=0;if(b)for(;L>I;)_.push({tweet:o[I].innerHTML,author:C[I]?C[I].innerHTML:"Unknown Author",time:x[I].textContent,timestamp:x[I].getAttribute("datetime").replace("+0000","Z").replace(/([\+\-])(\d\d)(\d\d)/,"$1$2:$3"),image:s(S[I]),rt:k[I],tid:T[I],permalinkURL:void 0===D[I]?"":D[I].href}),I++;else for(;L>I;){if("string"!=typeof h){var k=x[I].getAttribute("datetime"),A=new Date(x[I].getAttribute("datetime").replace(/-/g,"/").replace("T"," ").split("+")[0]),k=h(A,k);if(x[I].setAttribute("aria-label",k),o[I].textContent)if(p)x[I].textContent=k;else{var A=document.createElement("p"),P=document.createTextNode(k);A.appendChild(P),A.setAttribute("aria-label",k),x[I]=A}else x[I].textContent=k}k="",r?(w&&(n(o[I]),d&&n(C[I])),d&&(k+='<div class="user">'+t(C[I].innerHTML)+"</div>"),k+='<p class="tweet">'+t(o[I].innerHTML)+"</p>",u&&(k=y?k+('<p class="timePosted"><a href="'+D[I]+'">'+x[I].getAttribute("aria-label")+"</a></p>"):k+('<p class="timePosted">'+x[I].getAttribute("aria-label")+"</p>"))):(d&&(k+='<p class="user">'+C[I].textContent+"</p>"),k+='<p class="tweet">'+o[I].textContent+"</p>",u&&(k+='<p class="timePosted">'+x[I].textContent+"</p>")),g&&(k+='<p class="interact"><a href="https://twitter.com/intent/tweet?in_reply_to='+T[I]+'" class="twitter_reply_icon"'+(w?' target="_blank">':">")+'Reply</a><a href="https://twitter.com/intent/retweet?tweet_id='+T[I]+'" class="twitter_retweet_icon"'+(w?' target="_blank">':">")+'Retweet</a><a href="https://twitter.com/intent/favorite?tweet_id='+T[I]+'" class="twitter_fav_icon"'+(w?' target="_blank">':">")+"Favorite</a></p>"),v&&void 0!==S[I]&&void 0!==s(S[I])&&(k+='<div class="media"><img src="'+s(S[I])+'" alt="Image from tweet" /></div>'),v?_.push(k):!v&&o[I].textContent.length&&_.push(k),I++}e(_),c=!1,0<l.length&&($.fetch(l[0]),l.splice(0,1))}};return window.twitterFetcher=$}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){if(!e.support.cors&&e.ajaxTransport&&window.XDomainRequest){var t=/^https?:\/\//i,n=/^get|post$/i,i=new RegExp("^"+location.protocol,"i");e.ajaxTransport("* text html xml json",function(s,o,a){if(s.crossDomain&&s.async&&n.test(s.type)&&t.test(s.url)&&i.test(s.url)){var r=null;return{send:function(t,n){var i="",a=(o.dataType||"").toLowerCase();r=new XDomainRequest,/^\d+$/.test(o.timeout)&&(r.timeout=o.timeout),r.ontimeout=function(){n(500,"timeout")},r.onload=function(){var t="Content-Length: "+r.responseText.length+"\r\nContent-Type: "+r.contentType,i={code:200,message:"success"},s={text:r.responseText};try{if("html"===a||/text\/html/i.test(r.contentType))s.html=r.responseText;else if("json"===a||"text"!==a&&/\/json/i.test(r.contentType))try{s.json=e.parseJSON(r.responseText)}catch(o){i.code=500,i.message="parseerror"}else if("xml"===a||"text"!==a&&/\/xml/i.test(r.contentType)){var l=new ActiveXObject("Microsoft.XMLDOM");l.async=!1;try{l.loadXML(r.responseText)}catch(o){l=void 0}if(!l||!l.documentElement||l.getElementsByTagName("parsererror").length)throw i.code=500,i.message="parseerror","Invalid XML: "+r.responseText;s.xml=l}}catch(c){throw c}finally{n(i.code,i.message,s,t)}},r.onprogress=function(){},r.onerror=function(){n(500,"error",{text:r.responseText})},o.data&&(i="string"===e.type(o.data)?o.data:e.param(o.data)),r.open(s.type,s.url),r.send(i)},abort:function(){r&&r.abort()}}}})}}),function(e){e.address=function(){var t,n,i=function(t){var n=e.extend(e.Event(t),function(){for(var t={},n=e.address.parameterNames(),i=0,s=n.length;s>i;i++)t[n[i]]=e.address.parameter(n[i]);return{value:e.address.value(),path:e.address.path(),pathNames:e.address.pathNames(),parameterNames:n,parameters:t,loadType:e.address.loadType(),queryString:e.address.queryString()}}.call(e.address));return e(e.address).trigger(n),n},s=function(e){return Array.prototype.slice.call(e)},o=function(t,n,i){return e().bind.apply(e(e.address),Array.prototype.slice.call(arguments)),e.address},a=function(t,n){return e().unbind.apply(e(e.address),Array.prototype.slice.call(arguments)),e.address},r=function(){return W.pushState&&B.state!==t},l=function(){return("/"+U.pathname.replace(new RegExp(B.state),"")+U.search+(c()?"#"+c():"")).replace(Q,"/")},c=function(){var e=U.href.indexOf("#");return-1!=e?m(U.href.substr(e+1),E):""},u=function(){return r()?l():c()},d=function(){try{return top.document!==t&&top.document.title!==t?top:window}catch(e){return window}},h=function(){return"javascript"},p=function(e){return e=e.toString(),
(B.strict&&"/"!=e.substr(0,1)?"/":"")+e},m=function(e,t){return B.crawlable&&t?(""!==e?"!":"")+e:e.replace(/^\!/,"")},f=function(e,t){return parseInt(e.css(t),10)},g=function(){if(!ee){var e=u(),t=decodeURI(se)!=decodeURI(e);t&&(H&&7>N?U.reload():(H&&!G&&B.history&&Y(b,50),_old=se,se=e,v(E)))}},v=function(e){var t=i(P),n=i(e?j:F);Y(y,10),(t.isDefaultPrevented()||n.isDefaultPrevented())&&w()},w=function(){se=_old,r()?W.popState({},"",B.state.replace(/\/$/,"")+(""===se?"/":se)):(ee=M,z?B.history?U.hash="#"+m(se,M):U.replace("#"+m(se,M)):se!=u()&&(B.history?U.hash="#"+m(se,M):U.replace("#"+m(se,M))),H&&!G&&B.history&&Y(b,50),z?Y(function(){ee=E},1):ee=E)},y=function(){if("null"!==B.tracker&&B.tracker!==T){var n=e.isFunction(B.tracker)?B.tracker:R[B.tracker],i=(U.pathname+U.search+(e.address&&!r()?e.address.value():"")).replace(/\/\//,"/").replace(/^\/$/,"");e.isFunction(n)?n(i):e.isFunction(R.urchinTracker)?R.urchinTracker(i):R.pageTracker!==t&&e.isFunction(R.pageTracker._trackPageview)?R.pageTracker._trackPageview(i):R._gaq!==t&&e.isFunction(R._gaq.push)&&R._gaq.push(["_trackPageview",decodeURI(i)])}},b=function(){var e=h()+":"+E+";document.open();document.writeln('<html><head><title>"+q.title.replace(/\'/g,"\\'")+"</title><script>var "+D+' = "'+encodeURIComponent(u()).replace(/\'/g,"\\'")+(q.domain!=U.hostname?'";document.domain="'+q.domain:"")+"\";</script></head></html>');document.close();";7>N?n.src=e:n.contentWindow.location.replace(e)},_=function(){if(J&&-1!=K){var e,t,n=J.substr(K+1).split("&");for(e=0;e<n.length;e++)t=n[e].split("="),/^(autoUpdate|crawlable|history|strict|wrap)$/.test(t[0])&&(B[t[0]]=isNaN(t[1])?/^(true|yes)$/i.test(t[1]):0!==parseInt(t[1],10)),/^(state|tracker)$/.test(t[0])&&(B[t[0]]=t[1]);J=T}_old=se,se=u()},$=function(){if(!te){te=M,_();var s=function(){C.call(this),k.call(this)},o=e("body").ajaxComplete(s);if(s(),B.wrap&&(e("body > *").wrapAll('<div style="padding:'+(f(o,"marginTop")+f(o,"paddingTop"))+"px "+(f(o,"marginRight")+f(o,"paddingRight"))+"px "+(f(o,"marginBottom")+f(o,"paddingBottom"))+"px "+(f(o,"marginLeft")+f(o,"paddingLeft"))+'px;" />').parent().wrap('<div id="'+D+'" style="height:100%;overflow:auto;position:relative;'+(z&&!window.statusbar.visible?"resize:both;":"")+'" />'),e("html, body").css({height:"100%",margin:0,padding:0,overflow:"hidden"}),z&&e('<style type="text/css" />').appendTo("head").text("#"+D+"::-webkit-resizer { background-color: #fff; }")),H&&!G){var a=q.getElementsByTagName("frameset")[0];n=q.createElement((a?"":"i")+"frame"),n.src=h()+":"+E,a?(a.insertAdjacentElement("beforeEnd",n),a[a.cols?"cols":"rows"]+=",0",n.noResize=M,n.frameBorder=n.frameSpacing=0):(n.style.display="none",n.style.width=n.style.height=0,n.tabIndex=-1,q.body.insertAdjacentElement("afterBegin",n)),Y(function(){e(n).bind("load",function(){var e=n.contentWindow;_old=se,se=e[D]!==t?e[D]:"",se!=u()&&(v(E),U.hash=m(se,M))}),n.contentWindow[D]===t&&b()},50)}Y(function(){i("init"),v(E)},1),r()||(H&&N>7||!H&&G?R.addEventListener?R.addEventListener(I,g,E):R.attachEvent&&R.attachEvent("on"+I,g):X(g,50)),"state"in window.history&&e(window).trigger("popstate")}},C=function(){var t,n=e("a"),i=n.size(),s=1,o=-1,a='[rel*="address:"]',r=function(){++o!=i&&(t=e(n.get(o)),t.is(a)&&t.address(a),Y(r,s))};Y(r,s)},x=function(){decodeURI(se)!=decodeURI(u())&&(_old=se,se=u(),v(E))},S=function(){R.removeEventListener?R.removeEventListener(I,g,E):R.detachEvent&&R.detachEvent("on"+I,g)},k=function(){if(B.crawlable){var t=U.pathname.replace(/\/$/,""),n="_escaped_fragment_";-1!=e("body").html().indexOf(n)&&e('a[href]:not([href^=http]), a[href*="'+document.domain+'"]').each(function(){var i=e(this).attr("href").replace(/^http:/,"").replace(new RegExp(t+"/?$"),"");(""===i||-1!=i.indexOf(n))&&e(this).attr("href","#"+encodeURI(decodeURIComponent(i.replace(new RegExp("/(.*)\\?"+n+"=(.*)$"),"!$2"))))})}},T=null,D="jQueryAddress",L="string",I="hashchange",A="init",P="change",j="internalChange",F="externalChange",M=!0,E=!1,B={autoUpdate:M,crawlable:E,history:M,strict:M,loadType:null,wrap:E,state:"/"},O=e.browser,N=parseFloat(O.version),H=!e.support.opacity,z=O.webkit||O.safari,R=d(),q=R.document,W=R.history,U=R.location,X=setInterval,Y=setTimeout,Q=/\/{2,9}/g,V=navigator.userAgent,G="on"+I in R,J=e("script:last").attr("src"),K=J?J.indexOf("?"):-1,Z=q.title,ee=E,te=E,ne=M,ie=E,se=u();if(_old=se,H){N=parseFloat(V.substr(V.indexOf("MSIE")+4)),q.documentMode&&q.documentMode!=N&&(N=8!=q.documentMode?7:8);var oe=q.onpropertychange;q.onpropertychange=function(){oe&&oe.call(q),q.title!=Z&&-1!=q.title.indexOf("#"+u())&&(q.title=Z)}}if(W.navigationMode&&(W.navigationMode="compatible"),"complete"==document.readyState)var ae=setInterval(function(){e.address&&($(),clearInterval(ae))},50);else _(),e($);return e(window).bind("popstate",x).bind("unload",S),{bind:function(e,t,n){return o.apply(this,s(arguments))},unbind:function(e,t){return a.apply(this,s(arguments))},init:function(e,t){return o.apply(this,[A].concat(s(arguments)))},change:function(e,t){return o.apply(this,[P].concat(s(arguments)))},internalChange:function(e,t){return o.apply(this,[j].concat(s(arguments)))},externalChange:function(e,t){return o.apply(this,[F].concat(s(arguments)))},baseURL:function(){var e=U.href;return-1!=e.indexOf("#")&&(e=e.substr(0,e.indexOf("#"))),/\/$/.test(e)&&(e=e.substr(0,e.length-1)),e},autoUpdate:function(e){return e!==t?(B.autoUpdate=e,this):B.autoUpdate},crawlable:function(e){return e!==t?(B.crawlable=e,this):B.crawlable},history:function(e){return e!==t?(B.history=e,this):B.history},state:function(e){if(e!==t){B.state=e;var n=l();return B.state!==t&&(W.pushState?"/#/"==n.substr(0,3)&&U.replace(B.state.replace(/^\/$/,"")+n.substr(2)):"/"!=n&&n.replace(/^\/#/,"")!=c()&&Y(function(){U.replace(B.state.replace(/^\/$/,"")+"/#"+n)},1)),this}return B.state},strict:function(e){return e!==t?(B.strict=e,this):B.strict},tracker:function(e){return e!==t?(B.tracker=e,this):B.tracker},wrap:function(e){return e!==t?(B.wrap=e,this):B.wrap},update:function(){return ie=M,this.value(se),ie=E,this},title:function(e){return e!==t?(Y(function(){Z=q.title=e,ne&&n&&n.contentWindow&&n.contentWindow.document&&(n.contentWindow.document.title=e,ne=E)},50),this):q.title},value:function(e){if(e!==t){if(e=p(e),"/"==e&&(e=""),se==e&&!ie)return;return _old=se,se=e,(B.autoUpdate||ie)&&(v(M),r()?W[B.history?"pushState":"replaceState"]({},"",B.state.replace(/\/$/,"")+(""===se?"/":se)):(ee=M,z?B.history?U.hash="#"+m(se,M):U.replace("#"+m(se,M)):se!=u()&&(B.history?U.hash="#"+m(se,M):U.replace("#"+m(se,M))),H&&!G&&B.history&&Y(b,50),z?Y(function(){ee=E},1):ee=E)),this}return p(se)},path:function(e){if(e!==t){var n=this.queryString(),i=this.hash();return this.value(e+(n?"?"+n:"")+(i?"#"+i:"")),this}return p(se).split("#")[0].split("?")[0]},pathNames:function(){var e=this.path(),t=e.replace(Q,"/").split("/");return("/"==e.substr(0,1)||0===e.length)&&t.splice(0,1),"/"==e.substr(e.length-1,1)&&t.splice(t.length-1,1),t},queryString:function(e){if(e!==t){var n=this.hash();return this.value(this.path()+(e?"?"+e:"")+(n?"#"+n:"")),this}var i=se.split("?");return i.slice(1,i.length).join("?").split("#")[0]},parameter:function(n,i,s){var o,a;if(i!==t){var r=this.parameterNames();for(a=[],i=i===t||i===T?"":i.toString(),o=0;o<r.length;o++){var l=r[o],c=this.parameter(l);typeof c==L&&(c=[c]),l==n&&(c=i===T||""===i?[]:s?c.concat([i]):[i]);for(var u=0;u<c.length;u++)a.push(l+"="+c[u])}return-1==e.inArray(n,r)&&i!==T&&""!==i&&a.push(n+"="+i),this.queryString(a.join("&")),this}if(i=this.queryString()){var d=[];for(a=i.split("&"),o=0;o<a.length;o++){var h=a[o].split("=");h[0]==n&&d.push(h.slice(1).join("="))}if(0!==d.length)return 1!=d.length?d:d[0]}},parameterNames:function(){var t=this.queryString(),n=[];if(t&&-1!=t.indexOf("="))for(var i=t.split("&"),s=0;s<i.length;s++){var o=i[s].split("=")[0];-1==e.inArray(o,n)&&n.push(o)}return n},hash:function(e){if(e!==t)return this.value(se.split("#")[0]+(e?"#"+e:"")),this;var n=se.split("#");return n.slice(1,n.length).join("#")},loadType:function(e){return e!==t&&(B.loadType=e),B.loadType}}}(),e.fn.address=function(t){var n;if("string"==typeof t&&(n=t,t=void 0),!e(this).attr("address")){var i=function(n){if(n.shiftKey||n.ctrlKey||n.metaKey||2==n.which)return!0;if(e(this).is("a")){n.preventDefault();var i=t?t.call(this):/address:/.test(e(this).attr("rel"))?e(this).attr("rel").split("address:")[1].split(" ")[0]:void 0===e.address.state()||/^\/?$/.test(e.address.state())?e(this).attr("href").replace(/^(#\!?|\.)/,""):e(this).attr("href").replace(new RegExp("^(.*"+e.address.state()+"|\\.)"),"");e.address.value(i)}};e(n?n:this).live("click",i).live("submit",function(n){if(e(this).is("form")){n.preventDefault();var i=e(this).attr("action"),s=t?t.call(this):(-1!=i.indexOf("?")?i.replace(/&$/,""):i+"?")+e(this).serialize();e.address.value(s)}}).attr("address",!0)}return this}}(jQuery);var FLD=FLD||{};window.matchMedia=window.matchMedia||function(e,t){"use strict";var n,i=e.documentElement,s=i.firstElementChild||i.firstChild,o=e.createElement("body"),a=e.createElement("div");return a.id="mq-test-1",a.style.cssText="position:absolute;top:-100em",o.style.background="none",o.appendChild(a),function(e){return a.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',i.insertBefore(o,s),n=42===a.offsetWidth,i.removeChild(o),{matches:n,media:e}}}(document),function(){for(var e=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var i=(new Date).getTime(),s=Math.max(0,16-(i-e)),o=window.setTimeout(function(){t(i+s)},s);return e=i+s,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),"document"in self&&("classList"in document.createElement("_")?!function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,i=arguments.length;for(n=0;i>n;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}():!function(e){"use strict";if("Element"in e){var t="classList",n="prototype",i=e.Element[n],s=Object,o=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},a=Array[n].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},r=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},l=function(e,t){if(""===t)throw new r("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new r("INVALID_CHARACTER_ERR","String contains an invalid character");return a.call(e,t)},c=function(e){for(var t=o.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],i=0,s=n.length;s>i;i++)this.push(n[i]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},u=c[n]=[],d=function(){return new c(this)};if(r[n]=Error[n],u.item=function(e){return this[e]||null},u.contains=function(e){return e+="",-1!==l(this,e)},u.add=function(){var e,t=arguments,n=0,i=t.length,s=!1;do e=t[n]+"",-1===l(this,e)&&(this.push(e),s=!0);while(++n<i);s&&this._updateClassName()},u.remove=function(){var e,t,n=arguments,i=0,s=n.length,o=!1;do for(e=n[i]+"",t=l(this,e);-1!==t;)this.splice(t,1),o=!0,t=l(this,e);while(++i<s);o&&this._updateClassName()},u.toggle=function(e,t){e+="";var n=this.contains(e),i=n?t!==!0&&"remove":t!==!1&&"add";return i&&this[i](e),t===!0||t===!1?t:!n},u.toString=function(){return this.join(" ")},s.defineProperty){var h={get:d,enumerable:!0,configurable:!0};try{s.defineProperty(i,t,h)}catch(p){-2146823252===p.number&&(h.enumerable=!1,s.defineProperty(i,t,h))}}else s[n].__defineGetter__&&i.__defineGetter__(t,d)}}(self)),FLD.HtmlTag=$("html"),FLD.BodyTag=$("body"),FLD.Window=$(window),FLD.Header=$("#masthead"),FLD.HeaderHeight=56,Globals.prototype.clearSelection=function(){window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},FLD.Globals=new Globals;var globals=function(){};Array.prototype.clean=function(e){for(var t=0;t<this.length;t++)this[t]==e&&(this.splice(t,1),t--);return this},String.prototype.trunc=function(e,t){var n=this.length>e,i=n?this.substr(0,e-1):this;return i=t&&n?i.substr(0,i.lastIndexOf(" ")):i,n?i+"&nbsp;&hellip;":String(i)},String.prototype.capCase=function(){return this.charAt(0).toUpperCase()+this.slice(1)},function(){for(var e=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var i=(new Date).getTime(),s=Math.max(0,16-(i-e)),o=window.setTimeout(function(){t(i+s)},s);return e=i+s,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),$(document).ready(function(){}),updateOnScroll.prototype.onScroll=function(){return this.scrollTop};var getGoogleAnalyticsData=function(){var e="",t="",n="",s="",o="",a="",r="",l="__utmz",c="__utma";if(document.cookie.length>0&&(c_start=document.cookie.indexOf(l+"="),-1!=c_start&&(c_start=c_start+l.length+1,c_end=document.cookie.indexOf(";",c_start),-1==c_end&&(c_end=document.cookie.length),a=unescape(document.cookie.substring(c_start,c_end))),a_start=document.cookie.indexOf(c+"="),-1!=a_start&&(a_start=a_start+c.length+1,a_end=document.cookie.indexOf(";",a_start),-1==a_end&&(c_end=document.cookie.length),r=unescape(document.cookie.substring(a_start,a_end)))),""!=a){var u=a.split(".");if(u.length>=4){var d=u[4].split("|");for(i=0;i<d.length;i++)d[i].indexOf("utmcsr=")>=0&&(e=d[i].substring(d[i].indexOf("=")+1)),d[i].indexOf("utmccn=")>=0&&(t=d[i].substring(d[i].indexOf("=")+1)),d[i].indexOf("utmcmd=")>=0&&(n=d[i].substring(d[i].indexOf("=")+1)),d[i].indexOf("utmctr=")>=0&&(s=d[i].substring(d[i].indexOf("=")+1)),d[i].indexOf("utmcct=")>=0&&(o=d[i].substring(d[i].indexOf("=")+1))}}if(""!=r){var h=r.split(".");ac_domain_hash=h[0],ac_random_id=h[1],ac_time_initial_visit=h[2],ac_time_beginning_previous_visit=h[3],ac_time_beginning_current_visit=h[4],ac_session_counter=h[5]}var p={};return p.source=e,p.campaign=t,p.medium=n,p.term=s,p.content=o,""!=r&&(p.time_init=new Date(1e3*ac_time_initial_visit),p.time_begin=new Date(1e3*ac_time_beginning_previous_visit),p.time_begin_cur=new Date(1e3*ac_time_beginning_current_visit),p.times_visited=ac_session_counter),p};Contact.prototype.checkForRadioChange=function(e,t){var n=$(e),i=n[0].value,s="text"==n.attr("type"),o="form__field--budget__other"==n.attr("id")?!0:!1,a=$(".select--"+t),r=$(".select--"+t+" > div > span"),l=$('input[name="form__field--budget-text"]');o?(l.parent().addClass("input--other--show"),setTimeout(function(){l[0].focus()},100),r[0].innerHTML=l[0].value||"&nbsp;"):(l.parent().removeClass("input--other--show"),n.parent().siblings(".option--other").find("input").removeAttr("checked"),n.parent().siblings("[data-listener]").addClass("hidden"),s&&$('[name="form__field--'+t+'"]').removeAttr("checked"),""!=i&&(r[0].innerHTML=i+"&nbsp;",a.removeClass("js--select-active"))),this.approxBudgetValue=r[0].innerHTML.replace("&nbsp;","")},Contact.prototype.checkForCheckboxChange=function(e,t){var n=$(e),i=n.is(":checked"),s="text"==n.attr("type"),o=n[0].value,a=$(".select--"+t+" > div > span"),r=a.attr("title");if(s){var l=a.html(),c=a.attr("title");l=l.replace(this.otherString+", ",""),c=c.replace(this.otherString+", ",""),a[0].innerHTML=l,a.attr("title",c),this.otherString=o,a.append(o+", "),a.attr("title",r+o+", ")}if(i)"form__field--type__other"==n.attr("id")?this.showOther(n,a,r):(a.append(o+", "),a.attr("title",r+o+", "));else if("form__field--type__other"==n.attr("id")&&this.hideOther(n,a),!s){var l=a.html(),c=a.attr("title");l=l.replace(o+", ",""),c=c.replace(o+", ",""),a[0].innerHTML=l,a.attr("title",c)}var u=a[0].innerHTML.replace("&nbsp;","");u=u.substr(0,u.length-2),this.typeOfProjectValue=u},Contact.prototype.otherString="",Contact.prototype.showOther=function(e,t,n){var i=e[0].id;$('[data-listener="'+i+'"]').removeClass("hidden");var s=$('[data-listener="'+i+'"]').find("input")[0].value;""!==s&&(this.otherString=s,t.append(s+", "),t.attr("title",n+s+", "))},Contact.prototype.hideOther=function(e,t){var n=e[0].id;$('[data-listener="'+n+'"]').addClass("hidden");var i=t.html(),s=t.attr("title");i=i.replace(this.otherString+", ",""),s=s.replace(this.otherString+", ",""),t[0].innerHTML=i,t.attr("title",s)},Contact.prototype.displayDetailedForm=function(){FLD.HtmlTag.addClass("js--rfp-scroll"),setTimeout(function(){FLD.BodyTag.addClass("js--rfp-active").removeClass("js--rfp-inactive")},1),FLD.Header.removeClass("hide-nav"),$(".no-touch, .no-touch body").animate({scrollTop:0},100),Modernizr.touch&&($(window).scrollTop(0),$(".rfp").scrollTop(0)),FLD.Resize.Recalculate()},Contact.prototype.hideDetailedForm=function(){FLD.HtmlTag.removeClass("js--rfp-scroll"),setTimeout(function(){FLD.BodyTag.removeClass("js--rfp-active").addClass("js--rfp-inactive")},1),FLD.Resize.Recalculate()},Contact.prototype.insertThanksMessage=function(){var e=Modernizr.touch?"Tap":"Click",t='<div class="block block--red block--thank-you" data-js="close-thank-you-message"><div class="block__inner"><h2 class="block__title" data-copy="Message Sent!">Message Sent!</h2><p class="block__copy">Thank you for your enquiry. A member of our team will be in touch as soon as possible.</p><p class="block__copy block__copy--small">'+e+" anywhere to close.</p></div></div>";$("body").append(t),setTimeout(function(){$("body").addClass("show-thank-you")},50)},Contact.prototype.removeThanksMessage=function(){$("body").removeClass("show-thank-you"),setTimeout(function(){$(".block--thank-you").remove()},350)},$(function(){$.address.change(function(){"open"===$.address.parameter("status")&&FLD.Contact.displayDetailedForm(),"closed"===$.address.parameter("status")&&FLD.Contact.hideDetailedForm()})}),$(window).on("resize",function(){}),$(document).on("click",".js--rfp",function(e){e.preventDefault(),$.address.parameter("status","open")}),$(document).on("click",'[data-js="close-thank-you-message"]',function(e){FLD.Contact.removeThanksMessage(),e.preventDefault()}),$(document).on("click",".js--close-rfp",function(e){e.preventDefault(),$(".rfp__desc strong").remove(),$.address.parameter("status","closed")}),$(document).on("click",".select > div",function(e){$(this).parent().toggleClass("js--select-active")}),$(document).on("change",".select--type input",function(e){FLD.Contact.checkForCheckboxChange(this,"type")}),$(document).on("change",".select--budget input",function(e){FLD.Contact.checkForRadioChange(this,"budget")});var delay=function(){var e=0;return function(t,n){clearTimeout(e),e=setTimeout(t,n)}}();$(document).on("keyup",".form--contact input",function(e){var t=this;delay(function(){FLD.Contact.checkRequired(t)},500)}),$(document).on("blur",".form--contact input",function(){FLD.Contact.checkRequired(this)}),$(document).on("submit","#contact-form",function(e){e.preventDefault();var t=!0;$form=$(this),$form.find(".form__field.required").each(function(e,n){n=$(n),""===n.val()&&(t=!1,n.before('<span class="form__error"><b>!</b></span>'))});var n=function(e){return e.find("input[name='form__field--subject']").val()},i=function(e){return FLD.Contact.typeOfProjectValue},s=function(e){return FLD.Contact.approxBudgetValue},o=function(e){return FLD.Contact.approxDealValue};""!==n($form)&&(t=!1);var a={name:$form.find("input[name='form__field--name']").val(),phone_number:$form.find("input[name='form__field--phone']").val(),email:$form.find("input[name='form__field--email']").val(),website:$form.find("input[name='form__field--website']").val(),synopsis:$form.find("textarea[name='form__field--synopsis']").val(),org_name:$form.find("input[name='form__field--company']").val(),location:$form.find("input[name='form__field--location']").val(),web_referral_source:$form.find("input[name='form__field--referral']").val()||"Unknown",project_type:i($form),budget:s($form),deal_amount:o($form),opt_in_for_newsletter:$form.find("input[name='opt_in_for_newsletter']:checked").val(),subject:n($form)};if(t){var r=$.post($form.attr("action"),a);r.done(function(e){if(_gaq.push(["_trackEvent","Contact conversion","Successful contact form submission","Contact form conversion"]),Modernizr.history)FLD.Contact.insertThanksMessage(),$.address.value("/contact/?success=true"),$("input[checked]").removeAttr("checked"),$("#contact-form .btn--diamond").attr("disabled","disabled").addClass("btn--diamond--disabled");else{window.location.replace(window.location.protocol+"//"+window.location.host+"/contact/?success=true");var t=new Image(1,1);t.src="//www.googleadservices.com/pagead/conversion/994583268/?label=6YowCPOkm2AQ5MWg2gM&amp;guid=ON&amp;script=0",window.google_trackConversion({google_conversion_id:994583268,google_conversion_language:"en",google_conversion_format:"3",google_conversion_color:"ffffff",google_conversion_label:"6YowCPOkm2AQ5MWg2gM",google_remarketing_only:!1})}}),r.fail(function(){$(".loading-element__title").html("Whoopsy Daisy!"),$(".loading-element__description").html("Looks like there was a slight hiccup in <br/>submitting your form. Please try again."),$(".loading-element__background").append('<span class="loading-element__close"><i>&times;</i></span>')})}}),$(document).on("focus","#contact-form .form__field",function(e){$(this).siblings(".form__error").fadeOut(250,function(){$(this).remove()})}),$(document).on("click",".loading-element__close",function(e){$(".loading-element__close").remove(),$("body").removeClass("show-loading show-loading--ff form-sent"),e.preventDefault()}),$(document).on("click",".form--contact",function(e){var t=$(e.target).closest(".options"),n=$(e.target).closest(".select");if(t.length||n.length||($(".select").removeClass("js--select-active"),FLD.Contact.checkRequired()),t.length||n.length){var i=n.hasClass("js--select-active");$(".select").not(n).removeClass("js--select-active"),FLD.Contact.checkRequired(),n.length?i===!0&&n.addClass("js--select-active"):t.parent().addClass("js--select-active")}});var _contactSuccessMessage=function(){if("true"===getURLParameter("success")){var e=1===window.abVariant?$("#contact-form"):$(".contact__newsletter");e.before('<div class="form__thankyou"><p>Thank you for your message. We will get back to you as soon as possible.</p></div>')}};_contactSuccessMessage(),$(function(){getGoogleAnalyticsData()}),Jobs.prototype.jobsTrigger=null,Jobs.prototype.getJobBoard=function(){return $(".jobs_index .job__board")},Jobs.prototype.jobBoard=Jobs.prototype.getJobBoard(),Jobs.prototype.jobsIsotope=function(e){var t;FLD.Resize.BrowserWidth<900&&FLD.Resize.BrowserWidth>=768?t=2:FLD.Resize.BrowserWidth<768?t=1:(t=4,t=4.081632653),this.jobBoard.hasClass("isotope")&&this.jobBoard.isotope("destroy"),this.jobBoard.isotope({selector:".job",filter:e,resizable:!1,masonry:{columnWidth:Math.floor(parseInt(this.jobBoard.width())/t)}})},Jobs.prototype.onNewPageLoad=function(){"jobs"==FLD.PageType.type&&(this.jobBoard=this.getJobBoard(),this.jobsIsotope())},Jobs.prototype.onPageLeave=function(){this.jobBoard=null},FLD.Jobs=new Jobs,$(document).on("click",".job__category",function(e){var t=$(this);return t.hasClass("job__category--empty")?!1:($("body").hasClass("single-job")?(FLD.Jobs.jobsTrigger=t.attr("data-category-title"),$.address.value("/jobs/")):(t.toggleClass("js--active"),t.siblings().removeClass("js--active"),t.hasClass("js--active")?$(".job__board").isotope({filter:t.attr("data-category")}):$(".job__board").isotope({filter:"*"})),void e.preventDefault())}),$(document).on("click",".menu__item--jobs a",function(){FLD.Jobs.jobsTrigger=null,$(".job__category").removeClass("js--active")}),$(window).on("smartresize",function(){var e;e=FLD.Resize.BrowserWidth<900&&FLD.Resize.BrowserWidth>=768?2:FLD.Resize.BrowserWidth<768?1:4,$(".jobs_index .job__board").length&&$(".jobs_index .job__board").isotope({masonry:{columnWidth:Math.floor(parseInt($(".job__board").width())/e)}})}),function(){$("[data-vimeo-id]").click(function(e){var t=$(this),n=$("img",this),i=t.attr("href"),s=n.attr("src");$(".video__modal").fadeOut(200,function(){$(this).remove()}),t.after('<div class="video__modal"><div class="video__modal__frame"><img src="'+s+'" alt="" /><iframe onload="$(this).closest(\'.video__modal\').addClass(\'video__modal--loaded\')" src="'+i+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen /></div></div>'),setTimeout(function(){$(".video__modal").addClass("video__modal--created").one("click",function(e){e.preventDefault(),$(this).fadeOut(200,function(){$(this).remove()})})},100),e.preventDefault()}).each(function(e){var t=$(this),n=t.data("vimeo-id");$.ajax({type:"GET",url:"https://vimeo.com/api/v2/video/"+n+".json",jsonp:"callback",dataType:"jsonp",success:function(e){t.prepend('<img src="'+e[0].thumbnail_large+'" alt="" />')}})})}(),$(function(){FLD.Globals=new Globals,FLD.PageType=new PageType,FLD.Browser=new Browser,FLD.Throttle=new Throttle,FLD.Url=new Url,FLD.Resize=new Resize,FLD.cdn=new cdn,FLD.History=new History,FLD.Scroll=new Scroll,FLD.OnScreen=new ScrollHandler,FLD.FlexsliderServices=new Flexslider,FLD.NavigationHide=new NavigationHide,FLD.Member=new Member,FLD.CaseStudy=new CaseStudy,FLD.Contact=new Contact,FLD.Chimp=new Chimp,FLD.Jobs=new Jobs,FLD.NavigationHide=new NavigationHide,FLD.HomeProjects=new HomeProjects,FLD.ImageScroll=new ImageScroll,FLD.Slideshow=new Slideshow,FLD.MobileNavigation=new MobileNavigation,FLD.AboutScroll=new AboutScroll,FLD.HomepageMousewheel=new HomepageMousewheel,FLD.RandomQuote=new RandomQuote,FLD.RandomImage=new RandomImage,FLD.NavigationHome=new NavigationHome,FLD.ExperienceBg=new Background({selector:".block--experience-fueled",pageType:"home"}),FLD.HomeUI=new HomeUI,FLD.VideoReel=new VideoReel,FLD.ProjectsMenu=new ProjectsMenu,FLD.Press=new Press,FLD.Afterlight=new Afterlight,FLD.Verizon=new Verizon,FLD.Pollen=new Pollen,FLD.Bigpoint=new Bigpoint,FLD.WarbyParker=new WarbyParker;var e=$("body").hasClass("page-template-page-templatesfront-page-php")?$(".page--homepage-load"):$("body");e.imagesLoaded(function(e){$("body").addClass("page-loaded")})});